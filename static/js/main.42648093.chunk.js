(this.webpackJsonpadamant=this.webpackJsonpadamant||[]).push([[0],{190:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-04/schema#","id":"https://www.plasma-mds.org/schema/plasma-mds.json#","title":"Plasma Metadata Schema (Plasma-MDS)","description":"Metadata schema for annotation of research data (datasets) in the field of plasma science and technology. Aims to be attached to generic schemata like DCAT or DataCite Metadata Schema. Validates a Plasma-MDS extension.","type":"object","properties":{"id":{"title":"UUID","description":"System UUID for object identification.","type":"string"},"url":{"title":"URL","description":"Landing page (URL) of the dataset.","type":"string"},"source":{"title":"Plasma Source","description":"Device which creates the plasma by (partially) ionizing a given medium.","type":"object","properties":{"name":{"title":"Source Name","description":"Name and/or type of the plasma source used in the study. Examples: kINPen, COST Jet, CCP.","type":"string"},"application":{"title":"Source Application","description":"Application the plasma source is used for. Examples: decontamination, PECVD, etching.","type":"string"},"specification":{"title":"Source Specification","description":"Technical specification of the plasma source (waveform, frequency range, pressure range, temperature range).","type":"string"},"properties":{"title":"Source Properties","description":"Properties of the plasma source, e.g. geometry, power, current/voltage amplitude. Format is open. Example: power: 7 to 9 W; frequency: 27.12 MHz; electrodes: ring configuration, distance 5 mm, width 5 mm; capillary: inner diameter 4 mm, outer diameter 6 mm.","type":"string"},"procedure":{"title":"Source Procedure","description":"Procedure to prepare and use the plasma source. This field should be used to described the whole procedure, including medium and target. Format is open. Example: 15 min free run before treatment.","type":"string"}}},"medium":{"title":"Plasma Medium","description":"Gas, mixture of gases, or other substance, which is either (partially) ionized or otherwise activated by a source device.","type":"object","properties":{"name":{"title":"Medium Name","description":"Name of the medium the plasma source is operated in. Examples: dry air, Ar, CO2, water.","type":"string"},"properties":{"title":"Medium Properties","description":"Properties of the medium, e.g. carrier gas (mixture). Format is open. Example: gas fow rate: 100 sccm; carrier gas: Ar; precursor: HMDSO; gas mixture: Ar with 10 ppm HMDSO.","type":"string"},"procedure":{"title":"Medium Procedure","description":"Standard procedure to prepare the medium (pre-treatment). Format is open. Example: gas flow has to be established for at least 30 s before plasma ignition.","type":"string"}}},"target":{"title":"Plasma Target","description":"Substrate the plasma acts on, directly (target is/was in contact with a plasma) or mediated by an additional substance.","type":"object","properties":{"name":{"title":"Target Name","description":"Name of the target name the plasma source is acting on either directly or mediated by the above named medium. Examples: Si waver, distilled water, Escherichia coli.","type":"string"},"properties":{"title":"Target Properties","description":"Properties of the target. Format is open. Example: silicon wafer: 100 mm diameter, prime grade, orientation 100.","type":"string"},"procedure":{"title":"Target Procedure","description":"Standard procedure to prepare the target (pre-treatment). Format is open. Example: E. coli prepared on glass substrate according to internal procedure XY.","type":"string"}}},"diagnostics":{"title":"Diagnostics","description":"Measurement, modeling, or simulation method used to produce the digital resource.","type":"object","properties":{"name":{"title":"Diagnostics Name","description":"Name of the applied diagnostics and/or modelling/simulation methods. Examples: OES, SEM, PIC-MCC.","type":"string"},"properties":{"title":"Diagnostics Properties","description":"Details of the applied diagnostics. Format is open. Example: laser diode at 395 nm and 50 mW.","type":"string"},"procedure":{"title":"Diagnostics Procedure","description":"Description of the diagnostic procedure. Format is open. Example: Voltage was measured between the contact tube of the welding torch and the workpiece.","type":"string"}}},"resource":{"title":"Resource","description":"Digital object obtained by diagnostics","anyOf":[{"type":"array","items":{"type":"object","properties":{"id":{"title":"UUID","description":"System UUID for object identification.","type":"string"},"url":{"title":"URL","description":"Download link (URL) of the resource.","type":"string"},"filetype":{"title":"Resource Filetype","description":"File type of the resource. Examples: csv, pdf, png, txt.","type":"string"},"datatype":{"title":"Resource Datatype","description":"Data type of the resource. Examples: data table, SEM image, cfu-plot, high-speed video.","type":"string"},"range":{"title":"Resource Range","description":"Range in which the resource is valid. Example: wavelength range: 400-800 nm.","type":"string"},"quality":{"title":"Resource Quality","description":"Data quality score. One of: verified, published, reviewed.","type":"string","enum":["verified","published","reviewed"]}}},"minItems":1,"uniqueItems":true},{"type":"null"}]}}}')},191:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-04/schema#","id":"https://www.plasma-mds.org/schema/plasma-mds.json#","title":"Extended Plasma-MDS for PAK","description":"No description available","type":"object","properties":{"id":{"title":"UUID","description":"System UUID for object identification.","type":"string"},"url":{"title":"URL","description":"Landing page (URL) of the dataset.","type":"string"},"source":{"title":"Plasma Source","description":"Device which creates the plasma by (partially) ionizing a given medium.","type":"object","properties":{"name":{"title":"Source Name","description":"Name and/or type of the plasma source used in the study. Examples: kINPen, COST Jet, CCP.","type":"string"},"properties":{"title":"Source Properties","description":"Properties of the plasma source, e.g. geometry, power, current/voltage amplitude. Format is open. Example: power: 7 to 9 W; frequency: 27.12 MHz; electrodes: ring configuration, distance 5 mm, width 5 mm; capillary: inner diameter 4 mm, outer diameter 6 mm.","type":"object","properties":{"developedBy":{"title":"Developed By","description":"Entity that developed the plasma source.","type":"string"},"describedIn":{"title":"Described In","description":"Literature(s) that describes this plasma source.","type":"string"},"voltageFeed":{"title":"Voltage Feed","description":"Specification of the voltage feed used in this plasma source.","type":"object","properties":{"waveForm":{"title":"Waveform","description":"Voltage waveform (e.g, sine, square, triangle, etc).","type":"string","enum":["None","Sine","Square","Triangle","Sawtooth","Something else"]},"frequency":{"title":"Frequency [HZ]","description":"Voltage frequency.","type":"integer"},"amplitude":{"title":"Amplitude peak-to-peak [V]","description":"Voltage peak-to-peak amplitude.","type":"number"},"burst":{"title":"Burst","description":"Voltage burst.","type":"string"},"pulsed":{"title":"Pulsed?","description":"Is the voltage pulsed?","type":"boolean"},"dutyCycle":{"title":"Duty Cycle [%]","description":"Voltage duty cycle.","type":"number"}}},"inputPower":{"title":"Input Power [W]","description":"N/A","type":"number"},"pressure":{"title":"Pressure [Pa]. Atmospheric?","description":"N/A","type":"number"},"gasTemperature":{"title":"Gas Temperature [K]","description":"N/A","type":"number"},"geometry":{"title":"Geometry","description":"Geometry of the plasma source.","type":"string"},"gasFlow":{"title":"Gas Flow [slpm]","description":"Flow of plasma medium in standard litre per minute","type":"number"},"certified":{"title":"Certified?","description":"Certification status of the plasma source.","type":"boolean"},"commercial":{"title":"Commercially available?","description":"Availability of the plasma source in the commercial market.","type":"boolean"}}},"procedure":{"title":"Source Procedure","description":"Procedure to prepare and use the plasma source. This field should be used to described the whole procedure, including medium and target. Format is open. Example: 15 min free run before treatment.","type":"object","properties":{"runningInTime":{"title":"Running-in Time [s]","description":"N/A","type":"number"},"treatmentTime":{"title":"Treatment Time [s]","description":"N/A","type":"number"}}}}},"medium":{"title":"Plasma Medium","description":"Gas, mixture of gases, or other substance, which is either (partially) ionized or otherwise activated by a source device.","type":"object","properties":{"name":{"title":"Medium Name","description":"Name of the medium the plasma source is operated in. Examples: dry air, Ar, CO2, water.","type":"string"},"properties":{"title":"Medium Properties","description":"Properties of the medium, e.g. carrier gas (mixture). Format is open. Example: gas fow rate: 100 sccm; carrier gas: Ar; precursor: HMDSO; gas mixture: Ar with 10 ppm HMDSO.","type":"object","properties":{"stateOfMatter":{"title":"State of Matter","description":"State of matter (here gas for example).","type":"object","properties":{"gasTemperature":{"title":"Gas Temperature [K]","description":"N/A","type":"number"},"gasPressure":{"title":"Gas Pressure [Pa]","description":"N/A","type":"number"},"composition":{"title":"Gas Composition","description":"N/A","type":"object","properties":{"element":{"title":"Element","description":"E.g. Argon, Helium, etc.","type":"string"},"chemicalCompound":{"title":"Chemical Compound","description":"N/A","type":"string"}}},"flow":{"title":"Flow [slpm]","description":"N/A","type":"number"}}}}}}},"target":{"title":"Plasma Target","description":"Substrate the plasma acts on, directly (target is/was in contact with a plasma) or mediated by an additional substance.","type":"object","properties":{"name":{"title":"Target Name","description":"Name of the target name the plasma source is acting on either directly or mediated by the above named medium. Examples: Si waver, distilled water, Escherichia coli.","type":"string"},"properties":{"title":"Target Properties","description":"Properties of the target. Format is open. Example: silicon wafer: 100 mm diameter, prime grade, orientation 100.","type":"string"},"procedure":{"title":"Target Procedure","description":"Standard procedure to prepare the target (pre-treatment). Format is open. Example: E. coli prepared on glass substrate according to internal procedure XY.","type":"string"}}},"diagnostics":{"title":"Diagnostics","description":"Measurement, modeling, or simulation method used to produce the digital resource.","type":"object","properties":{"name":{"title":"Diagnostics Name","description":"Name of the applied diagnostics and/or modelling/simulation methods. Examples: OES, SEM, PIC-MCC.","type":"string"},"properties":{"title":"Diagnostics Properties","description":"Details of the applied diagnostics. Format is open. Example: laser diode at 395 nm and 50 mW.","type":"string"},"procedure":{"title":"Diagnostics Procedure","description":"Description of the diagnostic procedure. Format is open. Example: Voltage was measured between the contact tube of the welding torch and the workpiece.","type":"string"}}},"resource":{"title":"Resource","description":"Digital object obtained by diagnostics","anyOf":[{"type":"array","items":{"type":"object","properties":{"id":{"title":"UUID","description":"System UUID for object identification.","type":"string"},"url":{"title":"URL","description":"Download link (URL) of the resource.","type":"string"},"filetype":{"title":"Resource Filetype","description":"File type of the resource. Examples: csv, pdf, png, txt.","type":"string"},"datatype":{"title":"Resource Datatype","description":"Data type of the resource. Examples: data table, SEM image, cfu-plot, high-speed video.","type":"string"},"range":{"title":"Resource Range","description":"Range in which the resource is valid. Example: wavelength range: 400-800 nm.","type":"string"},"quality":{"title":"Resource Quality","description":"Data quality score. One of: verified, published, reviewed.","type":"string","enum":["verified","published","reviewed"]}}},"minItems":1,"uniqueItems":true},{"type":"null"}]}}}')},192:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-04/schema#","id":"n/a","title":"APPJ Schema","description":"Some schema description","type":"object","properties":{"name":{"title":"Name","description":"Name of the plasma source device","type":"string"},"powerValue":{"title":"Power [W]","description":"Power dissipated in the plasma","type":"number"},"reflectedPower":{"title":"Reflected power  [%]","description":"Part of the  input power which is reflected and not coupled to the electrode","type":"number"},"amplitudeValue":{"title":"Voltage  (p-p) [V]","description":"Peak-to-peak voltage","type":"number"},"frequencyValue":{"title":"Frequency  [Hz]","description":"Frequency of the voltage signal","type":"number"},"burstMode":{"title":"Burst mode","description":"Power supply  mode where the voltage signal is switched between on and off mode","type":"boolean"},"burstPeriodValue":{"title":"Burst period [s]","description":"Time from the  start of one burst to the start of next burst","type":"number"},"burstCountValue":{"title":"Burst counts","description":"Number of cycles  in on mode","type":"number"},"gasMix":{"title":"Gas (mixture)","description":"Feed gas and admixture","type":"string"},"gasFlowRateValue":{"title":"Gas flow rate  [slm]","description":"Flow rate of the gas (mixture) in which the plasma is ignited","type":"number"},"gasTemperatureValue":{"title":"Gas temperature  [K]","description":"Gas temperature","type":"number"},"gasPressureValue":{"title":"Gas pressure  [Pa]","description":"Gas pressure","type":"number"},"ambTemperature":{"title":"Ambient temperature [\xb0C]","description":"Temperature within lab/environment","type":"number"},"ambHumidityRel":{"title":"Ambient rel. humidity [%]","description":"Relative humidity within lab/environment","type":"number"},"ambPressure":{"title":"Ambient pressure [Pa]","description":"Pressure within lab/environment","type":"number"}},"required":["name","powerValue","amplitudeValue","frequencyValue","gasMix","gasTemperatureValue","gasPressureValue","ambTemperature","ambHumidityRel","ambPressure"]}')},193:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-04/schema#","id":"https://all-types","title":"All JSON Schema data types","description":"A schema containing all JSON schema data types to test ADAMANT functionalities.","type":"object","properties":{"stringType":{"title":"String Type Field","description":"String Type Field","type":"string"},"stringEnumType":{"title":"String Type Field with Enumerate","description":"String Type Field with Enumerate","type":"string","enum":["1","2","3"]},"numberType":{"title":"Number Type Field","description":"Number Type Field","default":0.415,"type":"number"},"numberEnumType":{"title":"Number Type Field with Enumerate","description":"Number Type Field Enumerate","enum":[0.1,0.2,0.3],"type":"number"},"integerType":{"title":"Integer Type Field","description":"Integer Type Field","default":415,"type":"integer"},"integerEnumType":{"title":"Integer Type Field with Enumerate","description":"Integer Type Field with Enumerate","enum":[1,2,3,4],"type":"integer"},"booleanType":{"title":"Boolean Type Field","description":"Boolean Type Field","type":"boolean","default":true},"booleanType2":{"title":"Boolean Type Field","description":"Boolean Type Field","type":"boolean"},"arrayTypeEmpty":{"title":"Array Type Field (empty)","description":"Array Type Field (empty)","type":"array","items":{}},"arrayTypeString":{"title":"Array Type Field (string)","description":"Array Type Field (string)","type":"array","items":{"type":"string"}},"arrayTypeNumber":{"title":"Array Type Field (number)","description":"Array Type Field (number)","type":"array","items":{"type":"number"}},"arrayTypeInteger":{"title":"Array Type Field (integer)","description":"Array Type Field (integer)","type":"array","items":{"type":"integer"}},"arrayTypeObject":{"title":"Array Type Field (object)","description":"Array Type Field (object)","type":"array","items":{"type":"object","properties":{"arrayTypeObject_string":{"title":"arrayTypeObject_string","description":"arrayTypeObject_string","type":"string"},"arrayTypeObject_number":{"title":"arrayTypeObject_number","description":"arrayTypeObject_number","type":"number"},"arrayTypeObject_integer":{"title":"arrayTypeObject_integer","description":"arrayTypeObject_integer","type":"integer"}}}},"objectType":{"title":"Object Type Element","description":"Object Type Element","type":"object","properties":{}},"anyOf":{"title":"AnyOf Keyword","description":"AnyOf Keyword","anyOf":[{"type":"array","items":{"type":"string"}},{"type":"boolean"}]}}}')},307:function(e,t,i){},461:function(e,t){},542:function(e,t,i){"use strict";i.r(t);var r,a,n,l,o,s,c,d,p,u,f,j,h,b,m,g,y,v,O,x,S=i(0),I=i(22),w=i.n(I),D=i(188),C=(i(307),i(31)),T=i(9),k=i(5),_=i(108),F=i.p+"static/media/header-image.37bfe931.png",N=i(584),E=i(608),A=i(26),q=i.n(A),R=i(27),P=i.n(R),V=i(545),J=i(592),L=i(589),B=i(613),W=i(591),U=i(590),z=i(593),K=i(588),M=function(e,t){if(void 0===t)return e.properties;var i=JSON.parse(JSON.stringify(e));t=t.split(".");for(var r=i,a=0;a<t.length;a++)r=r[t[a]];return r},$=function(e,t,i){var r;if(void 0===t){e.properties.forEach((function(e){if(e.fieldKey===i)return r=!0}))}else{var a=M(e,t).properties;if(void 0===a){var n=t.split(".");n.pop(),n=n.join("."),M(e,n).forEach((function(e){if(e.fieldKey===i)return r=!0}))}else a.forEach((function(e){if(e.fieldKey===i)return r=!0}))}return!!r},H=i(597),G=i(594),Y=i(595),X=Object(S.createContext)(null),Q=i(611),Z=i(598),ee=i(37),te=function(e){var t=e.selectedType,r=e.path,a=e.requiredChecked,n=e.field_key,l=e.convertedSchema;"object"===t&&(a=!1);var o=i(21),s=r.split(".");s.pop(),s.pop();var c=function(e,t){var i=JSON.parse(JSON.stringify(e));t=t.split(".");for(var r=i,a=0;a<t.length;a++)r=r[t[a]];return r}(l,s=s.join("."));if(void 0!==c)if(void 0!==c.required){var d=c.required;a?(d.push(n),o(l,s+".required",d=Object(ee.a)(new Set(d)))):d.includes(n)&&(o(l,s+".required",d=d.filter((function(e){return e!==n}))),0===d.length&&(delete c.required,o(l,s,c)))}else{if(a)o(l,s+".required",["".concat(n)])}else if(void 0!==l.required){var p=l.required;a?(p.push(n),p=Object(ee.a)(new Set(p)),l.required=p):p.includes(n)&&(p=p.filter((function(e){return e!==n})),l.required=p,0===p.length&&delete l.required)}else if(a){var u=["".concat(n)];l.required=u}return l},ie=i(55),re=i.n(ie),ae=i(1),ne=(Object(N.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),function(e){var t=e.field_uri,r=e.enumerated,a=e.field_enumerate,n=e.field_required,l=e.field_key,o=e.UISchema,s=e.path,c=e.pathFormData,d=e.openDialog,p=e.setOpenDialog,u=e.defaultValue,f=Object(S.useState)(o.type),j=Object(k.a)(f,2),h=j[0],b=j[1],m=Object(S.useState)(o.title),g=Object(k.a)(m,2),y=g[0],v=g[1],O=Object(S.useState)(o.fieldKey),x=Object(k.a)(O,2),I=x[0],w=x[1],D=Object(S.useState)(o.$id),C=Object(k.a)(D,2),T=C[0],_=C[1],F=Object(S.useState)(o.description),N=Object(k.a)(F,2),A=N[0],R=N[1],P=Object(S.useState)(u),M=Object(k.a)(P,2),ee=M[0],ie=M[1],ne=Object(S.useContext)(X),le=ne.updateParent,oe=ne.convertedSchema,se=ne.updateFormDataId,ce=Object(S.useState)(void 0!==n&&n),de=Object(k.a)(ce,2),pe=de[0],ue=de[1],fe=Object(S.useState)(void 0!==r&&r),je=Object(k.a)(fe,2),he=je[0],be=je[1],me=Object(S.useState)(void 0===a?[]:a),ge=Object(k.a)(me,2),ye=ge[0],ve=ge[1],Oe=JSON.parse(JSON.stringify(o)),xe=!1;["string","number","integer","object","array","boolean"].includes(o.type)||(xe=!0);var Se=function(){void 0===ee&void 0===u||""===ee.toString().replace(/\s+/g,"")&void 0===u||"boolean"===h&""===ee.toString().replace(/\s+/g,"")&void 0===u||("boolean"===h&""!==ee.toString().replace(/\s+/g,"")&void 0!==u?Oe.defaultValue="true"===ee:""===ee.toString().replace(/\s+/g,"")?delete Oe.defaultValue:Oe.defaultValue=ee);var e=$(oe,s,I);if(o.fieldKey!==I&&e)alert("Field ID already exists!");else if(void 0===I|""===I.replace(/\s+/g,""))alert("Field ID must be defined!");else{Oe.fieldKey=I,void 0!==T&&""!==T.toString().replace(/\s+/g,"")&&(Oe.$id=T),Oe.type=h,void 0!==y&&(Oe.title=y),void 0!==A&&(Oe.description=A),"object"===Oe.type&void 0===Oe.properties&&(Oe.properties=[]),"array"===Oe.type&void 0===Oe.items&&(Oe.items={}),["string","integer","number"].includes(Oe.type)||be(!1);var t=i(21);t(oe,s,Oe);var r=te({selectedType:h,path:s,requiredChecked:pe,field_key:l,convertedSchema:oe});if(["string","integer","number"].includes(Oe.type)&he){var a=ye;switch(Oe.type){case"string":Array.isArray(a)?t(r,s+".enumerate",a):(a=a.replace(/\s*,\s*/g,","),t(r,s+".enumerate",a.split(",")));case"integer":if(Array.isArray(a)){var n=a.map((function(e){return parseInt(e,10)}));t(r,s+".enumerate",n.filter((function(e){return"NaN"!==e.toString()})))}else{var d=(a=a.replace(/\s*,\s*/g,",")).split(",").map((function(e){return parseInt(e,10)}));t(r,s+".enumerate",d.filter((function(e){return"NaN"!==e.toString()})))}case"number":if(Array.isArray(a)){var f=a.map((function(e){return parseFloat(e,10)}));t(r,s+".enumerate",f.filter((function(e){return"NaN"!==e.toString()})))}else{var j=(a=a.replace(/\s*,\s*/g,",")).split(",").map((function(e){return parseFloat(e,10)}));t(r,s+".enumerate",j.filter((function(e){return"NaN"!==e.toString()})))}}}le(r),p(!1),se(l,I,c,u)}},Ie=function(e,t){switch(t){case"type":return b(e.target.value);case"title":return v(e.target.value);case"description":return R(e.target.value);case"fieldkey":return w(e.target.value.replace(/ /g,"_"));case"defaultValue":return ie(e.target.value);case"$id":return _(e.target.value);default:return null}},we=function(){Oe=JSON.parse(JSON.stringify(o)),p(!1),ve(a),ie(u),b(o.type)},De=function(){ue((function(e){return!e}))};return Object(ae.jsx)(ae.Fragment,{children:xe?Object(ae.jsxs)(B.a,{open:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ae.jsx)(K.a,{id:"alert-dialog-title",children:Object(ae.jsxs)("div",{style:{display:"inline-flex",width:"100%",verticalAlign:"middle"},children:[Object(ae.jsx)(q.a,{fontSize:"large",color:"primary",style:{alignSelf:"center"}}),Object(ae.jsxs)("div",{style:{width:"100%",alignSelf:"center"},children:['Edit "',Oe.title,'"']}),Object(ae.jsx)(V.a,{onClick:function(){return we()},children:Object(ae.jsx)(re.a,{fontSize:"large",color:"secondary"})})]})}),Object(ae.jsx)(L.a,{}),Object(ae.jsxs)(U.a,{children:['We are sorry! Editing feature for the "',o.type,'" type/keyword is not yet implemented.']}),Object(ae.jsxs)(W.a,{children:[Object(ae.jsx)(J.a,{onClick:function(){return we()},color:"secondary",children:"Cancel"}),Object(ae.jsx)(J.a,{disabled:!0,onClick:function(){return Se()},color:"primary",autoFocus:!0,children:"Save"})]})]}):Object(ae.jsxs)(B.a,{open:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ae.jsx)(K.a,{id:"alert-dialog-title",children:Object(ae.jsxs)("div",{style:{display:"inline-flex",width:"100%",verticalAlign:"middle"},children:[Object(ae.jsx)(q.a,{fontSize:"large",color:"primary",style:{alignSelf:"center"}}),Object(ae.jsxs)("div",{style:{width:"100%",alignSelf:"center"},children:['Edit "',Oe.title,'"']}),Object(ae.jsx)(V.a,{onClick:function(){return we()},children:Object(ae.jsx)(re.a,{fontSize:"large",color:"secondary"})})]})}),Object(ae.jsx)(L.a,{}),Object(ae.jsx)(U.a,{children:Object(ae.jsx)(z.a,{id:"alert-dialog-description",component:"span",children:Object(ae.jsxs)("div",{children:[Object(ae.jsxs)(G.a,{component:"widget-type",children:[Object(ae.jsx)(Y.a,{style:{color:"#01579b"},component:"legend",children:"Basic Descriptors:"}),Object(ae.jsx)(E.a,{margin:"normal",required:!0,onChange:function(e){return Ie(e,"fieldKey")},style:{marginTop:"20px"},defaultValue:l,variant:"outlined",fullWidth:!0,label:"Field Key",helperText:'A unique json key for this field. Usually short and no spaces (use "_" instead). Spaces are replaced automatically with "_" upon saving.'}),Object(ae.jsx)(E.a,{margin:"normal",onChange:function(e){return Ie(e,"$id")},style:{marginTop:"10px"},defaultValue:t,variant:"outlined",fullWidth:!0,label:"Field ID/URI",helperText:"ID or URI for this field if available."}),Object(ae.jsx)(E.a,{margin:"normal",onChange:function(e){return Ie(e,"title")},style:{marginTop:"10px"},defaultValue:Oe.title,variant:"outlined",fullWidth:!0,label:"Field Title",helperText:'Label or title of the field. For a field that requires a unit, the unit can be placed within a square bracket, e,g., "Chamber Pressure [Pa]".'}),Object(ae.jsx)(E.a,{margin:"normal",onChange:function(e){return Ie(e,"description")},style:{marginTop:"10px"},defaultValue:Oe.description,variant:"outlined",fullWidth:!0,label:"Field Description",multiline:!0,rows:3,helperText:"A detailed description of the field, how the input should be formated, etc."}),Object(ae.jsx)(E.a,{margin:"normal",helperText:"Data type of the field input.",onChange:function(e){return Ie(e,"type")},style:{marginTop:"10px"},defaultValue:Oe.type,select:!0,fullWidth:!0,id:l,label:"Field Data Type",variant:"outlined",SelectProps:{native:!0},children:["string","number","integer","object","array","boolean"].map((function(e,t){return Object(ae.jsx)("option",{value:e,children:e},t)}))}),["string","integer","number"].includes(h)?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(H.a,{control:Object(ae.jsx)(Q.a,{onChange:function(){be((function(e){return!e}))},checked:he}),label:"Enumerated. Choose from an available list of inputs."}),Object(ae.jsx)("div",{style:{marginTop:"10px",marginBottom:"10px"},children:he?Object(ae.jsx)(E.a,{defaultValue:void 0!==ye?ye:"",onChange:function(e){ve(e.target.value)},variant:"outlined",fullWidth:!0,label:"Enumerate List",multiline:!0,rows:4,helperText:"A list of inputs separated by commas, e,g.: item 1, item 2, item 3. Make sure that the item data type matches the field input data type. Invalid items will be not saved."}):null})]}):null]}),Object(ae.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px"},children:[Object(ae.jsx)(G.a,{component:"validation-related",children:Object(ae.jsx)(Y.a,{style:{color:"#01579b"},component:"legend",children:"Validation Related:"})}),Object(ae.jsxs)(Z.a,{children:["array"===h?Object(ae.jsx)(H.a,{control:Object(ae.jsx)(Q.a,{onChange:function(){return De()},checked:pe}),label:"Required. Checked means the field must be filled."}):null,"object"!==h&"array"!==h&"boolean"!==h?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(H.a,{control:Object(ae.jsx)(Q.a,{onChange:function(){return De()},checked:pe}),label:"Required. Checked means the field must be filled."}),Object(ae.jsx)(E.a,{margin:"normal",onChange:function(e){return Ie(e,"defaultValue")},style:{marginTop:"10px"},defaultValue:u,variant:"outlined",fullWidth:!0,label:"Field Default Value",helperText:"Initial value of the field."})]}):null,"boolean"===h?Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)(E.a,{margin:"normal",onChange:function(e){return Ie(e,"defaultValue")},style:{marginTop:"20px"},defaultValue:void 0!==u?u:"",select:!0,fullWidth:!0,id:l,label:"Boolean Field Default Value",variant:"outlined",SelectProps:{native:!0},children:["","true","false"].map((function(e,t){return Object(ae.jsx)("option",{value:e,children:e},t)}))})}):null]})]})]})})}),Object(ae.jsxs)(W.a,{children:[Object(ae.jsx)(J.a,{onClick:function(){return we()},color:"secondary",children:"Cancel"}),Object(ae.jsx)(J.a,{onClick:function(){return Se()},color:"primary",autoFocus:!0,children:"Save"})]})]})})}),le=function(e,t){var r=JSON.parse(JSON.stringify(e)),a=t.split(".");a.pop(),a=a.join(".");var n=M(r,a);if(Array.isArray(n)){var l=t.split(".");return l=l.at(-1),n.splice(parseInt(l),1),i(21)(r,a,n),r}var o=t.split(".");return delete n[o=o.at(-1)],i(21)(r,a,n),r},oe=i(599),se=i(21),ce=i.n(se),de=Object(N.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),pe=function(e){var t,i,r=e.withinObject,a=e.field_uri,n=e.dataInputItems,l=e.setDataInputItems,o=e.withinArray,s=e.path,c=e.pathFormData,d=e.field_required,p=e.field_index,u=e.edit,f=e.field_key,j=e.field_label,h=e.field_description,b=e.field_enumerate,m=e.defaultValue,g=e.value,y=Object(S.useState)(!1),v=Object(k.a)(y,2),O=v[0],x=v[1],I=Object(S.useContext)(X),w=I.updateParent,D=I.convertedSchema,C=I.handleDataInput,T=I.handleDataDelete,_=I.handleConvertedDataInput,F=Object(S.useState)(void 0!==m?m:void 0!==g?g:""),N=Object(k.a)(F,2),A=N[0],R=N[1],J=de(),L=function(e){R(e.target.value)};s=(s=(s=s.split(".")).filter((function(e){return e}))).join("."),c=(c=(c=c.split(".")).filter((function(e){return e}))).join("."),void 0===d?t=!1:d.includes(f)&&(t=!0),i=void 0!==b;var B={fieldKey:f,title:j,description:h,$id:a,type:"string",value:g},W=function(){var e=le(D,s),t=s.split(".");if(t.length<=2){if(void 0!==e.required){var i=e.required.indexOf(f);-1!==i&&(e.required.splice(i,1),0===e.required.length&&delete e.required)}}else{t.pop(),t.pop();var r=M(e,t.join("."));if(void 0!==r.required){var a=r.required.indexOf(f);if(-1!==a){var n=t.join(".")+".required";r.required.splice(a,1),0===r.required.length?e=le(e,n):ce()(e,n,r.required)}}}w(e),T(c)},U=function(e,t,i){if(void 0!==o&o){var r=t.split(".");r.pop(),r=r.join(".");var a=s.split(".");a.pop(),a=a.join(".");var c=n,d=Array.from(c);d[p][f]=e.target.value,l(d);var u={target:{value:d}};C(u,r,"string"),_(u,a+".value","string"),_(e,a+".prevValue","string"),R(e.target.value)}else C(e,t,i),_(e,s+".value","string"),_(e,s+".prevValue","string"),R(e.target.value)};return Object(S.useEffect)((function(){if(void 0!==o&!0===o){var e=c.split(".");e.pop(),e=e.join(".");var t=s.split(".");t.pop(),t=t.join(".");var i=n,a=Array.from(i),d="";0!==a.length&&"object"===typeof a[0]&&(d=a[p][f]);var u=void 0!==g?g:void 0!==m?m:void 0!==d?d:void 0!==b?b[0]:"";if(""===u)R("");else if(r)R(u);else{l(a);var j={target:{value:a}};C(j,e,"string"),_(j,t+".value","string"),_(j,t+".prevValue","string"),R(u)}}else{var h=void 0!==g?g:void 0!==m?m:void 0!==b?b[0]:"",y={target:{value:h}};""===h||(C(y,c,"string"),_(y,s+".value","string"),_(y,s+".prevValue","string")),R(h)}}),[g]),void 0===b?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(ae.jsx)(E.a,{multiline:!0,onKeyDown:function(e){"Enter"!==e.key||e.shiftKey||e.preventDefault()},onBlur:function(e){return U(e,c,"string")},required:t,helperText:h,onChange:function(e){L(e)},value:A,fullWidth:!0,className:J.heading,id:f,label:j,variant:"outlined"}),u?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(oe.a,{placement:"top",title:'Edit field "'.concat(j,'"'),children:Object(ae.jsx)(V.a,{onClick:function(){return x(!0)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(q.a,{fontSize:"small",color:"primary"})})}),Object(ae.jsx)(oe.a,{placement:"top",title:'Remove field "'.concat(j,'"'),children:Object(ae.jsx)(V.a,{onClick:function(){return W()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(P.a,{fontSize:"small",color:"secondary"})})})]}):null]}),O?Object(ae.jsx)(ne,{field_uri:a,pathFormData:c,defaultValue:m,enumerated:i,field_enumerate:b,field_key:f,field_index:p,openDialog:O,setOpenDialog:x,path:s,UISchema:B,field_required:t}):null]}):Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(ae.jsx)(E.a,{onBlur:function(e){return U(e,c,"string")},onChange:function(e){return L(e)},required:t,select:!0,fullWidth:!0,className:J.heading,id:f,label:j,variant:"outlined",SelectProps:{native:!0},helperText:h,value:void 0===A?m:A,children:b.map((function(e,t){return Object(ae.jsx)("option",{value:e,children:e},t)}))}),u?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(oe.a,{placement:"top",title:'Edit field "'.concat(j,'"'),children:Object(ae.jsx)(V.a,{onClick:function(){return x(!0)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(q.a,{fontSize:"small",color:"primary"})})}),Object(ae.jsx)(oe.a,{placement:"top",title:'Remove field "'.concat(j,'"'),children:Object(ae.jsx)(V.a,{onClick:function(){return W()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(P.a,{fontSize:"small",color:"secondary"})})})]}):null]}),O?Object(ae.jsx)(ne,{field_uri:a,pathFormData:c,enumerated:i,defaultValue:m,field_enumerate:b,field_key:f,field_index:p,openDialog:O,setOpenDialog:x,path:s,UISchema:B,field_required:t}):null]})},ue=i(19),fe=i(47),je=i(600),he=function(e){if(void 0===e)return"";var t=e.match(/[^[\]]+(?=])/g);return null===t?"":t},be=i(112),me=Object(N.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),ge=function(e){var t=e.field_uri,i=e.value,n=e.dataInputItems,l=e.setDataInputItems,o=e.withinArray,s=e.withinObject,c=e.path,d=e.pathFormData,p=e.defaultValue,u=e.field_required,f=e.field_index,j=e.edit,h=e.field_key,b=e.field_label,m=e.field_description,g=e.field_enumerate,y=Object(S.useState)(void 0!==m?m:""),v=Object(k.a)(y,2),O=v[0],x=v[1],I=Object(S.useState)(!1),w=Object(k.a)(I,2),D=w[0],C=w[1],_=Object(S.useContext)(X),F=_.updateParent,N=_.convertedSchema,A=_.handleDataInput,R=_.handleDataDelete,J=_.handleConvertedDataInput,L=Object(S.useState)(void 0!==p&void 0===i?p:void 0===i?"":i),B=Object(k.a)(L,2),W=B[0],U=B[1],z=Object(S.useState)(!1),K=Object(k.a)(z,2),$=K[0],H=K[1],G=me();c=(c=(c=c.split(".")).filter((function(e){return e}))).join("."),d=(d=(d=d.split(".")).filter((function(e){return e}))).join(".");var Y,Q,Z=he(b);"%"===Z[0]&&(Z="\\"+Z),void 0===u?Y=!1:u.includes(h)&&(Y=!0),Q=void 0!==g;var ee,te={fieldKey:h,title:b,description:m,$id:t,type:"number",value:i},ie=function(){var e=le(N,c),t=c.split(".");if(t.length<=2){if(void 0!==e.required){var i=e.required.indexOf(h);-1!==i&&(e.required.splice(i,1),0===e.required.length&&delete e.required)}}else{t.pop(),t.pop();var r=M(e,t.join("."));if(void 0!==r.required){var a=r.required.indexOf(h);if(-1!==a){var n=t.join(".")+".required";r.required.splice(a,1),0===r.required.length?e=le(e,n):ce()(e,n,r.required)}}}F(e),R(d)},re=function(e){var t;if(H(!1),x(void 0!==m?m:""),(t=(t=void 0===W?"":W).toString()).split(".").length-1>1&"."===e.target.value.at(-1)){var i=t;i=i.replace(/ /g,""),U(i),i.toString().length-e.target.value.length!==0?(H(!0),x("Invalid input type. This field only accepts input of a number type.")):(H(!1),x(void 0!==m?m:""))}else{var r=e.target.value.replace(/(?!^-)[^0-9.]/g,"").replace(/(\..*)\./g,"$1");r=r.replace(/ /g,""),U(r),r.toString().length-e.target.value.length!==0?(H(!0),x("Invalid input type. This field only accepts input of a number type.")):(H(!1),x(void 0!==m?m:""))}},se=function(){if(H(!1),x(void 0!==m?m:""),void 0!==o&o){var e=W;if(e=parseFloat(e),!isNaN(e)){U(e);var t=d.split(".");t.pop(),t=t.join(".");var i=c.split(".");i.pop(),i=i.join(".");var r=n,a=Array.from(r);a[f][h]=e,l(a),A(a,t,"number"),J(a,i+".value","number"),J(a,i+".prevValue","number")}}else{var s=W;s=parseFloat(s),isNaN(s)||(U(s),A(parseFloat(W),d,"number"),J(parseFloat(W),c+".value","number"),J(parseFloat(W),c+".prevValue","number"))}};return Object(S.useEffect)((function(){if(void 0!==o&!0===o){var e=d.split(".");e.pop(),e=e.join(".");var t=c.split(".");t.pop(),t=t.join(".");var r=n,a=Array.from(r),u="";0!==a.length&&"object"===typeof a[0]&&(u=a[f][h]);var j=void 0!==i?i:void 0!==p?p:void 0!==u?u:void 0!==g?g[0]:"";if(""===j)U(""),H(!1),x(void 0!==m?m:"");else if("number"!==typeof j)U(j),H(!0),x("Invalid input type. This field only accepts input of a number type.");else{if(s)U(j);else a[f][h]=j,l(a),A({target:{value:a}},e,"number"),J(j,t+".value","number"),J(j,t+".prevValue","number"),U(j)}}else{var b=void 0!==i?i:void 0!==p?p:void 0!==g?g[0]:"";""===b?(U(""),H(!1),x(void 0!==m?m:"")):"number"!==typeof b?(U(b),H(!0),x("Invalid input type. This field only accepts input of a number type.")):(A(b,d,"number"),J(b,c+".value","number"),J(b,c+".prevValue","number"),U(b),H(!1),x(void 0!==m?m:""))}}),[i]),void 0===g?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(ae.jsx)(E.a,Object(ue.a)({onFocus:function(){if(!0===$){U("");var e=Object(T.a)({},N);if(void 0===o|void 0!==o&!0===o)e=le(e,c+".value"),F(e);else{var t=c.split(".");t.pop(),t=t.join("."),e=le(e,t+".value"),F(e)}}},error:$,onBlur:function(){return se()},onChange:function(e){return re(e)},value:void 0===W?p:W,required:Y,helperText:m,fullWidth:!0,className:G.heading,id:h,label:b,variant:"outlined",InputProps:{endAdornment:Object(ae.jsx)(je.a,{position:"start",children:Object(ae.jsx)(be.a,{tex:String.raw(r||(r=Object(fe.a)(["\\",""],["\\\\",""])),Z)})})}},"helperText",O)),j?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(oe.a,{placement:"top",title:'Edit field "'.concat(b,'"'),children:Object(ae.jsx)(V.a,{onClick:function(){return C(!0)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(q.a,{fontSize:"small",color:"primary"})})}),Object(ae.jsx)(oe.a,{placement:"top",title:'Remove field "'.concat(b,'"'),children:Object(ae.jsx)(V.a,{onClick:function(){return ie()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(P.a,{fontSize:"small",color:"secondary"})})})]}):null]}),D?Object(ae.jsx)(ne,{field_uri:t,pathFormData:d,field_enumerate:g,enumerated:Q,defaultValue:p,field_key:h,field_index:f,openDialog:D,setOpenDialog:C,path:c,UISchema:te,field_required:Y}):null]}):Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)("div",{onMouseEnter:function(){void 0!==W&""!==W&&(H(!1),x(void 0!==m?m:""))},style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(ae.jsx)(E.a,(ee={onFocus:function(){if(!0===$){U("");var e=Object(T.a)({},N);if(void 0===o|void 0!==o&!0===o)e=le(e,c+".value"),F(e);else{var t=c.split(".");t.pop(),t=t.join("."),e=le(e,t+".value"),F(e)}}},error:$,helperText:O,select:!0,onBlur:function(){return se()},onChange:function(e){return re(e)},value:void 0===W?p:W,required:Y},Object(ue.a)(ee,"helperText",m),Object(ue.a)(ee,"fullWidth",!0),Object(ue.a)(ee,"className",G.heading),Object(ue.a)(ee,"id",h),Object(ue.a)(ee,"label",b),Object(ue.a)(ee,"variant","outlined"),Object(ue.a)(ee,"InputProps",{endAdornment:Object(ae.jsx)(je.a,{position:"start",children:Object(ae.jsx)(be.a,{tex:String.raw(a||(a=Object(fe.a)(["\\",""],["\\\\",""])),Z)})})}),Object(ue.a)(ee,"SelectProps",{native:!0}),Object(ue.a)(ee,"children",g.map((function(e,t){return Object(ae.jsx)("option",{value:e,children:e},t)}))),ee)),j?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(oe.a,{placement:"top",title:'Edit field "'.concat(b,'"'),children:Object(ae.jsx)(V.a,{onClick:function(){return C(!0)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(q.a,{fontSize:"small",color:"primary"})})}),Object(ae.jsx)(oe.a,{placement:"top",title:'Remove field "'.concat(b,'"'),children:Object(ae.jsx)(V.a,{onClick:function(){return ie()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(P.a,{fontSize:"small",color:"secondary"})})})]}):null]}),D?Object(ae.jsx)(ne,{field_uri:t,pathFormData:d,field_enumerate:g,enumerated:Q,defaultValue:p,field_key:h,field_index:f,openDialog:D,setOpenDialog:C,path:c,UISchema:te,field_required:Y}):null]})},ye=i(7),ve=i(163),Oe=i(602),xe=i(81),Se=i.n(xe),Ie=i(66),we=i.n(Ie),De=i(40),Ce=i(82),Te=i.n(Ce),ke=function(e){var t=e.enumerated,r=e.field_enumerate,a=e.field_required,n=e.defaultSchema,l=e.path,o=e.openDialog,s=e.setOpenDialog,c=e.UISchema,d=e.schemaTitle,p=Object(S.useState)("string"),u=Object(k.a)(p,2),f=u[0],j=u[1],h=Object(S.useState)(void 0),b=Object(k.a)(h,2),m=b[0],g=b[1],y=Object(S.useState)(void 0),v=Object(k.a)(y,2),O=v[0],x=v[1],I=Object(S.useState)(void 0),w=Object(k.a)(I,2),D=w[0],C=w[1],T=Object(S.useState)(void 0),_=Object(k.a)(T,2),F=_[0],N=_[1],A=Object(S.useContext)(X),q=A.updateParent,R=A.convertedSchema,P=Object(S.useState)(void 0!==a&&a),Z=Object(k.a)(P,2),ee=Z[0],ie=(Z[1],Object(S.useState)(void 0!==t&&t)),ne=Object(k.a)(ie,2),le=ne[0],oe=ne[1],se=Object(S.useState)(void 0===r?[]:r.join(",")),ce=Object(k.a)(se,2),de=ce[0],pe=ce[1],ue=JSON.parse(JSON.stringify(n)),fe=function(e,t){switch(t){case"type":return j(e.target.value);case"title":return C(e.target.value);case"description":return N(e.target.value);case"fieldkey":return x(e.target.value);case"$id":return g(e.target.value);default:return null}},je=function(){ue=JSON.parse(JSON.stringify(n)),s(!1),pe(r),j("string")};return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsxs)(B.a,{open:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ae.jsx)(K.a,{id:"alert-dialog-title",children:Object(ae.jsxs)("div",{style:{display:"inline-flex",width:"100%",verticalAlign:"middle"},children:[Object(ae.jsx)(we.a,{fontSize:"large",color:"primary",style:{alignSelf:"center"}}),Object(ae.jsxs)("div",{style:{width:"100%",alignSelf:"center"},children:['Add Element in "',void 0!==c?c.title:d,'"']}),Object(ae.jsx)(V.a,{onClick:function(){return je()},children:Object(ae.jsx)(re.a,{fontSize:"large",color:"secondary"})})]})}),Object(ae.jsx)(L.a,{}),Object(ae.jsx)(U.a,{children:Object(ae.jsx)(z.a,{id:"alert-dialog-description",component:"span",children:Object(ae.jsx)("div",{children:Object(ae.jsxs)(G.a,{component:"widget-type",children:[Object(ae.jsx)(Y.a,{style:{color:"#01579b"},component:"legend",children:"Basic Descriptors:"}),Object(ae.jsx)(E.a,{inputProps:{maxLength:12},required:!0,onBlur:function(e){return function(e){x(e.target.value),ue.fieldKey=e.target.value}(e)},onChange:function(e){return fe(e,"fieldKey")},style:{marginTop:"20px"},defaultValue:ue.fieldKey,variant:"outlined",fullWidth:!0,label:"Field Key",helperText:'A unique json key for this field. Usually short and no spaces (use "_" instead). Spaces are replaced automatically with "_" upon saving.'}),Object(ae.jsx)(E.a,{margin:"normal",onChange:function(e){return fe(e,"$id")},style:{marginTop:"10px"},variant:"outlined",fullWidth:!0,label:"Field ID/URI",helperText:"ID or URI for this field if available."}),Object(ae.jsx)(E.a,{onChange:function(e){return fe(e,"title")},style:{marginTop:"10px"},defaultValue:ue.title,variant:"outlined",fullWidth:!0,label:"Field Title",helperText:'Label or title of the field. For a field that requires a unit, the unit can be placed within a square bracket, e,g., "Chamber Pressure [Pa]".'}),Object(ae.jsx)(E.a,{onChange:function(e){return fe(e,"description")},style:{marginTop:"10px"},defaultValue:ue.description,variant:"outlined",fullWidth:!0,label:"Field Description",multiline:!0,rows:3,helperText:"A detailed description of the field, how the input should be formated, etc."}),Object(ae.jsx)(E.a,{onChange:function(e){return fe(e,"type")},style:{marginTop:"10px"},defaultValue:f,helperText:"Data type of the field input.",select:!0,fullWidth:!0,label:"Field Data Type",variant:"outlined",SelectProps:{native:!0},children:["string","number","integer","object","array","boolean"].map((function(e,t){return Object(ae.jsx)("option",{value:e,children:e},t)}))}),"string"===f?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(H.a,{control:Object(ae.jsx)(Q.a,{onChange:function(){oe((function(e){return!e}))},checked:le}),label:"Enumerated"}),Object(ae.jsx)("div",{style:{marginTop:"10px",marginBottom:"10px"},children:le?Object(ae.jsx)(E.a,{defaultValue:void 0!==de?de:"",onChange:function(e){pe(e.target.value)},variant:"outlined",fullWidth:!0,label:"Enumerate List",multiline:!0,rows:4}):null})]}):null]})})})}),Object(ae.jsxs)(W.a,{children:[Object(ae.jsx)(J.a,{onClick:function(){return je()},color:"secondary",children:"Cancel"}),Object(ae.jsx)(J.a,{onClick:function(){return function(){if($(R,l,O))alert("Field ID already exists!");else if(ue.fieldKey=O,void 0!==m&&""!==m.toString().replace(/\s+/g,"")&&(ue.$id=m),ue.type=f,void 0!==D&&(ue.title=D),void 0!==F&&(ue.description=F),void 0!==O)if("string"===typeof O&""===O.replace(/\s+/g,""))alert("Field ID must be defined!");else if("object"===ue.type&&(ue.properties=[]),"array"===ue.type&&(ue.items={}),"string"!==ue.type&&oe(!1),void 0!==l){var e=i(21),t=M(R,l).properties;t.push(ue),e(R,l+".properties",t),l=l+".properties."+(t.length-1).toString();var r=te({selectedType:f,path:l,requiredChecked:ee,field_key:O,convertedSchema:R});if("string"===ue.type&le){var a=de;Array.isArray(a)?e(r,l+".enumerate",a):(a=a.replace(/\s*,\s*/g,","),e(r,l+".enumerate",a.split(",")))}q(r),s(!1)}else{var n=i(21),o=R.properties;o.push(ue),R.properties=o,l="properties."+(o.length-1).toString();var c=te({selectedType:f,path:l,requiredChecked:ee,field_key:O,convertedSchema:R});if("string"===ue.type&le){var d=de;Array.isArray(d)?n(c,l+".enumerate",d):(d=d.replace(/\s*,\s*/g,","),n(c,l+".enumerate",d.split(",")))}q(c),s(!1)}else alert("Field ID must be defined!")}()},color:"primary",autoFocus:!0,children:"ADD"})]})]})})},_e=i(614),Fe=i(601),Ne=Object(N.a)((function(e){return{root:{width:"100%"},heading:{color:"rgba(82, 94, 103, 1)",fontSize:e.typography.pxToRem(25),fontWeight:e.typography.fontWeightRegular}}})),Ee=Object(ye.a)({root:{border:"1px solid rgba(232, 244, 253, 1)","&:not(:last-child)":{borderBottom:0},boxShadow:"none","&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(_e.a),Ae=Object(ye.a)({root:{backgroundColor:"rgba(232, 244, 253, 1)",borderBottom:"1px solid rgba(0, 0, 0, .0)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Fe.a),qe=function(e){e.dataInputItems,e.setDataInputItems;var t=e.withinArray,r=e.withinObject,a=e.field_uri,n=e.path,l=e.pathSchema,o=e.pathFormData,s=e.field_required,c=e.field_key,d=e.field_index,p=e.edit,u=e.field_label,f=e.field_description,j=e.field_properties,h=Object(S.useState)(!1),b=Object(k.a)(h,2),m=b[0],g=b[1],y=Object(S.useState)(!1),v=Object(k.a)(y,2),O=v[0],x=v[1],I=Object(S.useState)(!0),w=Object(k.a)(I,2),D=w[0],C=w[1],_=Object(S.useContext)(X),F=_.updateParent,N=_.convertedSchema,E=_.handleDataDelete;n=(n=(n=n.split(".")).filter((function(e){return e}))).join("."),o=(o=(o=o.split(".")).filter((function(e){return e}))).join(".");var A={fieldKey:c,title:u,description:f,properties:j,$id:a,type:"object"},R=Ne();return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{style:{width:"100%",padding:"10px 0px 10px 0px"},children:Object(ae.jsxs)(Ee,{expanded:D,children:[Object(ae.jsx)(Ae,{expandIcon:Object(ae.jsx)(oe.a,{placement:"top",title:'Collapse/Expand this container"',children:Object(ae.jsx)(Se.a,{})}),style:{height:"auto"},IconButtonProps:{onClick:function(){C(!D)}},"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(ae.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(ae.jsxs)("div",{style:{width:"100%"},children:[Object(ae.jsx)(ve.a,{className:R.heading,children:u}),D?Object(ae.jsx)("div",{style:{color:"gray"},children:f}):null]}),Object(ae.jsx)("div",{}),p?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(oe.a,{placement:"top",title:'Edit "'.concat(u,'"'),children:Object(ae.jsx)(J.a,{onClick:function(){return g(!0)},style:{marginLeft:"5px"},children:Object(ae.jsx)(q.a,{color:"primary"})})}),Object(ae.jsx)(oe.a,{placement:"top",title:'Remove "'.concat(u,'"'),children:Object(ae.jsx)(J.a,{onClick:function(){return function(){var e=le(N,n),t=n.split(".");if(t.length<=2){if(void 0!==e.required){var i=e.required.indexOf(c);-1!==i&&(e.required.splice(i,1),0===e.required.length&&delete e.required)}}else{t.pop(),t.pop();var r=M(e,t.join("."));if(void 0!==r.required){var a=r.required.indexOf(c);if(-1!==a){var l=t.join(".")+".required";r.required.splice(a,1),0===r.required.length?e=le(e,l):ce()(e,l,r.required)}}}F(e),E(o)}()},style:{marginLeft:"5px"},children:Object(ae.jsx)(P.a,{color:"secondary"})})})]}):null]})}),Object(ae.jsx)(L.a,{}),Object(ae.jsx)(Oe.a,{children:Object(ae.jsx)(De.a,{onDragEnd:function(e){if(e.destination){var t=Array.from(j),r=t.splice(e.source.index,1),a=Object(k.a)(r,1)[0];t.splice(e.destination.index,0,a);var l=i(21),o=Object(T.a)({},N);l(N,n+".properties",t),F(o)}},children:Object(ae.jsx)(De.c,{droppableId:"subforms",children:function(e){return Object(ae.jsxs)("div",Object(T.a)(Object(T.a)({style:{width:"100%"}},e.droppableProps),{},{ref:e.innerRef,children:[Object.keys(j).map((function(e,i){return Object(ae.jsx)(De.b,{isDragDisabled:!p,draggableId:j[e].fieldKey,index:i,children:function(i){return Object(ae.jsx)("div",Object(T.a)(Object(T.a)({},i.draggableProps),{},{ref:i.innerRef,children:Object(ae.jsxs)("div",{style:{display:"flex"},children:[p?Object(ae.jsx)("div",Object(T.a)(Object(T.a)({style:{width:"20px",marginTop:"10px",height:"30px"}},i.dragHandleProps),{},{children:Object(ae.jsx)(oe.a,{placement:"top",title:"Drag & drop to adjust the order of this field",children:Object(ae.jsx)(Te.a,{fontSize:"small"})})})):null,Object(ae.jsx)(pt,{withinArray:t,withinObject:r,path:n+".properties",pathSchema:l+".properties",pathFormData:o,fieldkey:j[e].fieldKey,fieldIndex:e,elementRequired:s,edit:p,field:j[e]})]})}))}},j[e].fieldKey)})),e.placeholder,p?Object(ae.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:Object(ae.jsx)(oe.a,{placement:"top",title:'Add a new field to "'.concat(u,'"'),children:Object(ae.jsxs)(J.a,{onClick:function(){return x(!0)},style:{marginLeft:"5px"},children:[Object(ae.jsx)(we.a,{color:"primary"})," ADD ELEMENT"]})})}):null]}))}})})})]})}),m?Object(ae.jsx)(ne,{field_uri:a,pathFormData:o,field_key:c,field_index:d,openDialog:m,setOpenDialog:g,path:n,UISchema:A}):null,O?Object(ae.jsx)(ke,{openDialog:O,setOpenDialog:x,path:n,defaultSchema:{},UISchema:A}):null]})},Re=Object(N.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),Pe=function(e){var t=e.field_uri,i=e.value,r=e.dataInputItems,a=e.setDataInputItems,o=e.withinArray,s=e.withinObject,c=e.defaultValue,d=e.path,p=e.pathFormData,u=e.field_required,f=e.field_index,j=e.edit,h=e.field_key,b=e.field_label,m=e.field_description,g=e.field_enumerate,y=Object(S.useState)(void 0!==m?m:""),v=Object(k.a)(y,2),O=v[0],x=v[1],I=Object(S.useState)(!1),w=Object(k.a)(I,2),D=w[0],C=w[1],_=Object(S.useContext)(X),F=_.updateParent,N=_.convertedSchema,A=_.handleDataInput,R=_.handleDataDelete,J=_.handleConvertedDataInput,L=Object(S.useState)(void 0!==c&void 0===i?c:void 0===i?"":i),B=Object(k.a)(L,2),W=B[0],U=B[1],z=Object(S.useState)(!1),K=Object(k.a)(z,2),$=K[0],H=K[1],G=Re();d=(d=(d=d.split(".")).filter((function(e){return e}))).join("."),p=(p=(p=p.split(".")).filter((function(e){return e}))).join(".");var Y,Q,Z=he(b);"%"===Z[0]&&(Z="\\"+Z),void 0===u?Y=!1:u.includes(h)&&(Y=!0),Q=void 0!==g;var ee,te={fieldKey:h,title:b,description:m,$id:t,type:"integer",value:i},ie=function(){var e=le(N,d),t=d.split(".");if(t.length<=2){if(void 0!==e.required){var i=e.required.indexOf(h);-1!==i&&(e.required.splice(i,1),0===e.required.length&&delete e.required)}}else{t.pop(),t.pop();var r=M(e,t.join("."));if(void 0!==r.required){var a=r.required.indexOf(h);if(-1!==a){var n=t.join(".")+".required";r.required.splice(a,1),0===r.required.length?e=le(e,n):ce()(e,n,r.required)}}}F(e),R(p)},re=function(e){var t;if(t=(t=void 0===W?"":W).toString(),"."!==e.target.value)if("."===e.target.value.at(-1)){var i=t;i=i.replace(/ /g,""),U(i),i.toString().length-e.target.value.length!==0?(H(!0),x("Invalid input type. This field only accepts input of an integer type.")):(H(!1),x(void 0!==m?m:""))}else{var r=e.target.value.replace(/(?!^-)[^0-9]/g,"");r=r.replace(/ /g,""),U(r),r.toString().length-e.target.value.length!==0?(H(!0),x("Invalid input type. This field only accepts input of an integer type.")):(H(!1),x(void 0!==m?m:""))}},se=function(){if(H(!1),x(void 0!==m?m:""),void 0!==o&o){var e=W;if(e=parseInt(e),!isNaN(e)){U(e);var t=p.split(".");t.pop(),t=t.join(".");var i=d.split(".");i.pop(),i=i.join(".");var n=r,l=Array.from(n);l[f][h]=e,a(l),A(l,t,"integer"),J(l,i+".value","integer"),J(l,i+".prevValue","integer")}}else{var s=W;s=parseInt(s),isNaN(s)||(U(s),A(parseInt(W),p,"integer"),J(parseInt(W),d+".value","integer"),J(parseInt(W),d+".prevValue","integer"))}};return Object(S.useEffect)((function(){if(void 0!==o&!0===o){var e=p.split(".");e.pop(),e=e.join(".");var t=d.split(".");t.pop(),t=t.join(".");var n=r,l=Array.from(n),u="";0!==l.length&&"object"===typeof l[0]&&(u=l[f][h]);var j=void 0!==i?i:void 0!==c?c:void 0!==u?u:void 0!==g?g[0]:"";if(""===j)U(""),H(!1),x(void 0!==m?m:"");else if(Number.isInteger(j)){if(s)U(j);else l[f][h]=j,a(l),A({target:{value:l}},e,"integer"),J(j,t+".value","integer"),J(j,t+".prevValue","integer"),U(j)}else U(j),H(!0),x("Invalid input type. This field only accepts input of an integer type.")}else{var b=void 0!==i?i:void 0!==c?c:void 0!==g?g[0]:"";""===b?(U(""),H(!1),x(void 0!==m?m:"")):Number.isInteger(b)?(A(b,p,"integer"),J(b,d+".value","integer"),J(b,d+".prevValue","integer"),U(b),H(!1),x(void 0!==m?m:"")):(U(b),H(!0),x("Invalid input type. This field only accepts input of an integer type."))}}),[i]),void 0===g?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(ae.jsx)(E.a,Object(ue.a)({onFocus:function(){if(!0===$){U("");var e=Object(T.a)({},N);if(void 0===o|void 0!==o&!0===o)e=le(e,d+".value"),F(e);else{var t=d.split(".");t.pop(),t=t.join("."),e=le(e,t+".value"),F(e)}}},error:$,onBlur:function(){return se()},onChange:function(e){return re(e)},value:void 0===W?c:W,required:Y,helperText:m,fullWidth:!0,className:G.heading,id:h,label:b,variant:"outlined",InputProps:{endAdornment:Object(ae.jsx)(je.a,{position:"start",children:Object(ae.jsx)(be.a,{tex:String.raw(n||(n=Object(fe.a)(["\\",""],["\\\\",""])),Z)})})}},"helperText",O)),j?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(oe.a,{placement:"top",title:'Edit field "'.concat(b,'"'),children:Object(ae.jsx)(V.a,{onClick:function(){return C(!0)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(q.a,{fontSize:"small",color:"primary"})})}),Object(ae.jsx)(oe.a,{placement:"top",title:'Remove field "'.concat(b,'"'),children:Object(ae.jsx)(V.a,{onClick:function(){return ie()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(P.a,{fontSize:"small",color:"secondary"})})})]}):null]}),D?Object(ae.jsx)(ne,{field_uri:t,pathFormData:p,field_enumerate:g,enumerated:Q,defaultValue:c,field_key:h,field_index:f,openDialog:D,setOpenDialog:C,path:d,UISchema:te,field_required:Y}):null]}):Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(ae.jsx)(E.a,(ee={onFocus:function(){if(!0===$){U("");var e=Object(T.a)({},N);if(void 0===o|void 0!==o&!0===o)e=le(e,d+".value"),F(e);else{var t=d.split(".");t.pop(),t=t.join("."),e=le(e,t+".value"),F(e)}}},error:$,helperText:O,select:!0,onBlur:function(){return se()},onChange:function(e){return re(e)},value:void 0===W?c:W,required:Y},Object(ue.a)(ee,"helperText",m),Object(ue.a)(ee,"fullWidth",!0),Object(ue.a)(ee,"className",G.heading),Object(ue.a)(ee,"id",h),Object(ue.a)(ee,"label",b),Object(ue.a)(ee,"variant","outlined"),Object(ue.a)(ee,"InputProps",{endAdornment:Object(ae.jsx)(je.a,{position:"start",children:Object(ae.jsx)(be.a,{tex:String.raw(l||(l=Object(fe.a)(["\\",""],["\\\\",""])),Z)})})}),Object(ue.a)(ee,"SelectProps",{native:!0}),Object(ue.a)(ee,"children",g.map((function(e,t){return Object(ae.jsx)("option",{value:e,children:e},t)}))),ee)),j?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(oe.a,{placement:"top",title:'Edit field "'.concat(b,'"'),children:Object(ae.jsx)(V.a,{onClick:function(){return C(!0)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(q.a,{fontSize:"small",color:"primary"})})}),Object(ae.jsx)(oe.a,{placement:"top",title:'Remove field "'.concat(b,'"'),children:Object(ae.jsx)(V.a,{onClick:function(){return ie()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(P.a,{fontSize:"small",color:"secondary"})})})]}):null]}),D?Object(ae.jsx)(ne,{field_uri:t,pathFormData:p,field_enumerate:g,enumerated:Q,defaultValue:c,field_key:h,field_index:f,openDialog:D,setOpenDialog:C,path:d,UISchema:te,field_required:Y}):null]})},Ve=i(596),Je=Object(N.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),Le=function(e){var t,i=e.field_uri,r=e.withinArray,a=e.withinObject,n=e.value,l=e.dataInputItems,o=e.setDataInputItems,s=e.path,c=e.pathFormData,d=e.field_required,p=e.field_index,u=e.edit,f=e.field_key,j=e.field_label,h=e.field_description,b=e.defaultValue,m=Object(S.useState)(void 0!==h?h:""),g=Object(k.a)(m,2),y=g[0],v=g[1],O=Object(S.useState)(!1),x=Object(k.a)(O,2),I=x[0],w=x[1],D=Object(S.useContext)(X),C=D.updateParent,_=D.convertedSchema,F=D.handleDataInput,N=D.handleDataDelete,E=D.handleConvertedDataInput,A=Object(S.useState)(void 0!==n?n:"boolean"===typeof b&&b),R=Object(k.a)(A,2),J=R[0],L=R[1],B=Object(S.useState)(!1),W=Object(k.a)(B,2),U=W[0],z=W[1];Je();s=(s=(s=s.split(".")).filter((function(e){return e}))).join("."),c=(c=(c=c.split(".")).filter((function(e){return e}))).join("."),void 0===d?t=!1:d.includes(f)&&(t=!0);var K={fieldKey:f,title:j,description:h,$id:i,type:"boolean",value:n};return Object(S.useEffect)((function(){if(void 0!==r&!0===r){var e=c.split(".");e.pop(),e=e.join(".");var t=s.split(".");t.pop(),t=t.join(".");var i=l,d=Array.from(i),u="";0!==d.length&&"object"===typeof d[0]&&(u=d[p][f]);var j=void 0!==n?n:void 0!==b?b:void 0!==u?u:"";""===j?(L(!1),z(!1),v(void 0!==h?h:"")):"boolean"!==typeof j?(L(!1),z(!0),v("Invalid input type. This field only accepts input of a boolean type.")):a?L(j):(d[p][f]=j,o(d),L(j),z(!1),v(void 0!==h?h:""),F(d,e,"boolean"),E(d,t+".value","boolean"),E(d,t+".prevValue","boolean"))}else{var m=void 0!==n?n:void 0!==b?b:"";""===m?(L(!1),z(!1),v(void 0!==h?h:"")):"boolean"!==typeof m?(L(!1),z(!0),v("Invalid input type. This field only accepts input of a boolean type.")):(L(m),z(!1),v(void 0!==h?h:""),F(m,c,"boolean"),E(m,s+".value","boolean"),E(m,s+".prevValue","boolean"))}}),[n]),Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)("div",{onMouseLeave:function(){if(!0===U){z(!1),v(void 0!==h?h:"");var e=Object(T.a)({},_);if(void 0===r|void 0!==r&!0===r)e=le(e,s+".value"),C(e);else{var t=s.split(".");t.pop(),t=t.join("."),e=le(e,t+".value"),C(e)}}},style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",alignItems:"center",width:"100%"},children:[Object(ae.jsx)("div",{style:{paddingLeft:"15px",width:"100%"},children:Object(ae.jsxs)(G.a,{children:[Object(ae.jsx)(Y.a,{style:{color:"".concat(U?"red":"")},children:void 0===j?"":j+":"}),Object(ae.jsx)("div",{style:{textAlign:"center",width:"100%"},children:Object(ae.jsx)(Q.a,{onChange:function(){return function(){var e=J;if(void 0!==r&r){var t=c.split(".");t.pop(),t=t.join(".");var i=s.split(".");i.pop(),i=i.join(".");var a=l,n=Array.from(a);n[p][f]=!e,o(n),L(!e),F(n,t,"boolean"),E(n,i+".value","boolean"),E(n,i+".prevValue","boolean")}else L(!e),F(!e,c,"boolean"),E(!e,s+".value","boolean"),E(!e,s+".prevValue","boolean")}()},checked:J})}),Object(ae.jsx)(Ve.a,{style:{color:"".concat(U?"red":"")},children:y})]})}),u?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(oe.a,{placement:"top",title:'Edit field "'.concat(j,'"'),children:Object(ae.jsx)(V.a,{onClick:function(){return w(!0)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(q.a,{fontSize:"small",color:"primary"})})}),Object(ae.jsx)(oe.a,{placement:"top",title:'Remove field "'.concat(j,'"'),children:Object(ae.jsx)(V.a,{onClick:function(){return function(){var e=le(_,s),t=s.split(".");if(t.length<=2){if(void 0!==e.required){var i=e.required.indexOf(f);-1!==i&&(e.required.splice(i,1),0===e.required.length&&delete e.required)}}else{t.pop(),t.pop();var r=M(e,t.join("."));if(void 0!==r.required){var a=r.required.indexOf(f);if(-1!==a){var n=t.join(".")+".required";r.required.splice(a,1),0===r.required.length?e=le(e,n):ce()(e,n,r.required)}}}C(e),N(c)}()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(P.a,{fontSize:"small",color:"secondary"})})})]}):null]}),I?Object(ae.jsx)(ne,{field_uri:i,pathFormData:c,defaultValue:b,field_key:f,field_index:p,openDialog:I,setOpenDialog:w,path:s,UISchema:K,field_required:t}):null]})},Be=Object(N.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),We=function(e){var t=e.oDataInputItems,i=e.oSetDataInputItems,r=e.arrayFieldKey,a=e.withinObject,n=e.value,l=e.path,o=e.pathFormData,s=e.dataInputItems,c=e.setDataInputItems,d=e.edit,p=e.index,u=e.field_key,f=e.handleDeleteArrayItem,j=Be(),h=Object(S.useState)(void 0===n||void 0===n[p]?"":n[p]),b=Object(k.a)(h,2),m=b[0],g=b[1],y=Object(S.useContext)(X),v=y.handleDataInput,O=y.handleConvertedDataInput;return Object(ae.jsxs)(ae.Fragment,{children:[void 0!==p?Object(ae.jsx)("div",{style:{padding:"5px"},children:Object(ae.jsxs)(ve.a,{className:j.heading,children:[p+1,"."]})}):null,Object(ae.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(ae.jsx)(E.a,{onBlur:function(){return function(){if(void 0!==a&!0===a){var e=m;if(e=parseInt(e),!isNaN(e)){var n=s,d=t,u=Array.from(n),f=Array.from(d),j=parseInt(l.split(".").pop());u[p]=e,f[j][r]=u,i(f),g(e);var h=l.split(".");h.pop(),h=h.join("."),O(f,h+".value","array")}}else{var b=m;if(b=parseInt(b),!isNaN(b)){g(b);var y=s,x=Array.from(y);x[p]=b,c(x),v(x,o,"array"),O(x,l+".value","array")}}}()},onChange:function(e){return function(e){var t=m;if(t=t.toString(),"."!==e.target.value)if("."===e.target.value.at(-1))g(t.replace(/ /g,""));else{var i=e.target.value.replace(/(?!^-)[^0-9]/g,"");g(i.replace(/ /g,""))}}(e)},value:m,fullWidth:!0,className:j.heading,id:u,variant:"outlined"}),d?Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)(V.a,{onClick:function(){return f(p)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(P.a,{fontSize:"small",color:"secondary"})})}):null]})]})},Ue=Object(N.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),ze=function(e){var t=e.oDataInputItems,i=e.oSetDataInputItems,r=e.arrayFieldKey,a=e.withinObject,n=e.value,l=e.pathFormData,o=e.dataInputItems,s=e.setDataInputItems,c=e.path,d=(e.field_type,e.edit),p=e.index,u=e.field_key,f=e.handleDeleteArrayItem,j=Ue(),h=Object(S.useState)(void 0===n||void 0===n[p]?"":n[p]),b=Object(k.a)(h,2),m=b[0],g=b[1],y=Object(S.useContext)(X),v=y.handleDataInput,O=y.handleConvertedDataInput;return Object(ae.jsxs)(ae.Fragment,{children:[void 0!==p?Object(ae.jsx)("div",{style:{padding:"5px"},children:Object(ae.jsxs)(ve.a,{className:j.heading,children:[p+1,"."]})}):null,Object(ae.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(ae.jsx)(E.a,{onBlur:function(){return function(){if(void 0!==a&!0===a){var e=m;if(e=parseFloat(e),!isNaN(e)){var n=o,d=t,u=Array.from(n),f=Array.from(d),j=parseInt(c.split(".").pop());u[p]=e,f[j][r]=u,i(f),g(e);var h=c.split(".");h.pop(),h=h.join("."),O(f,h+".value","array")}}else{var b=m;if(b=parseFloat(b),!isNaN(b)){g(b);var y=o,x=Array.from(y);x[p]=b,s(x),v(x,l,"array"),O(x,c+".value","array")}}}()},onChange:function(e){return function(e){var t=m;if((t=t.toString()).split(".").length-1>1&"."===e.target.value.at(-1))g(t.replace(/ /g,""));else{var i=e.target.value.replace(/(?!^-)[^0-9.]/g,"").replace(/(\..*)\./g,"$1");g(i.replace(/ /g,""))}}(e)},value:m,fullWidth:!0,className:j.heading,id:u,variant:"outlined"}),d?Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)(V.a,{onClick:function(){return f(p)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(P.a,{fontSize:"small",color:"secondary"})})}):null]})]})},Ke=Object(N.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),Me=function(e){var t=e.oDataInputItems,i=e.oSetDataInputItems,r=e.arrayFieldKey,a=e.withinObject,n=e.value,l=e.pathFormData,o=e.dataInputItems,s=e.setDataInputItems,c=e.path,d=e.edit,p=e.index,u=e.field_key,f=e.handleDeleteArrayItem,j=Ke(),h=Object(S.useContext)(X),b=h.handleDataInput,m=h.handleConvertedDataInput,g=Object(S.useState)(void 0===n?void 0:n[p]),y=Object(k.a)(g,2),v=y[0],O=y[1];return Object(ae.jsxs)(ae.Fragment,{children:[void 0!==p?Object(ae.jsx)("div",{style:{padding:"5px"},children:Object(ae.jsxs)(ve.a,{className:j.heading,children:[p+1,"."]})}):null,Object(ae.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(ae.jsx)(E.a,{onBlur:function(e){return function(e,n){if(void 0!==a&!0===a){var d=o,p=t,u=Array.from(d),f=Array.from(p),j=parseInt(c.split(".").pop());u[n]=e.target.value,f[j][r]=u,console.log(f),i(f),O(e.target.value);var h=c.split(".");h.pop(),h=h.join("."),m(f,h+".value","array")}else{var g=o,y=Array.from(g);y[n]=e.target.value,s(y),O(e.target.value),b(y,l,"array"),m(y,c+".value","array")}}(e,p)},id:u,fullWidth:!0,className:j.heading,variant:"outlined",defaultValue:v}),d?Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)(V.a,{onClick:function(){return f(p)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(P.a,{fontSize:"small",color:"secondary"})})}):null]})]})},$e=(Object(N.a)((function(e){return{root:{width:"100%"},heading:{color:"rgba(82, 94, 103, 1)",fontSize:e.typography.pxToRem(25),fontWeight:e.typography.fontWeightRegular}}})),function(e){e.value;var t=e.path,i=e.dataInputItems,r=e.setDataInputItems,a=e.field_label,n=e.pathFormData,l=(e.field_required,e.field_items),o=(e.field_type,e.edit),s=e.index,c=(e.field_key,e.handleDeleteArrayItem),d=Object(S.useState)(void 0===i[s].expand||i[s].expand),p=Object(k.a)(d,2),u=p[0],f=p[1],j=s,h=l.properties;return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)("div",{style:{width:"100%",padding:"10px 0px 10px 0px"},children:Object(ae.jsxs)(_e.a,{expanded:u,children:[Object(ae.jsx)(Fe.a,{expandIcon:Object(ae.jsx)(Se.a,{}),style:{height:"auto"},IconButtonProps:{onClick:function(){var e=u;f(!e);var t=Object(ee.a)(i);t[s].expand=!e,r(t)}},"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(ae.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(ae.jsx)("div",{style:{width:"100%",justifySelf:"center"},children:a+" #"+parseInt(s+1)}),o?Object(ae.jsx)(J.a,{onClick:function(){return c(s)},style:{marginLeft:"5px"},children:Object(ae.jsx)(P.a,{color:"secondary"})}):null]})}),Object(ae.jsx)(L.a,{}),Object(ae.jsx)(Oe.a,{children:Object(ae.jsx)("div",{style:{width:"100%"},children:Object.keys(h).map((function(e,a){var o=JSON.parse(JSON.stringify(h[e]));return o.enum&&(o.enumerate=o.enum),o.default&&(o.defaultValue=o.default),Object(ae.jsx)("div",{style:{display:"flex"},children:Object(ae.jsx)(pt,{withinObject:true,path:t,pathFormData:n,withinArray:true,dataInputItems:i,setDataInputItems:r,fieldkey:e,fieldIndex:j,elementRequired:l.required,edit:!1,field:o})},e)}))})})]})})})}),He=function(e){var t=e.oSetDataInputItems,i=e.oDataInputItems,r=e.arrayFieldKey,a=e.withinObject,n=e.value,l=e.pathSchema,o=e.pathFormData,s=e.dataInputItems,c=e.setDataInputItems,d=e.field_label,p=e.field_items,u=e.path,f=e.type,j=e.edit,h=e.fieldIndex,b=e.fieldkey,m=(e.enumerate,e.handleDeleteArrayItem);e.properties;switch(f){case"string":return Object(ae.jsx)(Me,{value:n,withinObject:a,arrayFieldKey:r,oSetDataInputItems:t,oDataInputItems:i,setDataInputItems:c,pathFormData:o,pathSchema:l+".value",dataInputItems:s,path:u,index:h,field_key:b,handleDeleteArrayItem:m,edit:j,field_type:f});case"number":return Object(ae.jsx)(ze,{value:n,path:u,pathFormData:o,pathSchema:l+".value",withinObject:a,arrayFieldKey:r,oSetDataInputItems:t,oDataInputItems:i,setDataInputItems:c,dataInputItems:s,index:h,field_key:b,handleDeleteArrayItem:m,edit:j,field_type:f});case"integer":return Object(ae.jsx)(We,{value:n,path:u,pathFormData:o,withinObject:a,arrayFieldKey:r,oSetDataInputItems:t,oDataInputItems:i,pathSchema:l+".value",setDataInputItems:c,dataInputItems:s,index:h,field_key:b,handleDeleteArrayItem:m,edit:j,field_type:f});case"object":return Object(ae.jsx)($e,{value:n,setDataInputItems:c,dataInputItems:s,field_label:d,pathFormData:o,pathSchema:l+".value",path:u,index:h,field_key:b,handleDeleteArrayItem:m,edit:j,field_type:f,field_items:p});default:return null}},Ge=function(){var e=46656*Math.random()|0,t=46656*Math.random()|0;return(e=("000"+e.toString(36)).slice(-3))+(t=("000"+t.toString(36)).slice(-3))},Ye=i(32),Xe=Object(N.a)((function(e){return{root:{width:"100%"},heading:{color:"rgba(82, 94, 103, 1)",fontSize:e.typography.pxToRem(25),fontWeight:e.typography.fontWeightRegular}}})),Qe=Object(ye.a)({root:{border:"1px solid rgba(232, 244, 253, 1)","&:not(:last-child)":{borderBottom:0},boxShadow:"none","&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(_e.a),Ze=Object(ye.a)({root:{backgroundColor:"rgba(232, 244, 253, 1)",borderBottom:"1px solid rgba(0, 0, 0, .0)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Fe.a),et=function(e){var t=e.maxItems,i=e.oSetDataInputItems,r=e.oDataInputItems,a=e.withinObject,n=e.withinArray,l=e.field_uri,o=e.value,s=e.pathFormData,c=e.path,d=e.pathSchema,p=e.field_required,u=e.field_key,f=e.field_index,j=e.edit,h=e.field_label,b=e.field_description,m=e.field_items,g=e.field_prefixItems,y=Object(S.useState)(!1),v=Object(k.a)(y,2),O=v[0],x=v[1],I=Object(S.useState)(!0),w=Object(k.a)(I,2),D=w[0],C=w[1],_=Object(S.useContext)(X),F=_.updateParent,N=_.convertedSchema,E=_.handleDataInput,A=_.handleDataDelete,R=_.handleConvertedDataInput,V=Object(S.useState)([]),B=Object(k.a)(V,2),W=B[0],U=B[1],z=Object(S.useState)([]),K=Object(k.a)(z,2),$=K[0],H=K[1];c=(c=(c=c.split(".")).filter((function(e){return e}))).join("."),s=(s=(s=s.split(".")).filter((function(e){return e}))).join(".");var G;Object(S.useEffect)((function(){if(void 0!==n&!0===n){if(void 0!==(o=r[f][u])&&void 0===g&void 0!==m&&"object"!==m.type)if(0===Object.keys(m).length){for(var e=[],t=0;t<o.length;t++)m={type:"string",field_key:"".concat(Ge())},e.push(m);U(e),H(o)}else{for(var i=[],a=0;a<o.length;a++){var l=JSON.parse(JSON.stringify(m));l.field_key=Ge(),i.push(l)}U(i),H(o)}}else if(void 0!==o){if(void 0===g&void 0!==m)if("object"!==m.type)if(0===Object.keys(m).length){for(var d=[],p=0;p<o.length;p++)m={type:"string",field_key:"".concat(Ge())},d.push(m);U(d),H(o),E(o,s,"array"),R(o,c+".value","array"),R(o,c+".prevValue","array")}else{for(var j=[],h=0;h<o.length;h++){var b=JSON.parse(JSON.stringify(m));b.field_key=Ge(),j.push(b)}U(j),H(o),E(o,s,"array"),R(o,c+".value","array"),R(o,c+".prevValue","array")}else{var y=[];0===$.length?function(){var e=o;e=Array.from(e);for(var t=Object(ee.a)(W),i=function(i){var r=void 0!==t[i]&0!==t.length?t[i]:{};0===Object.keys(r).length&&(r.field_key=Ge(),r.type="object",r.properties=JSON.parse(JSON.stringify(m.properties)),r.required=m.required,Object.keys(r.properties).forEach((function(t){r.properties[t].value=e[i][t]}))),y.push(r)},r=0;r<o.length;r++)i(r);U(y),H(o)}():function(){var e=o;e=Array.from(e);for(var t=function(t){var i={};i.field_key=Ge(),i.type="object",i.properties=JSON.parse(JSON.stringify(m.properties)),i.required=m.required,Object.keys(i.properties).forEach((function(r){i.properties[r].value=e[t][r]})),y.push(i)},i=0;i<o.length;i++)t(i);U(y),H(o)}()}}else U([]),H([])}),[o]),void 0===p?G=!1:p.includes(u)&&(G=!0);var Y=Xe(),Q={fieldKey:u,title:h,description:b,items:m,$id:l,type:"array",value:o},Z=function(e){if(void 0!==n&!0===n){var t=W,i=Array.from(t);i.splice(e,1),U(i);var r=$,a=Array.from(r);a.splice(e,1),H(a)}else{var l=W,o=Array.from(l);o.splice(e,1),U(o);var d=$,p=Array.from(d);p.splice(e,1),H(p),E(p,s,"array"),R(p,c+".value","array"),R(p,c+".prevValue","array")}};return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{style:{width:"100%",padding:"10px 0px 10px 0px"},children:Object(ae.jsxs)(Qe,{expanded:D,children:[Object(ae.jsx)(Ze,{expandIcon:a?null:Object(ae.jsx)(oe.a,{placement:"top",title:'Collapse/Expand this container"',children:Object(ae.jsx)(Se.a,{})}),"aria-controls":"panel1a-content",id:"panel1a-header",IconButtonProps:{onClick:function(){C(!D)}},children:Object(ae.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(ae.jsxs)("div",{style:{width:"100%"},children:[Object(ae.jsx)(ve.a,{className:Y.heading,children:h+(G?"*":"")}),D?Object(ae.jsx)("div",{style:{color:"gray"},children:b}):null]}),Object(ae.jsx)("div",{}),j?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(oe.a,{placement:"top",title:'Edit "'.concat(h,'"'),children:Object(ae.jsx)(J.a,{onClick:function(){return x(!0)},style:{marginLeft:"5px"},children:Object(ae.jsx)(q.a,{color:"primary"})})}),Object(ae.jsx)(oe.a,{placement:"top",title:'Remove "'.concat(h,'"'),children:Object(ae.jsx)(J.a,{onClick:function(){return function(){var e=le(N,c),t=c.split(".");if(t.length<=2){if(void 0!==e.required){var i=e.required.indexOf(u);-1!==i&&(e.required.splice(i,1),0===e.required.length&&delete e.required)}}else{t.pop(),t.pop();var r=M(e,t.join("."));if(void 0!==r.required){var a=r.required.indexOf(u);if(-1!==a){var n=t.join(".")+".required";r.required.splice(a,1),0===r.required.length?e=le(e,n):ce()(e,n,r.required)}}}F(e),A(s)}()},style:{marginLeft:"5px"},children:Object(ae.jsx)(P.a,{color:"secondary"})})})]}):null]})}),Object(ae.jsx)(L.a,{}),Object(ae.jsx)(Oe.a,{children:Object(ae.jsx)(De.a,{onDragEnd:function(e){if(e.destination)if(a&n){var t=W,i=Array.from(t),r=i.splice(e.source.index,1),l=Object(k.a)(r,1)[0];i.splice(e.destination.index,0,l),U(i);var o=$,d=Array.from(o),p=d.splice(e.source.index,1),u=Object(k.a)(p,1)[0];d.splice(e.destination.index,0,u),H(d)}else{var f=W,j=Array.from(f),h=j.splice(e.source.index,1),b=Object(k.a)(h,1)[0];j.splice(e.destination.index,0,b),U(j);var m=$,g=Array.from(m),y=g.splice(e.source.index,1),v=Object(k.a)(y,1)[0];g.splice(e.destination.index,0,v),H(g),E(g,s,"array"),R(g,c+".value","array"),R(g,c+".prevValue","array")}},children:Object(ae.jsx)(De.c,{droppableId:"subforms",children:function(e){return Object(ae.jsxs)("div",Object(T.a)(Object(T.a)({style:{width:"100%"}},e.droppableProps),{},{ref:e.innerRef,children:[Object.keys(W).map((function(e,t){return Object(ae.jsx)(De.b,{isDragDisabled:!1,draggableId:W[t].field_key,index:t,children:function(e){return Object(ae.jsx)("div",Object(T.a)(Object(T.a)({},e.draggableProps),{},{ref:e.innerRef,children:Object(ae.jsxs)("div",{style:{display:"flex"},children:[Object(ae.jsx)("div",Object(T.a)(Object(T.a)({style:{width:"20px",marginTop:"10px",height:"30px"}},e.dragHandleProps),{},{children:Object(ae.jsx)(oe.a,{placement:"top",title:"Drag & drop to adjust the order of this item",children:Object(ae.jsx)(Te.a,{fontSize:"small"})})})),Object(ae.jsx)(He,{arrayFieldKey:u,withinObject:a,value:o,pathSchema:d,pathFormData:s,dataInputItems:$,oDataInputItems:r,oSetDataInputItems:i,setDataInputItems:H,field_label:h,field_items:0!==W.length?W[t]:m,edit:!0,handleDeleteArrayItem:Z,path:c,fieldIndex:t,fieldkey:W[t].field_key,type:W[t].type})]})}))}},W[t].field_key)})),e.placeholder,Object(ae.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:Object(ae.jsxs)(J.a,{onClick:function(){!function(){if(void 0===t||t!==$.length){if(void 0===g&void 0!==m)if(0===Object.keys(m).length){m={type:"string",field_key:"".concat(Ge())};var e=W,i=Array.from(e);i.push(m),U(i);var r=$,a=Array.from(r);a.push(""),H(a)}else{var n=JSON.parse(JSON.stringify(m));n.field_key=Ge();var l=W,o=Array.from(l);if(o.push(n),U(o),["string","number","integer","boolean"].includes(n.type)){var s=$,c=Array.from(s);c.push(""),console.log(c),H(c)}else if("object"===n.type){var d=$,p=Array.from(d);p.push({}),H(p)}}}else Ye.b.warning("Can not add more item. Maximum number (".concat(t,") of items has been reached."),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0})}()},style:{fontSize:"12px",marginLeft:"5px",marginTop:"5px",height:"45px"},children:[Object(ae.jsx)(we.a,{style:{paddingRight:"5px"},fontSize:"small",color:"primary"})," Add Item"]})})]}))}})})})]})}),O?Object(ae.jsx)(ne,{field_uri:l,pathFormData:s,field_key:u,field_index:f,openDialog:O,setOpenDialog:x,path:c,UISchema:Q,field_required:G}):null,Object(ae.jsx)(Ye.a,{})]})},tt=i(277),it=function e(t){var i=[];return Object.keys(t).forEach((function(r){var a,n={};a=t[r],n.fieldKey=r,Object.keys(a).forEach((function(t){"enum"===t&&(n.enumerate=a[t]),"default"===t&&(n.defaultValue=a[t]),n[t]=a[t],"properties"===t&&(n[t]=e(a[t]))})),i.push(n)})),i},rt=Object(N.a)((function(e){return{root:{width:"100%"},heading:{color:"rgba(82, 94, 103, 1)",fontSize:e.typography.pxToRem(25),fontWeight:e.typography.fontWeightRegular}}})),at=Object(ye.a)({root:{border:"1px solid rgba(232, 244, 253, 1)","&:not(:last-child)":{borderBottom:0},boxShadow:"none","&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(_e.a),nt=Object(ye.a)({root:{backgroundColor:"rgba(232, 244, 253, 1)",borderBottom:"1px solid rgba(0, 0, 0, .0)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Fe.a),lt=function(e){var t=e.pathFormData,i=e.path,r=e.field_required,a=e.field_uri,n=e.field_key,l=e.field_index,o=e.edit,s=e.field_label,c=e.field_description,d=e.field_prefixItems,p=e.anyOf_list,u=Object(S.useState)(!1),f=Object(k.a)(u,2),j=f[0],h=f[1],b=Object(S.useState)(!0),m=Object(k.a)(b,2),g=m[0],y=m[1],v=Object(S.useContext)(X),O=v.updateParent,x=v.convertedSchema,I=v.handleDataInput,w=v.handleDataDelete,D=v.handleConvertedDataInput,C=Object(S.useState)(Array.isArray(p)&"array"===p[0].type?p[0].items:p[0]),_=Object(k.a)(C,2),F=_[0],N=_[1],A=Object(S.useState)(0),R=Object(k.a)(A,2),V=R[0],B=R[1],W=Object(S.useState)([]),U=Object(k.a)(W,2),z=U[0],K=U[1],$=Object(S.useState)([]),H=Object(k.a)($,2),G=H[0],Y=H[1];i=(i=(i=i.split(".")).filter((function(e){return e}))).join("."),t=(t=(t=t.split(".")).filter((function(e){return e}))).join(".");var Q=i.split(".");Q.pop(),Q=Q.join(".");var Z=t.split(".");Z.pop(),Z=Z.join(".");var ee,te=Array(p.length).fill().map((function(e,t){return t}));void 0===r?ee=!1:r.includes(n)&&(ee=!0);var ie=rt(),re={fieldKey:n,title:s,description:c,$id:a,items:F,type:"anyOf"},se=function(e){var r=z,a=Array.from(r);a.splice(e,1),K(a);var n=G,l=Array.from(n);l.splice(e,1),Y(l),I(l,t,"array"),D(l,i+".value","array"),D(l,i+".prevValue","array")};return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{style:{width:"100%",padding:"10px 0px 10px 0px"},children:Object(ae.jsxs)(at,{expanded:g,children:[Object(ae.jsx)(nt,{expandIcon:Object(ae.jsx)(oe.a,{placement:"top",title:'Collapse/Expand this container"',children:Object(ae.jsx)(Se.a,{})}),"aria-controls":"panel1a-content",id:"panel1a-header",IconButtonProps:{onClick:function(){y(!g)}},children:Object(ae.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(ae.jsxs)("div",{style:{width:"100%"},children:[Object(ae.jsx)(ve.a,{className:ie.heading,children:s+(ee?"*":"")}),g?Object(ae.jsx)("div",{style:{color:"gray"},children:c}):null]}),Object(ae.jsx)("div",{}),o?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(oe.a,{placement:"top",title:'Edit "'.concat(s,'"'),children:Object(ae.jsx)(J.a,{onClick:function(){return h(!0)},style:{marginLeft:"5px"},children:Object(ae.jsx)(q.a,{color:"primary"})})}),Object(ae.jsx)(oe.a,{placement:"top",title:'Remove "'.concat(s,'"'),children:Object(ae.jsx)(J.a,{onClick:function(){return function(){var e=le(x,i),r=i.split(".");if(r.length<=2){if(void 0!==e.required){var a=e.required.indexOf(n);-1!==a&&(e.required.splice(a,1),0===e.required.length&&delete e.required)}}else{r.pop(),r.pop();var l=M(e,r.join("."));if(void 0!==l.required){var o=l.required.indexOf(n);if(-1!==o){var s=r.join(".")+".required";l.required.splice(o,1),0===l.required.length?e=le(e,s):ce()(e,s,l.required)}}}O(e),w(t)}()},style:{marginLeft:"5px"},children:Object(ae.jsx)(P.a,{color:"secondary"})})})]}):null]})}),Object(ae.jsx)(L.a,{}),Object(ae.jsx)(E.a,{onChange:function(e){return function(e){Y([]),K([]),w(t);var r=M(x,i);delete r.value,ce()(x,i,r),console.log(x);var a=M(x,i);void 0!==a.properties&&(delete a.properties,ce()(x,i,a));var n=M(x,i);void 0!==n.type&&(delete n.type,ce()(x,i,n));var l=parseInt(e.target.value);if(B(l),"array"===p[l].type)N(p[l].items);else if("object"===p[l].type){var o=it(p[l].properties),s=M(x,i);s.properties=o,s.type="object",ce()(x,i,s),O(x),N(o)}else N(p[l])}(e)},style:{width:"220px",marginLeft:"10px",marginTop:"20px"},fullWidth:!1,select:!0,id:"select-schema",label:"Choose a subschema",SelectProps:{native:!0},children:te.map((function(e,t){return Object(ae.jsx)("option",{value:e,children:e},t)}))}),"array"===p[V].type?Object(ae.jsx)(Oe.a,{children:Object(ae.jsx)(De.a,{onDragEnd:function(e){if(e.destination){var r=z,a=Array.from(r),n=a.splice(e.source.index,1),l=Object(k.a)(n,1)[0];a.splice(e.destination.index,0,l),K(a);var o=G,s=Array.from(o),c=s.splice(e.source.index,1),d=Object(k.a)(c,1)[0];s.splice(e.destination.index,0,d),Y(s),I(s,t,"array"),D(s,i+".value","array"),D(s,i+".prevValue","array")}},children:Object(ae.jsx)(De.c,{droppableId:"subforms",children:function(e){return Object(ae.jsxs)("div",Object(T.a)(Object(T.a)({style:{width:"100%"}},e.droppableProps),{},{ref:e.innerRef,children:[Object.keys(z).map((function(e,r){return Object(ae.jsx)(De.b,{draggableId:z[r].field_key,index:r,children:function(e){return Object(ae.jsx)("div",Object(T.a)(Object(T.a)({},e.draggableProps),{},{ref:e.innerRef,children:Object(ae.jsxs)("div",{style:{display:"flex"},children:[Object(ae.jsx)("div",Object(T.a)(Object(T.a)({style:{width:"20px",marginTop:"10px",height:"30px"}},e.dragHandleProps),{},{children:Object(ae.jsx)(Te.a,{fontSize:"small"})})),Object(ae.jsx)(He,{pathFormData:t,dataInputItems:G,setDataInputItems:Y,field_label:s,field_items:F,edit:!0,handleDeleteArrayItem:se,path:i,fieldIndex:r,fieldkey:z[r].field_key,type:z[r].type})]})}))}},z[r].field_key)})),e.placeholder,Object(ae.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:Object(ae.jsxs)(J.a,{onClick:function(){!function(){if(void 0===d&void 0!==F)if(0===Object.keys(F).length){"".concat(Ge()),Object(tt.a)("field_items");var e=z,t=Array.from(e);t.push(F),K(t);var i=G,r=Array.from(i);r.push(""),Y(r)}else{var a=JSON.parse(JSON.stringify(F));a.field_key=Ge();var n=z,l=Array.from(n);if(l.push(a),K(l),["string","number","integer","boolean"].includes(a.type)){var o=G,s=Array.from(o);s.push(""),Y(s)}else if("object"===a.type){var c=G,p=Array.from(c);p.push({}),Y(p)}}}()},style:{fontSize:"12px",marginLeft:"5px",marginTop:"5px",height:"45px"},children:[Object(ae.jsx)(we.a,{style:{paddingRight:"5px"},fontSize:"small",color:"primary"})," Add Item"]})})]}))}})})}):"object"===p[V].type?Object(ae.jsx)("div",{style:{padding:"10px"},children:Object(ae.jsx)(qe,{path:i,pathFormData:void 0!==t?t:n,field_key:n,field_label:void 0,field_description:void 0,field_required:r,field_properties:F,edit:!1})}):Object(ae.jsx)("div",{style:{padding:"10px"},children:Object(ae.jsx)(pt,{pathFormData:Z,path:Q,fieldkey:n,fieldIndex:l,elementRequired:r,edit:!1,field:F})})]})}),j?Object(ae.jsx)(ne,{field_uri:a,anyOf_list:p,pathFormData:t,field_key:n,field_index:l,openDialog:j,setOpenDialog:h,path:i,UISchema:re,field_required:ee}):null]})},ot=i(615),st=i(607),ct=Object(N.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),dt=function(e){e.contentEncoding;var t,i=e.withinObject,r=e.field_uri,a=e.dataInputItems,n=e.setDataInputItems,l=e.withinArray,o=e.path,s=e.pathFormData,c=e.field_required,d=e.field_index,p=e.edit,u=e.field_key,f=e.field_label,j=e.field_description,h=(e.field_enumerate,e.defaultValue),b=e.value,m=Object(S.useState)(!1),g=Object(k.a)(m,2),y=g[0],v=g[1],O=Object(S.useContext)(X),x=O.updateParent,I=O.convertedSchema,w=O.handleDataInput,D=O.handleDataDelete,C=O.handleConvertedDataInput,F=Object(S.useState)(!1),N=Object(k.a)(F,2),E=N[0],A=N[1],R=Object(S.useState)(void 0!==j?j:""),L=Object(k.a)(R,2),B=L[0],W=L[1],U=Object(S.useState)(void 0!==h?h:void 0!==b?b:""),z=Object(k.a)(U,2),K=z[0],$=z[1],H=Object(S.useState)(!1),Q=Object(k.a)(H,2),Z=Q[0],ee=Q[1];ct();o=(o=(o=o.split(".")).filter((function(e){return e}))).join("."),s=(s=(s=s.split(".")).filter((function(e){return e}))).join("."),void 0===c?t=!1:c.includes(u)&&(t=!0);var te=Object(S.useCallback)((function(e){var t=function(e){var t=e.match(/\[(.*?)\]/);if(t){var i=t[1];return(i=(i=i.replaceAll('"',"")).replaceAll(" ","")).split(",")}return[]}(j),i=!0;if(i=0!==t.length&&function(e,t){return e="."+(e=(e=e.split(".")).pop()),!!t.includes(e)}(e[0].name,t),i){ee(!0);var r=new FileReader;r.onabort=function(){return console.log("file reading was aborted")},r.onerror=function(){return console.log("file reading has failed")},r.onload=function(){var e=r.result;if($(e),void 0!==l&l){var t=s.split(".");t.pop(),t=t.join(".");var i=o.split(".");i.pop(),i=i.join(".");var c=a,p=Array.from(c);p[d][u]=e,n(p),w(p,t,"boolean"),C(p,i+".value","boolean"),ee(!1)}else w(e,s,"boolean"),C(e,o+".value","boolean"),ee(!1)},r.readAsDataURL(e[0])}else ee(!1),A(!0),W("Seems like you've given a file with an unaccepted file type?"),$("")}),[]);Object(S.useEffect)((function(){if(void 0!==l&!0===l){var e=s.split(".");e.pop(),e=e.join(".");var t=o.split(".");t.pop(),t=t.join(".");var r=a,c=Array.from(r),p="";0!==c.length&&"object"===typeof c[0]&&(p=c[d][u]);var f=void 0!==b?b:void 0!==h?h:void 0!==p?p:"";""===f?($(""),A(!1),W(void 0!==j?j:"")):i?$(f):(c[d][u]=f,n(c),$(f),A(!1),W(void 0!==j?j:""),w(c,e,"boolean"),C(c,t+".value","boolean"))}else{var m=void 0!==b?b:void 0!==h?h:"";""===m?($(""),A(!1),W(void 0!==j?j:"")):($(m),A(!1),W(void 0!==j?j:""),w(m,s,"boolean"),C(m,o+".value","boolean"))}}),[b]);var ie={fieldKey:u,title:f,description:j,$id:r,type:"string",value:b},re=Object(_.a)({onDrop:te,multiple:!1}),se=re.getRootProps,de=re.getInputProps;return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)("div",{onMouseEnter:function(){!0===E&&(A(!1),W(void 0!==j?j:""))},style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",alignItems:"center",width:"100%"},children:[Object(ae.jsx)("div",{style:{paddingLeft:"15px",width:"100%"},children:Object(ae.jsxs)(G.a,{children:[Object(ae.jsx)(Y.a,{style:{paddingBottom:"10px",color:"".concat(E?"red":"")},children:void 0===f?"":f+":"}),Z?Object(ae.jsx)(st.a,{sx:{width:"225px"},children:Object(ae.jsx)(ot.a,{})}):null,Object(ae.jsx)("div",{style:{width:"225px",display:"flex",justifyContent:"center"},children:""!==K?Object(ae.jsx)("img",{src:K,width:"225"}):null}),Object(ae.jsx)("div",{style:{width:"225px",fontSize:"10px",color:"grey",paddingTop:"5px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:K}),Object(ae.jsxs)("div",{style:{paddingTop:"5px",textAlign:"left",width:"100%"},children:[Object(ae.jsxs)(J.a,Object(T.a)(Object(T.a)({color:E?"secondary":"",variant:"outlined"},se()),{},{children:[Object(ae.jsx)("input",Object(T.a)({},de())),"Upload a file"]})),""!==K?Object(ae.jsx)(J.a,{onClick:function(){!function(){if($(""),void 0!==l&l){var e=s.split(".");e.pop(),e=e.join(".");var t=o.split(".");t.pop(),t=t.join(".");var i=a,r=Array.from(i);r[d][u]=void 0,n(r),w(r,e,"boolean"),C(r,t+".value","boolean"),C(r,t+".prevValue","boolean")}else w("",s,"boolean"),C("",o+".value","boolean"),C("",o+".prevValue","boolean")}()},style:{marginLeft:"5px"},variant:"outlined",color:"secondary",children:"Clear"}):null]}),Object(ae.jsx)(Ve.a,{style:{color:"".concat(E?"red":"")},children:B})]})}),p?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(oe.a,{placement:"top",title:'Edit field "'.concat(f,'"'),children:Object(ae.jsx)(V.a,{onClick:function(){return v(!0)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(q.a,{fontSize:"small",color:"primary"})})}),Object(ae.jsx)(oe.a,{placement:"top",title:'Remove field "'.concat(f,'"'),children:Object(ae.jsx)(V.a,{onClick:function(){return function(){var e=le(I,o),t=o.split(".");if(t.length<=2){if(void 0!==e.required){var i=e.required.indexOf(u);-1!==i&&(e.required.splice(i,1),0===e.required.length&&delete e.required)}}else{t.pop(),t.pop();var r=M(e,t.join("."));if(void 0!==r.required){var a=r.required.indexOf(u);if(-1!==a){var n=t.join(".")+".required";r.required.splice(a,1),0===r.required.length?e=le(e,n):ce()(e,n,r.required)}}}x(e),D(s)}()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(ae.jsx)(P.a,{fontSize:"small",color:"secondary"})})})]}):null]}),y?Object(ae.jsx)(ne,{field_uri:r,pathFormData:s,defaultValue:h,field_key:u,field_index:d,openDialog:y,setOpenDialog:v,path:o,UISchema:ie,field_required:t}):null]})},pt=function(e){var t=e.withinObject,i=e.dataInputItems,r=e.setDataInputItems,a=e.withinArray,n=e.path,l=e.pathSchema,o=e.pathFormData,s=e.elementRequired,c=e.fieldkey,d=e.fieldIndex,p=e.edit,u=e.field,f=u.maxItems,j=u.type,h=u.$id,b=u.title,m=u.contentEncoding,g=u.description,y=u.properties,v=u.required,O=u.enumerate,x=u.items,S=u.defaultValue,I=u.value,w=u.anyOf;switch(j){case"string":return void 0!==m?Object(ae.jsx)(dt,{contentEncoding:m,value:I,withinArray:a,withinObject:t,dataInputItems:i,setDataInputItems:r,path:n+"."+d,pathSchema:l+"."+c,pathFormData:void 0!==o?o+"."+c:c,field_key:c,field_index:d,field_label:b,field_uri:h,field_description:g,field_required:s,defaultValue:S,edit:p}):Object(ae.jsx)(pe,{value:I,withinArray:a,withinObject:t,dataInputItems:i,setDataInputItems:r,path:n+"."+d,pathSchema:l+"."+c,pathFormData:void 0!==o?o+"."+c:c,field_key:c,field_index:d,field_label:b,field_uri:h,field_description:g,field_required:s,field_enumerate:O,defaultValue:S,edit:p});case"number":return Object(ae.jsx)(ge,{value:I,withinArray:a,withinObject:t,dataInputItems:i,setDataInputItems:r,path:n+"."+d,pathSchema:l+"."+c,pathFormData:void 0!==o?o+"."+c:c,field_key:c,field_uri:h,field_index:d,field_label:b,field_description:g,field_required:s,field_enumerate:O,defaultValue:S,edit:p});case"integer":return Object(ae.jsx)(Pe,{value:I,withinArray:a,withinObject:t,dataInputItems:i,setDataInputItems:r,path:n+"."+d,pathSchema:l+"."+c,pathFormData:void 0!==o?o+"."+c:c,field_key:c,field_uri:h,field_index:d,field_label:b,field_description:g,field_required:s,field_enumerate:O,defaultValue:S,edit:p});case"boolean":return Object(ae.jsx)(Le,{value:I,withinArray:a,withinObject:t,dataInputItems:i,setDataInputItems:r,path:n+"."+d,pathSchema:l+"."+c,pathFormData:void 0!==o?o+"."+c:c,field_key:c,field_uri:h,field_index:d,field_label:b,field_description:g,field_required:s,defaultValue:S,edit:p});case"array":return Object(ae.jsx)(et,{value:I,maxItems:f,oDataInputItems:i,oSetDataInputItems:r,withinArray:a,withinObject:t,path:n+"."+d,pathSchema:l+"."+c,pathFormData:void 0!==o?o+"."+c:c,field_key:c,field_index:d,field_uri:h,field_label:b,field_description:g,field_required:s,field_items:x,edit:p});case"object":return void 0!==w?Object(ae.jsx)(lt,{pathFormData:void 0!==o?o+"."+c:c,withinArray:a,withinObject:t,dataInputItems:i,setDataInputItems:r,path:n+"."+d,field_index:d,field_key:c,field_uri:h,field_label:b,field_description:g,field_required:s,anyOf_list:w,edit:p}):Object(ae.jsx)(qe,{withinArray:a,withinObject:t,path:n+"."+d,pathSchema:l+"."+c,pathFormData:void 0!==o?o+"."+c:c,field_key:c,field_uri:h,field_label:b,field_description:g,field_required:v,field_properties:y,edit:p});case void 0:return w?Object(ae.jsx)(lt,{pathFormData:void 0!==o?o+"."+c:c,withinArray:a,withinObject:t,path:n+"."+d,field_index:d,field_key:c,field_uri:h,field_label:b,field_description:g,field_required:s,anyOf_list:w,edit:p}):null;default:return null}},ut=i(279),ft=i.n(ut),jt=["title","titleId"];function ht(){return ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ht.apply(this,arguments)}function bt(e,t){if(null==e)return{};var i,r,a=function(e,t){if(null==e)return{};var i,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}function mt(e,t){var i=e.title,r=e.titleId,a=bt(e,jt);return S.createElement("svg",ht({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 58 58",style:{enableBackground:"new 0 0 58 58"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},a),i?S.createElement("title",{id:r},i):null,o||(o=S.createElement("g",null,S.createElement("path",{d:"M50.949,12.187l-1.361-1.361l-9.504-9.505c-0.001-0.001-0.001-0.001-0.002-0.001l-0.77-0.771 C38.957,0.195,38.486,0,37.985,0H8.963C7.776,0,6.5,0.916,6.5,2.926V39v16.537V56c0,0.837,0.841,1.652,1.836,1.909 c0.051,0.014,0.1,0.033,0.152,0.043C8.644,57.983,8.803,58,8.963,58h40.074c0.16,0,0.319-0.017,0.475-0.048 c0.052-0.01,0.101-0.029,0.152-0.043C50.659,57.652,51.5,56.837,51.5,56v-0.463V39V13.978C51.5,13.211,51.407,12.644,50.949,12.187 z M39.5,3.565L47.935,12H39.5V3.565z M8.963,56c-0.071,0-0.135-0.025-0.198-0.049C8.61,55.877,8.5,55.721,8.5,55.537V41h41v14.537 c0,0.184-0.11,0.34-0.265,0.414C49.172,55.975,49.108,56,49.037,56H8.963z M8.5,39V2.926C8.5,2.709,8.533,2,8.963,2h28.595 C37.525,2.126,37.5,2.256,37.5,2.391V13.78c-0.532-0.48-1.229-0.78-2-0.78c-0.553,0-1,0.448-1,1s0.447,1,1,1c0.552,0,1,0.449,1,1v4 c0,1.2,0.542,2.266,1.382,3c-0.84,0.734-1.382,1.8-1.382,3v4c0,0.551-0.448,1-1,1c-0.553,0-1,0.448-1,1s0.447,1,1,1 c1.654,0,3-1.346,3-3v-4c0-1.103,0.897-2,2-2c0.553,0,1-0.448,1-1s-0.447-1-1-1c-1.103,0-2-0.897-2-2v-4 c0-0.771-0.301-1.468-0.78-2h11.389c0.135,0,0.265-0.025,0.391-0.058c0,0.015,0.001,0.021,0.001,0.036V39H8.5z"}),S.createElement("path",{d:"M16.354,51.43c-0.019,0.446-0.171,0.764-0.458,0.95s-0.672,0.28-1.155,0.28c-0.191,0-0.396-0.022-0.615-0.068 s-0.429-0.098-0.629-0.157s-0.385-0.123-0.554-0.191s-0.299-0.135-0.39-0.198l-0.697,1.107c0.183,0.137,0.405,0.26,0.67,0.369 s0.54,0.207,0.827,0.294s0.565,0.15,0.834,0.191s0.504,0.062,0.704,0.062c0.401,0,0.791-0.039,1.169-0.116 c0.378-0.077,0.713-0.214,1.005-0.41s0.524-0.456,0.697-0.779s0.26-0.723,0.26-1.196v-7.848h-1.668V51.43z"}),S.createElement("path",{d:"M25.083,49.064c-0.314-0.228-0.654-0.422-1.019-0.581s-0.702-0.323-1.012-0.492s-0.569-0.364-0.779-0.588 s-0.314-0.518-0.314-0.882c0-0.146,0.036-0.299,0.109-0.458s0.173-0.303,0.301-0.431s0.273-0.234,0.438-0.321 s0.337-0.139,0.52-0.157c0.328-0.027,0.597-0.032,0.807-0.014s0.378,0.05,0.506,0.096s0.226,0.091,0.294,0.137 s0.13,0.082,0.185,0.109c0.009-0.009,0.036-0.055,0.082-0.137s0.101-0.185,0.164-0.308s0.132-0.255,0.205-0.396 s0.137-0.271,0.191-0.39c-0.265-0.173-0.61-0.299-1.039-0.376s-0.853-0.116-1.271-0.116c-0.41,0-0.8,0.063-1.169,0.191 s-0.692,0.313-0.971,0.554s-0.499,0.535-0.663,0.882S20.4,46.13,20.4,46.576c0,0.492,0.104,0.902,0.314,1.23 s0.474,0.613,0.793,0.854s0.661,0.451,1.025,0.629s0.704,0.355,1.019,0.533s0.576,0.376,0.786,0.595s0.314,0.483,0.314,0.793 c0,0.511-0.148,0.896-0.444,1.155s-0.723,0.39-1.278,0.39c-0.183,0-0.378-0.019-0.588-0.055s-0.419-0.084-0.629-0.144 s-0.412-0.123-0.608-0.191s-0.357-0.139-0.485-0.212l-0.287,1.176c0.155,0.137,0.34,0.253,0.554,0.349s0.439,0.171,0.677,0.226 c0.237,0.055,0.472,0.094,0.704,0.116s0.458,0.034,0.677,0.034c0.511,0,0.966-0.077,1.367-0.232s0.738-0.362,1.012-0.622 s0.485-0.561,0.636-0.902s0.226-0.695,0.226-1.06c0-0.538-0.104-0.978-0.314-1.319S25.397,49.292,25.083,49.064z"}),S.createElement("path",{d:"M34.872,45.072c-0.378-0.429-0.82-0.754-1.326-0.978s-1.06-0.335-1.661-0.335s-1.155,0.111-1.661,0.335 s-0.948,0.549-1.326,0.978s-0.675,0.964-0.889,1.606s-0.321,1.388-0.321,2.235s0.107,1.595,0.321,2.242s0.511,1.185,0.889,1.613 s0.82,0.752,1.326,0.971s1.06,0.328,1.661,0.328s1.155-0.109,1.661-0.328s0.948-0.542,1.326-0.971s0.675-0.966,0.889-1.613 s0.321-1.395,0.321-2.242s-0.107-1.593-0.321-2.235S35.25,45.501,34.872,45.072z M34.195,50.698 c-0.137,0.487-0.326,0.882-0.567,1.183s-0.515,0.518-0.82,0.649s-0.627,0.198-0.964,0.198c-0.328,0-0.641-0.07-0.937-0.212 s-0.561-0.364-0.793-0.67s-0.415-0.699-0.547-1.183s-0.203-1.066-0.212-1.75c0.009-0.702,0.082-1.294,0.219-1.777 c0.137-0.483,0.326-0.877,0.567-1.183s0.515-0.521,0.82-0.649s0.627-0.191,0.964-0.191c0.328,0,0.641,0.068,0.937,0.205 s0.561,0.36,0.793,0.67s0.415,0.704,0.547,1.183s0.203,1.06,0.212,1.743C34.405,49.616,34.332,50.211,34.195,50.698z"}),S.createElement("polygon",{points:"44.012,50.869 40.061,43.924 38.393,43.924 38.393,54 40.061,54 40.061,47.055 44.012,54 45.68,54 45.68,43.924  44.012,43.924  "}),S.createElement("path",{d:"M20.5,20v-4c0-0.551,0.448-1,1-1c0.553,0,1-0.448,1-1s-0.447-1-1-1c-1.654,0-3,1.346-3,3v4c0,1.103-0.897,2-2,2 c-0.553,0-1,0.448-1,1s0.447,1,1,1c1.103,0,2,0.897,2,2v4c0,1.654,1.346,3,3,3c0.553,0,1-0.448,1-1s-0.447-1-1-1 c-0.552,0-1-0.449-1-1v-4c0-1.2-0.542-2.266-1.382-3C19.958,22.266,20.5,21.2,20.5,20z"}),S.createElement("circle",{cx:28.5,cy:19.5,r:1.5}),S.createElement("path",{d:"M28.5,25c-0.553,0-1,0.448-1,1v3c0,0.552,0.447,1,1,1s1-0.448,1-1v-3C29.5,25.448,29.053,25,28.5,25z"}))),s||(s=S.createElement("g",null)),c||(c=S.createElement("g",null)),d||(d=S.createElement("g",null)),p||(p=S.createElement("g",null)),u||(u=S.createElement("g",null)),f||(f=S.createElement("g",null)),j||(j=S.createElement("g",null)),h||(h=S.createElement("g",null)),b||(b=S.createElement("g",null)),m||(m=S.createElement("g",null)),g||(g=S.createElement("g",null)),y||(y=S.createElement("g",null)),v||(v=S.createElement("g",null)),O||(O=S.createElement("g",null)),x||(x=S.createElement("g",null)))}var gt=S.forwardRef(mt),yt=(i.p,i(280)),vt=i.n(yt),Ot=function(e){var t=e.schemaID,i=e.title,r=e.description,a=e.schemaURI,n=e.openDialog,l=e.setOpenDialog,o=Object(S.useState)(t),s=Object(k.a)(o,2),c=s[0],d=s[1],p=Object(S.useState)(i),u=Object(k.a)(p,2),f=u[0],j=u[1],h=Object(S.useState)(r),b=Object(k.a)(h,2),m=b[0],g=b[1],y=Object(S.useState)(a),v=Object(k.a)(y,2),O=v[0],x=v[1],I=Object(S.useContext)(X),w=I.updateParent,D=I.convertedSchema,C=function(e,t){switch(t){case"title":return j(e.target.value);case"description":return g(e.target.value);case"id":return d(e.target.value);case"uri":return x(e.target.value);default:return null}},T=function(){g(r),d(t),x(a),j(i),l(!1)};return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsxs)(B.a,{open:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ae.jsx)(K.a,{id:"alert-dialog-title",children:Object(ae.jsxs)("div",{style:{display:"inline-flex",width:"100%",verticalAlign:"middle"},children:[Object(ae.jsx)(q.a,{fontSize:"large",color:"primary",style:{alignSelf:"center"}}),Object(ae.jsxs)("div",{style:{width:"100%",alignSelf:"center"},children:['Edit schema "',i,'"']}),Object(ae.jsx)(V.a,{onClick:function(){return T()},children:Object(ae.jsx)(re.a,{fontSize:"large",color:"secondary"})})]})}),Object(ae.jsx)(L.a,{}),Object(ae.jsx)(U.a,{children:Object(ae.jsx)(z.a,{id:"alert-dialog-description",component:"span",children:Object(ae.jsx)("div",{children:Object(ae.jsxs)(G.a,{component:"widget-type",children:[Object(ae.jsx)(Y.a,{style:{color:"#01579b"},component:"legend",children:"Basic Descriptors:"}),Object(ae.jsx)(E.a,{disabled:!0,margin:"normal",onChange:function(e){return C(e,"id")},style:{marginTop:"20px"},defaultValue:a,variant:"outlined",fullWidth:!0,label:"$schema"}),Object(ae.jsx)(E.a,{margin:"normal",onChange:function(e){return C(e,"id")},style:{marginTop:"10px"},defaultValue:t,variant:"outlined",fullWidth:!0,label:"Schema ID"}),Object(ae.jsx)(E.a,{margin:"normal",onChange:function(e){return C(e,"title")},style:{marginTop:"10px"},defaultValue:i,variant:"outlined",fullWidth:!0,label:"Schema Title"}),Object(ae.jsx)(E.a,{margin:"normal",onChange:function(e){return C(e,"description")},style:{marginTop:"10px"},defaultValue:r,variant:"outlined",fullWidth:!0,label:"Schema Description",multiline:!0,rows:3})]})})})}),Object(ae.jsxs)(W.a,{children:[Object(ae.jsx)(J.a,{onClick:function(){return T()},color:"secondary",children:"Cancel"}),Object(ae.jsx)(J.a,{onClick:function(){return void 0===O||""===O.replace(/\s+/g,"")?delete D.$schema:D.$schema=O,void 0===c||""===c.replace(/\s+/g,"")?delete D.id:D.id=c,void 0===f||""===f.replace(/\s+/g,"")?delete D.title:D.title=f,void 0===m||""===m.replace(/\s+/g,"")?delete D.description:D.description=m,w(D),void l(!1)},color:"primary",autoFocus:!0,children:"Save"})]})]})})},xt=(Object(N.a)((function(e){return{root:{width:"100%"},heading:{color:"rgba(82, 94, 103, 1)",fontSize:e.typography.pxToRem(25),fontWeight:e.typography.fontWeightRegular}}})),function(e){var t=e.openSchemaViewer,i=e.setOpenSchemaViewer,r=e.jsonschema;return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsxs)(B.a,{onClose:function(){return i(!1)},maxWidth:"md",fullWidth:!0,open:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ae.jsx)(K.a,{id:"alert-dialog-title",children:Object(ae.jsxs)("div",{style:{display:"inline-flex",width:"100%",verticalAlign:"middle"},children:[Object(ae.jsx)("div",{style:{width:"100%",alignSelf:"center"},children:"JSON Schema viewer"}),Object(ae.jsx)(V.a,{onClick:function(){return i(!1)},children:Object(ae.jsx)(re.a,{fontSize:"large",color:"secondary"})})]})}),Object(ae.jsx)(L.a,{}),Object(ae.jsx)(U.a,{children:Object(ae.jsx)(E.a,{disabled:!0,fullWidth:!0,variant:"filled",multiline:!0,defaultValue:JSON.stringify(r,null,2)})}),Object(ae.jsx)(W.a,{})]})})}),St=function e(t,i){t.forEach((function(t){if("object"===t.type){if(void 0===i)return;e(t.properties,i[t.fieldKey])}else{if(void 0===i)return;if(void 0!==i[t.fieldKey]){var r=t.type;switch(t.value=i[t.fieldKey],r){case"number":return"number"===typeof i[t.fieldKey]?t.prevValue=i[t.fieldKey]:null;case"integer":return Number.isInteger(i[t.fieldKey])?t.prevValue=i[t.fieldKey]:null;case"boolean":return"boolean"===typeof i[t.fieldKey]?t.prevValue=i[t.fieldKey]:null;case"array":return"array"===typeof i[t.fieldKey]?t.prevValue=i[t.fieldKey]:null;case"string":return t.prevValue=JSON.parse(JSON.stringify(i[t.fieldKey])).toString();default:return null}}}}))},It=Object(N.a)((function(e){return{root:{width:"100%"},heading:{color:"rgba(82, 94, 103, 1)",fontSize:e.typography.pxToRem(25),fontWeight:e.typography.fontWeightRegular}}})),wt=function(e){var t=e.revertAllChanges,i=e.schema,r=e.edit,a=e.originalSchema,n=Object(S.useContext)(X),l=n.updateParent,o=n.convertedSchema,s=Object(S.useState)(!1),c=Object(k.a)(s,2),d=c[0],p=c[1],u=Object(S.useState)(!1),f=Object(k.a)(u,2),j=f[0],h=f[1],b=Object(S.useState)(!1),m=Object(k.a)(b,2),g=m[0],y=m[1],v=Object(S.useState)(),O=Object(k.a)(v,2),x=O[0],I=O[1],w=It(),D=Object(S.useCallback)((function(e){var t=function(e){var t=!1,i="INVALID TYPE!\n Form data must be of a json file type.";return"application/json"===e[0].type&&(t=!0,i="Form data is of a valid file type."),[t,i]}(e);if(!1===t[0])Ye.b.error(Object(ae.jsx)("div",{children:Object(ae.jsx)("strong",{children:t[1]})}),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0});else{var i=new FileReader;i.onabort=function(){return console.log("file reading was aborted")},i.onerror=function(){return console.log("file reading has failed")},i.onload=function(){var e=i.result,t=JSON.parse(e);I(t)},i.readAsText(e[0])}}),[]);Object(S.useEffect)((function(){if(void 0!==x){var e=Object(T.a)({},o);console.log("before filling:\n",JSON.parse(JSON.stringify(e))),St(e.properties,x),console.log("filled form:\n",e),l(e)}}),[x]);var C=Object(_.a)({onDrop:D,multiple:!1}),F=C.getRootProps,N=C.getInputProps,E=null!==i&&void 0!==i?i:{},A=E.properties,R=E.title,P=E.description,V=E.required,B=E.$schema,W=E.id;return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)("div",{style:{width:"100%",paddingLeft:"10px",paddingRight:"10px"},children:[Object(ae.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(ae.jsx)(ve.a,{className:w.heading,style:{width:"100%"},children:R}),Object(ae.jsx)(oe.a,{placement:"top",title:"View JSON Schema for this form",children:Object(ae.jsx)(J.a,{onClick:function(){return y(!0)},style:{marginLeft:"5px"},children:Object(ae.jsx)(gt,{style:{height:"22px"}})})}),Object(ae.jsx)(oe.a,{placement:"top",title:"Upload input data for this form",children:Object(ae.jsxs)(J.a,Object(T.a)(Object(T.a)({style:{marginLeft:"5px"}},F()),{},{children:[Object(ae.jsx)("input",Object(T.a)({},N())),Object(ae.jsx)(ft.a,{})]}))}),r?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(oe.a,{placement:"top",title:"Edit json schema header",children:Object(ae.jsx)(J.a,{onClick:function(){return h(!0)},style:{marginLeft:"5px"},children:Object(ae.jsx)(q.a,{color:"primary"})})}),Object(ae.jsx)(oe.a,{placement:"top",title:"Revert all changes made to this form",children:Object(ae.jsx)(J.a,{onClick:function(){return t()},style:{marginLeft:"5px"},children:Object(ae.jsx)(vt.a,{color:"primary"})})})]}):null]}),Object(ae.jsx)(L.a,{}),Object(ae.jsx)(ve.a,{children:P}),Object(ae.jsx)(De.a,{onDragEnd:function(e){if(e.destination){var t=Array.from(A),i=t.splice(e.source.index,1),r=Object(k.a)(i,1)[0];t.splice(e.destination.index,0,r);var a=Object(T.a)({},o);a.properties=t,l(a)}},children:Object(ae.jsx)(De.c,{droppableId:"forms",children:function(e){return Object(ae.jsxs)("form",Object(T.a)(Object(T.a)({},e.droppableProps),{},{ref:e.innerRef,children:[Object.keys(A).map((function(e,t){return Object(ae.jsx)(De.b,{isDragDisabled:!r,draggableId:A[e].fieldKey,index:t,children:function(t){return Object(ae.jsx)("div",Object(T.a)(Object(T.a)({},t.draggableProps),{},{ref:t.innerRef,children:Object(ae.jsxs)("div",{style:{display:"flex"},children:[r?Object(ae.jsx)("div",Object(T.a)(Object(T.a)({style:{width:"20px",marginTop:"10px",height:"30px"}},t.dragHandleProps),{},{children:Object(ae.jsx)(oe.a,{placement:"top",title:"Drag & drop to adjust the order of this field",children:Object(ae.jsx)(Te.a,{fontSize:"small"})})})):null,Object(ae.jsx)(pt,{schema:i,path:"properties",pathSchema:"properties",fieldkey:A[e].fieldKey,fieldIndex:e,elementRequired:V,edit:r,field:A[e]})]})}))}},A[e].fieldKey)})),e.placeholder,r?Object(ae.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:Object(ae.jsx)(oe.a,{placement:"top",title:"Add a new element/field to this schema",children:Object(ae.jsxs)(J.a,{onClick:function(){return p(!0)},style:{marginLeft:"5px"},children:[Object(ae.jsx)(we.a,{color:"primary"})," ADD ELEMENT"]})})}):null]}))}})})]}),d?Object(ae.jsx)(ke,{openDialog:d,setOpenDialog:p,defaultSchema:{},schemaTitle:R}):null,j?Object(ae.jsx)(Ot,{schemaID:W,title:R,description:P,schemaURI:B,openDialog:j,setOpenDialog:h}):null,g?Object(ae.jsx)(xt,{openSchemaViewer:g,setOpenSchemaViewer:y,jsonschema:a}):null,Object(ae.jsx)(Ye.a,{})]})},Dt=function e(t){var i={};return t.forEach((function(t){var r=t.fieldKey;delete t.fieldKey;var a=t;i[r]=a,Object.keys(a).forEach((function(t){if("enumerate"===t){var a=JSON.parse(JSON.stringify(i[r].enumerate));delete i[r].enumerate,i[r].enum=a}if("defaultValue"===t){var n=JSON.parse(JSON.stringify(i[r].defaultValue));delete i[r].defaultValue,i[r].default=n}"properties"===t&&(i[r].properties=e(i[r].properties)),"value"===t&&delete i[r].value,"prevValue"===t&&delete i[r][t]}))})),i},Ct=i(283),Tt=i(616),kt=i(282),_t=i.n(kt),Ft=i(161),Nt=i.n(Ft),Et=function(e,t){var i=JSON.parse(JSON.stringify(e)),r=t.split(".");if(1===r.length)delete i[r[0]];else{var a=r.pop();r=r.join(".");var n=M(i,r);delete n[a],ce()(i,r,n)}return i},At=i(162),qt=i.n(At),Rt=i(281),Pt=i.n(Rt),Vt=function(e,t){if(void 0!==t.$schema){if(t.$schema.includes("draft-04")){console.log("draft-04 is detected");var i=new Pt.a({schemaId:"id",allErrors:!0}).compile(t);return[i(e),i]}var r=new qt.a({allErrors:!0}).compile(t);return[r(e),r]}if(void 0!==t.schema){var a=new qt.a({allErrors:!0}).compile(t);return[a(e),a]}var n=new qt.a({allErrors:!0});void 0!==t.$schema&&(t=Et(t,"$schema")),void 0!==t.id&&(t=Et(t,"id"));var l=n.compile(t);return[l(e),l]},Jt=i(609),Lt=function(e){var t=e.getTagsELabFTW,i=e.eLabURL,r=e.setELabURL,a=e.setTags,n=(e.tags,e.setRetrievedTags),l=e.retrievedTags,o=e.setExperimentTitle,s=e.setToken,c=e.token,d=e.setOpenSubmitDialog,p=e.openSubmitDialog,u=e.createExperimentELabFTW,f=function(){d(!1),n([]),r(""),s(""),a([])};return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsxs)(B.a,{open:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ae.jsx)(K.a,{id:"alert-dialog-title",children:Object(ae.jsxs)("div",{style:{display:"inline-flex",width:"100%",verticalAlign:"middle"},children:[Object(ae.jsx)("div",{style:{width:"100%",alignSelf:"center"},children:"Create eLabFTW Experiment"}),Object(ae.jsx)(V.a,{onClick:function(){return f()},children:Object(ae.jsx)(re.a,{fontSize:"large",color:"secondary"})})]})}),Object(ae.jsx)(L.a,{}),Object(ae.jsx)(U.a,{children:Object(ae.jsx)(z.a,{id:"alert-dialog-description",component:"span",children:Object(ae.jsx)("div",{children:Object(ae.jsxs)(G.a,{component:"widget-type",children:[Object(ae.jsx)(Y.a,{style:{color:"#01579b"},component:"legend",children:"eLabFTW"}),Object(ae.jsx)(E.a,{required:!0,margin:"normal",onChange:function(e){return r(e.target.value)},style:{marginTop:"20px"},variant:"outlined",fullWidth:!0,label:"Your eLabFTW main URL"}),Object(ae.jsx)(E.a,{required:!0,margin:"normal",onChange:function(e){return s(e.target.value)},style:{marginTop:"20px"},variant:"outlined",fullWidth:!0,label:"Your eLabFTW token"}),Object(ae.jsx)(E.a,{margin:"normal",onBlur:function(e){return o(e.target.value)},style:{marginTop:"10px"},variant:"outlined",fullWidth:!0,label:"Experiment title"}),Object(ae.jsxs)("div",{style:{display:"inline-flex",width:"100%"},children:[Object(ae.jsx)(Jt.a,{style:{width:"100%"},disabled:0===l.length,multiple:!0,freeSolo:!0,options:l,getOptionLabel:function(e){return e.tag||e},onChange:function(e,t){a(t)},renderInput:function(e){return Object(ae.jsx)(E.a,Object(T.a)(Object(T.a)({},e),{},{disabled:0===l.length,variant:"outlined",label:"Tags",margin:"normal",style:{marginTop:"10px"},helperText:'Press the "GET TAGS" button to retrieve available tags from your eLabFTW system.Note: you have to provide the eLabFTW main URL and token to enable the button.'}))}}),Object(ae.jsx)(J.a,{onClick:function(){return t()},disabled:!!(""===c.trim()|""===i.trim()|void 0===c|void 0===i),style:{marginLeft:"5px",height:"55px",marginTop:"11px"},variant:"contained",color:"primary",children:"Get Tags"})]})]})})})}),Object(ae.jsxs)(W.a,{children:[Object(ae.jsx)(J.a,{onClick:function(){return f()},color:"secondary",children:"Cancel"}),Object(ae.jsx)(J.a,{disabled:!!(""===c.trim()|""===i.trim()|void 0===c|void 0===i),onClick:function(){return u()},color:"primary",autoFocus:!0,children:"Create Experiment"})]})]})})},Bt=function(e){var t="",i=function(e){return""===e};return e.forEach((function(e){if(""===e.path)e.fields.forEach((function(e){void 0!==e.$id?(t+='<dt><span style="color: #ffffff;"><a style="color: #ffffff;" title='.concat(e.$id," href=").concat(e.$id,">").concat(e.label,"</a></span></dt>\n"),t+="<dd>".concat(e.value,"</dd>\n")):(t+="<dt>".concat(e.label,"</dt>\n"),t+="<dd>".concat(e.value,"</dd>\n"))}));else{var r=e.path.split("."),a='<dt style="background-color: #ffffff; border: 0px; height: 10px;"></dt>\n';a+='<dt style="background-color: #ffffff; border: 0px;">',r.forEach((function(t,n){void 0!==e.pathURIs&!e.pathURIs.some(i)&&""!==t?n===r.length-1?a+="<a title=".concat(e.pathURIs[n]," href=").concat(e.pathURIs[n],"><strong>").concat(e.pathLabels[n],"</strong></a>"):a+="<a title=".concat(e.pathURIs[n]," href=").concat(e.pathURIs[n],">").concat(e.pathLabels[n],'</a><a style="color: #29aeb9;">/</a>'):n===r.length-1?a+='<a style="color:#000000;"><strong>'.concat(e.pathLabels[n],"</strong></a>"):a+='<a style="color:#000000;">'.concat(e.pathLabels[n],"/</a>")})),t+=a+="</dt>\n",e.fields.forEach((function(e){void 0!==e.$id?(t+='<dt><span style="color: #ffffff;"><a style="color: #ffffff;" title='.concat(e.$id," href=").concat(e.$id,">").concat(e.label,"</a></span></dt>\n"),t+="<dd>".concat(e.value,"</dd>\n")):(t+="<dt>".concat(e.label,"</dt>\n"),t+="<dd>".concat(e.value,"</dd>\n"))}))}})),t},Wt=(i(536),function e(t){var i={};return t.forEach((function(t){var r=t.fieldKey;"object"===t.type?i[r]=e(t.properties):void 0!==t.value&&(i[r]={value:t.value},i[r].label=t.title,i[r].key=t.fieldKey,i[r].$id=t.$id)})),i}),Ut=function e(t,i){return Object.keys(t).reduce((function(r,a){var n=Array.isArray(t)?"[".concat(a,"]"):"".concat(a);return t[a]===i&&r.push(n),t[a]&&"object"===typeof t[a]&&r.push.apply(r,Object(ee.a)(e(t[a],i).map((function(e){return n+("["===e[0]?"":".")+e})))),r}),[])},zt=function(e,t){if(void 0===t)return e.properties;var i=JSON.parse(JSON.stringify(e));if(""!==(t=t.split("."))[0]){for(var r=i.properties,a=0;a<t.length;a++)r="object"===r.type?r.properties[t[a]]:r[t[a]];return r}},Kt=function(e,t){for(var i=t.split("."),r=[],a=[],n=[],l=0;l<i.length;l++){r.push(i[l]);var o=JSON.parse(JSON.stringify(r));o=o.join(".");var s=zt(e,o);"object"===typeof s?(void 0!==s.$id?a.push(s.$id):a.push(""),void 0!==s.title?n.push(s.title):n.push("")):(a.push(""),n.push(""))}return[a,n]},Mt=function(e){var t=[];return e.forEach((function(e){(e=e.split(".")).pop(),e.pop(),e=e.join("."),t.push(e)})),t},$t=function e(t,i,r,a){return Object.keys(t).forEach((function(n){if(void 0===t[n].label)e(t[n],i,r,a);else if(void 0!==t[n].value){var l=Ut(i,t[n].key);l=Mt(l);var o=Ut(i,t[n].label);o=Mt(o);var s=l.filter((function(e){return o.includes(e)})),c=Kt(r,s[0]);a.push({path:s[0],pathURIs:c[0],pathLabels:c[1],key:t[n].key,label:t[n].label,value:t[n].value,$id:t[n].$id})}})),a},Ht=function(e){var t=[];return e.forEach((function(e){var i=function(e,t){var i=!1;return e.forEach((function(e,r){e.path===t&&(i=r)})),i}(t,e.path);if(!1!==i){t[i].fields.push({key:e.key,label:e.label,value:e.value,$id:e.$id})}else{var r={};r.path=e.path,r.pathURIs=e.pathURIs,r.pathLabels=e.pathLabels,r.fields=[{key:e.key,label:e.label,value:e.value,$id:e.$id}],t.push(r)}})),t},Gt=function e(t){var i={};return t.forEach((function(t){var r=t.fieldKey;delete t.fieldKey;var a=t;i[r]=a,Object.keys(a).forEach((function(t){if("enumerate"===t){var a=JSON.parse(JSON.stringify(i[r].enumerate));delete i[r].enumerate,i[r].enum=a}if("defaultValue"===t){var n=JSON.parse(JSON.stringify(i[r].defaultValue));delete i[r].defaultValue,i[r].default=n}"properties"===t&&(void 0!==i[r].anyOf?(delete i[r].properties,delete i[r].type):i[r].properties=e(i[r].properties)),"value"===t&&delete i[r].value,"prevValue"===t&&delete i[r][t]}))})),i},Yt=i(190),Xt=i(191),Qt=i(192),Zt=i(193),ei=function e(t){t.forEach((function(t){"object"===t.type?e(t.properties):void 0===t.value&&(t.value="")}))},ti=function e(t){var i={};return t.forEach((function(t){var r=t.fieldKey;delete t.fieldKey;var a=t;i[r]=a,void 0===i[r].value&"object"!==i[r].type?delete i[r]:(i[r]=a,Object.keys(a).forEach((function(t){if("properties"===t&&(i[r]=e(i[r].properties)),"value"===t){var a=i[r].value;delete i[r],i[r]=a}})))})),i},ii=function e(t){var i={};return Object.keys(t).forEach((function(r){"object"!==t[r].type?void 0!==t[r].default?i[r]=t[r].default:void 0===t[r].default&void 0!==t[r].enum?i[r]=t[r].enum[0]:"boolean"===t[r].type&void 0===t[r].default&&(i[r]=!1):void 0!==t[r].properties&&(i[r]=e(t[r].properties))})),i},ri=function e(t){return Object.keys(t).forEach((function(i){t[i]&&"object"===typeof t[i]?void 0===e(t[i])&&delete t[i]:""!==t[i]&&null!==t[i]&&void 0!==t[i]||delete t[i]})),Object.keys(t).length>0||t instanceof Array?t:void 0},ai=function(){var e=Object(S.useState)(!0),t=Object(k.a)(e,2),r=t[0],a=t[1],n=Object(S.useState)(null),l=Object(k.a)(n,2),o=l[0],s=l[1],c=Object(S.useState)(!1),d=Object(k.a)(c,2),p=d[0],u=d[1],f=Object(S.useState)(null),j=Object(k.a)(f,2),h=j[0],b=j[1],m=Object(S.useState)(null),g=Object(k.a)(m,2),y=(g[0],g[1]),v=Object(S.useState)(!1),O=Object(k.a)(v,2),x=O[0],I=O[1],w=Object(S.useState)(!0),D=Object(k.a)(w,2),C=D[0],N=D[1],A=Object(S.useState)([]),q=Object(k.a)(A,2),R=q[0],P=q[1],V=Object(S.useState)([]),B=Object(k.a)(V,2),W=B[0],U=B[1],z=Object(S.useState)(""),K=Object(k.a)(z,2),$=K[0],H=K[1],G=Object(S.useState)(),Y=Object(k.a)(G,2),Q=Y[0],Z=Y[1],ee=Object(S.useState)(!1),te=Object(k.a)(ee,2),ie=te[0],re=te[1],ne=Object(S.useState)(null),le=Object(k.a)(ne,2),oe=le[0],se=le[1],de=Object(S.useState)(!1),pe=Object(k.a)(de,2),ue=pe[0],fe=pe[1],je=Object(S.useState)({}),he=Object(k.a)(je,2),be=he[0],me=he[1],ge=Object(S.useState)(""),ye=Object(k.a)(ge,2),ve=ye[0],Oe=ye[1],xe=Object(S.useState)({}),Se=Object(k.a)(xe,2),Ie=(Se[0],Se[1]),we=Object(S.useState)(""),De=Object(k.a)(we,2),Ce=De[0],Te=De[1],ke=Object(S.useState)(""),_e=Object(k.a)(ke,2),Fe=_e[0],Ne=_e[1],Ee=Object(S.useState)(""),Ae=Object(k.a)(Ee,2),qe=Ae[0],Re=Ae[1],Pe=Object(S.useState)(!1),Ve=Object(k.a)(Pe,2),Je=Ve[0],Le=Ve[1],Be=Object(S.useState)([]),We=Object(k.a)(Be,2),Ue=We[0],ze=We[1],Ke=Object(S.useState)([]),Me=Object(k.a)(Ke,2),$e=Me[0],He=Me[1],Ge=Object(S.useState)(null),Xe=Object(k.a)(Ge,2),Qe=Xe[0],Ze=Xe[1],et=Object(S.useState)(!1),tt=Object(k.a)(et,2),rt=tt[0],at=tt[1],nt=Boolean(Qe),lt=function(){Ze(null)};Object(S.useEffect)((function(){i(148).ajax({type:"GET",url:"/adamant/api/check_mode",success:function(){console.log("Connection to server is established. Online mode"),Le(!0),Ye.b.success("Connection to server is established. Online mode.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0})},error:function(){console.log("Unable to establish connection to server. Offline mode"),Le(!1),U(["","plasma-mds.json","pak-schema.json","appj-schema.json","all-types.json"]),P([null,Yt,Xt,Qt,Zt]),Ye.b.warning("Unable to establish connection to server. Offline mode.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0})}})}),[]),Object(S.useEffect)((function(){!0===Je&&i(148).ajax({type:"GET",url:"/adamant/api/get_schemas",success:function(e){console.log("SUCCESS");var t=[];e.schema.forEach((function(e){t.push(JSON.parse(e))})),P(t),U(e.schemaName)},error:function(){console.log("ERROR"),Ye.b.warning("Error while fetching the schemas. Using basic list of schemas.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0}),U(["","plasma-mds.json","pak-schema.json","appj-schema.json","all-types.json"]),P([null,Yt,Xt,Qt,Zt])}})}),[Je]);var ot=Object(S.useCallback)((function(e){!function(e){if("application/json"===e[0].type){var t=new FileReader;t.onabort=function(){return console.log("file reading was aborted")},t.onerror=function(){return console.log("file reading has failed")},t.onload=function(){var i=t.result,r=JSON.parse(i),a=JSON.parse(JSON.stringify(r));try{a.properties=it(r.properties),u(!0),s("".concat(e[0].name," is a valid schema")),b(r);var n=JSON.parse(JSON.stringify(r));Z(n),Ie(JSON.parse(JSON.stringify(n))),se(a),N(!0);var l=ii(r.properties);me(l)}catch(o){console.log(o),u(!1),s("".concat(e[0].name," is invalid")),b(null)}},t.readAsText(e[0])}else u(!1),s("".concat(e[0].name," is of incorrect file type")),b(null)}(e),I(!1),a(!0),fe(!1),me({}),H("")}),[I]),st=Object(_.a)({onDrop:ot,multiple:!1}),ct=st.getRootProps,dt=st.getInputProps,pt=st.isDragActive,ut=function(){a(!0),I(!1),b(null),u(!1),s(),fe(!1),H("")};return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)(X.Provider,{value:{updateParent:function(e){var t=Object(T.a)({},e),i=JSON.parse(JSON.stringify(t)),r=JSON.parse(JSON.stringify(t));i.properties=Dt(r.properties),se(t),b(i);var a=JSON.parse(JSON.stringify(t)),n=JSON.parse(JSON.stringify(t));a.properties=Gt(n.properties),y(a)},convertedSchema:oe,handleDataInput:function(e,t,i){var r,a=Object(T.a)({},be);["string","number","integer","boolean"].includes(i)?r=["number","integer","boolean"].includes(i)?e:e.target.value:"array"===i&&(r=e),ce()(a,t,r),me(a)},updateFormDataId:function(e,t,i,r){if(e!==t)if(void 0===r){var a=Object(T.a)({},be);a=Et(a,i),me(a),console.log("Current form data:",a)}else{var n=i.split(".");n.pop(),n.push(t);var l=Object(T.a)({},be),o=M(l,i);ce()(l,n,o),l=Et(l,i),me(l),console.log("Current form data:",l)}},handleDataDelete:function(e){var t=Object(T.a)({},be),i=Et(t,e);me(i),console.log("Current form data:",i)},handleConvertedDataInput:function(e,t,i){var r,a=Object(T.a)({},oe);["string","number","integer","boolean"].includes(i)?r=["number","integer","boolean"].includes(i)?e:e.target.value:"array"===i&&(r=e),ce()(a,t,r),se(a),console.log("Current form data (convData):",ti(JSON.parse(JSON.stringify(a.properties))))}},children:[Object(ae.jsxs)("div",{style:{paddingBottom:"5px"},children:[Object(ae.jsx)("img",{style:{width:"100%",borderRadius:"5px"},alt:"header",src:F}),ie?null:Object(ae.jsxs)("div",{style:{display:"flex",width:"100%",textAlign:"left",padding:"10px 10px 0px 10px"},children:[Object(ae.jsxs)(J.a,Object(T.a)(Object(T.a)({variant:"contained",color:"primary"},ct()),{},{children:[Object(ae.jsx)("input",Object(T.a)({},dt())),pt?"Drop here":"Browse Schema"]})),Object(ae.jsx)("div",{style:{paddingLeft:"10px",display:"flex",justifyContent:"center",alignItems:"center"},children:"OR"}),Object(ae.jsx)(E.a,{onChange:function(e){return function(e){I(!1),a(!0),fe(!1),me({}),console.log("selected schema:",e.target.value),H(e.target.value);var t=R[W.indexOf(e.target.value)];if(null===t)return a(!0),I(!1),b(null),u(!1),s(),fe(!1),void me({});var i=JSON.parse(JSON.stringify(t));try{i.properties=it(t.properties),u(!0),s("".concat(e.target.value," is a valid schema")),b(t);var r=JSON.parse(JSON.stringify(t));Z(r),Ie(JSON.parse(JSON.stringify(r))),se(i),N(!0);var n=ii(t.properties);me(n)}catch(l){console.log(l),u(!1),s("".concat(e.target.value," is invalid")),b(null)}}(e)},style:{width:"220px",marginLeft:"10px"},fullWidth:!1,value:$,select:!0,id:"select-schema",label:"Select existing schema",variant:"outlined",SelectProps:{native:!0},children:W.map((function(e,t){return Object(ae.jsx)("option",{value:e,children:e},t)}))}),Object(ae.jsx)("div",{style:{paddingLeft:"10px",display:"flex",justifyContent:"center",alignItems:"center"},children:"OR"}),Object(ae.jsx)(J.a,{onClick:function(){return function(){u(!1),s(),me({}),H("");var e=JSON.parse(JSON.stringify({$schema:"http://json-schema.org/draft-04/schema#",properties:{},type:"object"})),t=ii(e.properties);me(t);var i=JSON.parse(JSON.stringify(e));i.properties=it(e.properties),fe(!0),b(e);var r=JSON.parse(JSON.stringify(e));Z(r),Ie(JSON.parse(JSON.stringify(r))),se(i),N(!0),a(!1),I(!0)}()},style:{marginLeft:"10px",marginRight:"10px"},variant:"contained",color:"primary",children:"CREATE FROM SCRATCH"})]})]}),ie?null:Object(ae.jsxs)("div",{style:{paddingLeft:"10px",display:"flex",width:"100%",textAlign:"left"},children:[!0===p?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)("div",{style:{width:"498px",paddingRight:"10px",display:"flex",justifyContent:"left",alignItems:"center",color:"green"},children:[o,". You can now render the form."]}),Object(ae.jsx)(J.a,{style:{marginRight:"5px"},onClick:function(){return a(!1),void I(!0)},variant:"outlined",children:"Render"}),Object(ae.jsx)(J.a,{onClick:function(){return ut()},variant:"outlined",color:"secondary",children:"Clear"})]}):Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)("div",{style:{paddingRight:"10px",paddingTop:"10px",display:"flex",justifyContent:"center",alignItems:"center",color:"red"},children:o})}),!0===ue?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{style:{paddingRight:"10px",display:"flex",justifyContent:"center",alignItems:"center",color:"green"},children:"Create from scratch mode. You can now start editing."}),Object(ae.jsx)(J.a,{onClick:function(){return ut()},variant:"outlined",color:"secondary",children:"Clear"})]}):null]}),Object(ae.jsx)("div",{style:{padding:"10px"},children:Object(ae.jsx)(L.a,{})}),!0===x?Object(ae.jsx)(wt,{revertAllChanges:function(){var e=Object(T.a)({},Q),t=JSON.parse(JSON.stringify(e));t.properties=it(e.properties),console.log(t),se(t),b(e),Ie(e),Oe("");var i=ii(e.properties);me(i)},schema:oe,originalSchema:h,edit:C}):null,Object(ae.jsx)("div",{style:{padding:"10px"},children:Object(ae.jsx)(L.a,{})}),Object(ae.jsx)("div",{style:{padding:"10px 10px",display:"flex",justifyContent:"right"},children:ie?Object(ae.jsxs)("div",{style:{width:"100%",display:"inline-block"},children:[Object(ae.jsx)(J.a,{onClick:function(){return function(){var e=h;re(!1),b(e),N(!0),a(!1)}()},style:{float:"left",marginRight:"5px"},variant:"outlined",children:"Back to Edit Mode"}),Object(ae.jsx)(J.a,{disabled:!Je,onClick:function(){return function(){var e=Object(T.a)({},oe),t=JSON.parse(JSON.stringify(e.properties));ei(t);var i=Wt(t);if(void 0===i|i==={})Ye.b.error(Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{children:Object(ae.jsx)("strong",{children:"Unable to proceed. Form data is not valid. Maybe empty?"})}),Object(ae.jsx)("div",{style:{paddingBottom:"10px"},children:"Check your inputs!"})]}),{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0});else{var r=$t(i,i,h,[]),a=Ht(r),n="<dl>\n".concat(Bt(a),"</dl>\n"),l="<h1><strong>".concat(e.title,"</strong></h1>\n");l+=n,l+="<div> This experiment template was generated with <span ><a title=https://github.com/csihda/adamant href=https://github.com/csihda/adamant>ADAMANT v0.0.1</a></span> </div>",console.log("created description list:\n",l),Oe(l);var o=Object(T.a)({},be),s=Object(T.a)({},h);void 0===(o=ri(o))&&(o={});var c=Vt(o,s),d=Object(k.a)(c,2),p=d[0],u=d[1];if(!p|0===Object.keys(o).length){var f="";if(null!==u.errors)for(var j=0;j<u.errors.length;j++)f+=u.errors[j].message+".\n";return f=f.split("\n"),Ye.b.error(Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{children:Object(ae.jsx)("strong",{children:"Form data is not valid."})}),Object(ae.jsx)("div",{style:{paddingBottom:"10px"},children:"Check your inputs!"}),f.map((function(e,t){return Object(ae.jsx)("div",{children:e},t)}))]}),{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0}),Te(""),Re(""),void ze([])}at(!0)}}()},style:{float:"right"},variant:"contained",color:"primary",children:"Proceed"}),Object(ae.jsxs)(J.a,{style:{float:"right",marginRight:"5px"},id:"demo-positioned-button","aria-controls":nt?"demo-positioned-menu":void 0,"aria-haspopup":"true","aria-expanded":nt?"true":void 0,onClick:function(e){Ze(e.currentTarget)},children:[Object(ae.jsx)(_t.a,{})," Download Schema/Data"]}),Object(ae.jsxs)(Ct.a,{id:"demo-positioned-menu","aria-labelledby":"demo-positioned-button",anchorEl:Qe,open:nt,onClose:lt,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[Object(ae.jsx)(Tt.a,{onClick:function(){var e=Object(T.a)({},h),t=Nt.a.SHA256(JSON.stringify(e)),i=document.createElement("a"),r=new Blob([JSON.stringify(e)],{type:"application/json"});i.href=URL.createObjectURL(r),i.download="jsonschema-".concat(t,".json"),i.click(),lt()},children:"Download JSON Schema"}),Object(ae.jsx)(Tt.a,{onClick:function(){var e=Object(T.a)({},oe),t=ti(JSON.parse(JSON.stringify(e.properties))),i=Object(T.a)({},h);void 0===(t=ri(t))&&(t={}),console.log("content",t);var r=Vt(t,i),a=Object(k.a)(r,2),n=a[0],l=a[1];if(!n|0===Object.keys(t).length){var o="";if(null!==l.errors)for(var s=0;s<l.errors.length;s++){o+=l.errors[s].message+"."+"\n"}return o=o.split("\n"),void Ye.b.error(Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{children:Object(ae.jsx)("strong",{children:"Form data is not valid."})}),Object(ae.jsx)("div",{style:{paddingBottom:"10px"},children:"Check your inputs!"}),o.map((function(e,t){return Object(ae.jsx)("div",{children:e},t)}))]}),{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0})}var c=Nt.a.SHA256(JSON.stringify(t)),d=document.createElement("a"),p=new Blob([JSON.stringify(t)],{type:"application/json"});d.href=URL.createObjectURL(p),d.download="formdata-".concat(c,".json"),d.click(),lt()},children:"Download JSON Data"}),Object(ae.jsx)(Tt.a,{onClick:function(){var e=Object(T.a)({},be),t=Object(T.a)({},h);void 0===(e=ri(e))&&(e={});var i=Vt(e,t),r=Object(k.a)(i,2),a=r[0],n=r[1];if(!a|0===Object.keys(e).length){var l="";if(null!==n.errors)for(var o=0;o<n.errors.length;o++){l+=n.errors[o].message+"."+"\n"}return l=l.split("\n"),void Ye.b.error(Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{children:Object(ae.jsx)("strong",{children:"Form data is not valid."})}),Object(ae.jsx)("div",{style:{paddingBottom:"10px"},children:"Check your inputs!"}),l.map((function(e,t){return Object(ae.jsx)("div",{children:e},t)}))]}),{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0})}var s=Object(T.a)({},oe),c=JSON.parse(JSON.stringify(s.properties));ei(c);var d=Wt(c);if(void 0===d|d==={})Ye.b.error(Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{children:Object(ae.jsx)("strong",{children:"Unable to download. Form data is not valid. Maybe empty?"})}),Object(ae.jsx)("div",{style:{paddingBottom:"10px"},children:"Check your inputs!"})]}),{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0});else{var p=$t(d,d,h,[]),u=Ht(p),f="<dl>\n".concat(Bt(u),"</dl>\n"),j="<h1><strong>".concat(s.title,"</strong></h1>\n");j+=f,j+="<div> This experiment template was generated with <span><a title=https://github.com/csihda/adamant href=https://github.com/csihda/adamant>ADAMANT v0.0.1</a></span> </div>",console.log("created description list:\n",j),Oe(f);var b=Nt.a.SHA256(j),m=document.createElement("a"),g=new Blob([j],{type:"text/plain"});m.href=URL.createObjectURL(g),m.download="desclist-".concat(b,".tpl"),m.click(),lt()}},children:"Download Description List"})]})]}):Object(ae.jsx)(J.a,{disabled:r,onClick:function(){return function(){var e=h;re(!0),b(e),N(!1),a(!0)}()},variant:"contained",color:"primary",children:"Compile"})}),Object(ae.jsx)("div",{style:{padding:"10px",color:"grey"},children:"ADAMANT v0.0.1"})]}),Object(ae.jsx)(Lt,{setTags:ze,tags:Ue,setRetrievedTags:He,retrievedTags:$e,setExperimentTitle:Re,createExperimentELabFTW:function(){var e=Object(T.a)({},be),t=Object(T.a)({},h);void 0===(e=ri(e))&&(e={});var r=Vt(e,JSON.parse(JSON.stringify(t))),a=Object(k.a)(r,2),n=a[0],l=a[1];if(!n|0===Object.keys(e).length){var o="";if(null!==l.errors)for(var s=0;s<l.errors.length;s++){o+=l.errors[s].message+"."+"\n"}return o=o.split("\n"),Ye.b.error(Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{children:Object(ae.jsx)("strong",{children:"Form data is not valid."})}),Object(ae.jsx)("div",{style:{paddingBottom:"10px"},children:"Check your inputs!"}),o.map((function(e,t){return Object(ae.jsx)("div",{children:e},t)}))]}),{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0}),Te(""),Re(""),void ze([])}console.log("tags:",Ue),i(148).ajax({type:"POST",url:"/adamant/api/create_experiment",async:!1,dataType:"json",data:{javascript_data:JSON.stringify(e),schema:JSON.stringify(t),eLabURL:Fe,eLabToken:Ce,title:qe,body:ve,tags:JSON.stringify(Ue)},success:function(e){console.log("SUCCESS"),console.log(e),at(!1),Ye.b.success("Successfully created an experiment with id: ".concat(e.experimentId,"!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0}),Te(""),Re(""),He([]),ze([])},error:function(e){console.log("ERROR"),console.log(e),at(!1),Ye.b.error("Failed to create an experiment!\nMaybe wrong url or token?",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0}),Te(""),Re(""),He([]),ze([])}})},setToken:Te,token:Ce,setELabURL:Ne,eLabURL:Fe,setOpenSubmitDialog:at,openSubmitDialog:rt,getTagsELabFTW:function(){i(148).ajax({type:"POST",url:"/adamant/api/get_tags",dataType:"json",data:{eLabURL:Fe,eLabToken:Ce},success:function(e){console.log("Tags retrieved successfully"),He(e),Ye.b.success("Successfully retrieved the tags!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0})},error:function(e){console.log("Failed to retrieve tags"),console.log(e),Ye.b.error("Failed to get the tags!\nMaybe wrong url or token?",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0})}})}}),Object(ae.jsx)(Ye.a,{})]})};i(537);function ni(){return Object(ae.jsx)("div",{className:"the_app",children:Object(ae.jsxs)(C.d,{children:[Object(ae.jsx)(C.a,{exact:!0,from:"/",to:"/adamant"}),Object(ae.jsx)(C.b,{exact:!0,path:"/adamant",component:ai})]})})}var li=i(606),oi=document.getElementById("root");w.a.render(Object(ae.jsxs)(D.a,{children:[Object(ae.jsx)(li.a,{}),Object(ae.jsx)(ni,{})]}),oi)}},[[542,1,2]]]);
//# sourceMappingURL=main.42648093.chunk.js.map