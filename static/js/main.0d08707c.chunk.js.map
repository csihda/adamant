{"version":3,"sources":["assets/header-image.png","components/utils/getValue.js","components/utils/checkIfFieldIDExist.js","FormContext.js","components/utils/updateRequired.js","components/EditElement.js","components/utils/deleteKey.js","components/elements/StringType.js","components/utils/getUnit.js","components/elements/NumberType.js","components/AddElement.js","components/elements/ObjectType.js","components/elements/IntegerType.js","components/elements/BooleanType.js","components/elements/array_items/ItemIntegerType.js","components/elements/array_items/ItemNumberType.js","components/elements/array_items/ItemStringType.js","components/elements/array_items/ItemObjectType.js","components/elements/ArrayItemRenderer.js","components/utils/generateUniqueID.js","components/elements/ArrayType.js","components/ElementRenderer.js","components/EditSchemaHeader.js","components/FormRenderer.js","components/JSONSchemaViewer.js","components/utils/array2object.js","components/utils/object2array.js","pages/AdamantMain.jsx","App.js","index.js"],"names":["getValue","json","path","undefined","jsonData","JSON","parse","stringify","split","tempValue","i","length","checkIfFieldIDExist","schema","fieldId","result","forEach","element","value","newPath","pop","join","FormContext","createContext","updateRequired","selectedType","requiredChecked","field_id","convertedSchema","set","require","immediateValue","requiredArray","push","Set","includes","filter","item","EditElement","makeStyles","theme","root","width","heading","fontSize","typography","pxToRem","fontWeight","fontWeightRegular","enumerated","field_enumerate","field_required","UISchema","openDialog","setOpenDialog","defaultValue","useState","setSelectedType","title","setTitle","setFieldId","description","setDescription","defValue","setDefValue","useContext","updateParent","setRequiredChecked","enumChecked","setEnumChecked","enumList","setEnumList","tempUISchema","handleChangeUISchema","event","keyword","target","replace","handleCancelEdit","handleCheckBoxOnChange","prev","Dialog","open","DialogTitle","id","style","display","verticalAlign","color","alignSelf","IconButton","onClick","Divider","DialogContent","DialogContentText","FormControl","component","FormLabel","TextField","margin","required","onChange","marginTop","variant","fullWidth","label","helperText","multiline","rows","select","SelectProps","native","map","content","index","FormControlLabel","control","Checkbox","checked","marginBottom","paddingTop","paddingBottom","FormGroup","DialogActions","Button","toString","existed","alert","console","log","newConvertedSchema","newList","Array","isArray","parsed","parseInt","parseFloat","handleUpdateSchemaOnClick","autoFocus","deleteKey","elementValue","deleteIndex","at","splice","useStyles","StringType","field_index","edit","field_label","field_description","classes","handleDeleteElement","className","marginLeft","height","getUnit","addorn","match","NumberType","inputValue","setInputValue","unit","handleInputOnChange","inputValueVar","handleInputOnBlur","isNaN","onBlur","e","InputProps","endAdornment","InputAdornment","position","AddElement","defaultSchema","schemaTitle","inputProps","maxLength","handleOnBlurFieldId","properties","ObjectType","field_properties","openDialogAddElement","setOpenDialogAddElement","expand","setExpand","padding","Accordion","expanded","AccordionSummary","expandIcon","IconButtonProps","Typography","AccordionDetails","onDragEnd","destination","items","from","source","reorderedItem","droppableId","provided","droppableProps","ref","innerRef","Object","keys","isDragDisabled","draggableId","draggableProps","dragHandleProps","fieldIndex","elementRequired","field","placeholder","justifyContent","IntegerType","BooleanType","alignItems","paddingLeft","textAlign","FormHelperText","ItemIntegerType","field_type","handleDeleteArrayItem","ItemNumberType","ItemStringType","ItemObjectType","field_items","justifySelf","tempField","ElementRenderer","type","enumerate","generateUID","firstPart","Math","random","secondPart","slice","ArrayType","field_prefixItems","inputItems","setInputItems","arr","ArrayItemRenderer","generateUniqueID","newFieldItems","handleAddArrayItem","EditSchemaHeader","schemaID","schemaURI","_schemaID","_setSchemaID","_title","_setTitle","_description","_setDescription","_schemaURI","_setSchemaURI","FormRenderer","revertAllChanges","$schema","paddingRight","JSONSchemaViewer","jsonschema","overflowX","whiteSpace","wordWrap","array2object","propert","someObject","tempKey","tempElements","enumContent","object2array","someArray","tempVariable2","tempVariable","item_","AdamantMain","disable","setDisable","schemaMessage","setSchemaMessage","schemaValidity","setSchemaValidity","setSchema","renderReady","setRenderReady","editMode","setEditMode","setSchemaFile","originalSchema","setOriginalSchema","inputMode","setInputMode","setConvertedSchema","createScratchMode","setCreateScratchMode","onDrop","useCallback","acceptedFile","schemaFile","reader","FileReader","onabort","onerror","onload","binaryStr","obj","oriSchema","error","readAsText","checkSchemaValidity","useDropzone","multiple","getRootProps","getInputProps","isDragActive","clearSchemaOnClick","Provider","newValue","updatedSchema","tempSchema","borderRadius","alt","src","HeaderImage","createSchemaFromScratch","marginRight","toEditMode","disabled","compileOnClick","App","exact","to","rootElement","document","getElementById","ReactDOM","render","StrictMode","CssBaseline"],"mappings":"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","file":"static/js/main.0d08707c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-image.37bfe931.png\";","// get json value given path\r\nconst getValue = (json, path) => {\r\n    if (path === undefined) {\r\n        return json[\"properties\"]\r\n    }\r\n    let jsonData = JSON.parse(JSON.stringify(json))\r\n    path = path.split('.')\r\n    let tempValue = jsonData\r\n    for (let i = 0; i < path.length; i++) {\r\n        tempValue = tempValue[path[i]]\r\n    }\r\n    return tempValue\r\n};\r\n\r\nexport default getValue;","import getValue from \"./getValue\";\r\nconst checkIfFieldIDExist = (schema, path, fieldId) => {\r\n    let result\r\n    if (path === undefined) {\r\n        let value = schema[\"properties\"]\r\n        value.forEach(element => {\r\n            if (element[\"fieldId\"] === fieldId) {\r\n                return result = true;\r\n            }\r\n        });\r\n    } else {\r\n\r\n        let value = getValue(schema, path)[\"properties\"]\r\n\r\n        if (value === undefined) {\r\n            let newPath = path.split(\".\")\r\n            newPath.pop()\r\n            newPath = newPath.join(\".\")\r\n            let value = getValue(schema, newPath)\r\n            value.forEach(element => {\r\n                if (element[\"fieldId\"] === fieldId) {\r\n                    return result = true;\r\n                }\r\n            });\r\n        } else {\r\n            value.forEach(element => {\r\n                if (element[\"fieldId\"] === fieldId) {\r\n                    return result = true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    if (result) {\r\n        return true\r\n    } else {\r\n        return false\r\n    }\r\n\r\n}\r\n\r\nexport default checkIfFieldIDExist;","import { createContext } from 'react';\r\nexport const FormContext = createContext(null);","/*\r\nFunction to add or remove \"required\" flag for a specific field\r\n*/\r\n\r\n\r\n// get json value given path\r\nconst getValue = (json, path) => {\r\n    let jsonData = JSON.parse(JSON.stringify(json))\r\n    path = path.split('.')\r\n    let tempValue = jsonData\r\n    for (let i = 0; i < path.length; i++) {\r\n        tempValue = tempValue[path[i]]\r\n    }\r\n    return tempValue\r\n}\r\n\r\nconst updateRequired = ({ selectedType, path, requiredChecked, field_id, convertedSchema }) => {\r\n\r\n    if (selectedType === \"object\") {\r\n        requiredChecked = false\r\n    }\r\n\r\n    const set = require(\"set-value\");\r\n\r\n    let newPath = path.split('.')\r\n    newPath.pop()\r\n    newPath.pop()\r\n    newPath = newPath.join('.')\r\n    const immediateValue = getValue(convertedSchema, newPath)\r\n    if (immediateValue !== undefined) {\r\n        // check if there is required array\r\n        if (immediateValue[\"required\"] !== undefined) {\r\n            let requiredArray = immediateValue[\"required\"]\r\n            if (requiredChecked) {\r\n                requiredArray.push(field_id)\r\n                requiredArray = [...new Set(requiredArray)]\r\n                set(convertedSchema, newPath + \".required\", requiredArray)\r\n            } else {\r\n                // check if the field id exists\r\n                if (requiredArray.includes(field_id)) {\r\n                    requiredArray = requiredArray.filter(item => item !== field_id)\r\n                    set(convertedSchema, newPath + \".required\", requiredArray)\r\n\r\n                    if (requiredArray.length === 0) {\r\n                        delete immediateValue[\"required\"]\r\n                        set(convertedSchema, newPath, immediateValue)\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            if (requiredChecked) {\r\n                let requiredArray = [`${field_id}`]\r\n                set(convertedSchema, newPath + \".required\", requiredArray)\r\n            }\r\n        }\r\n    } else {\r\n        // check if there is required array\r\n        if (convertedSchema[\"required\"] !== undefined) {\r\n            let requiredArray = convertedSchema[\"required\"]\r\n            if (requiredChecked) {\r\n                requiredArray.push(field_id)\r\n                requiredArray = [...new Set(requiredArray)]\r\n                convertedSchema[\"required\"] = requiredArray\r\n            } else {\r\n                // check if the field id exists\r\n                if (requiredArray.includes(field_id)) {\r\n                    requiredArray = requiredArray.filter(item => item !== field_id)\r\n                    convertedSchema[\"required\"] = requiredArray\r\n                    if (requiredArray.length === 0) {\r\n                        delete convertedSchema[\"required\"]\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            if (requiredChecked) {\r\n                let requiredArray = [`${field_id}`]\r\n                convertedSchema[\"required\"] = requiredArray\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    return convertedSchema;\r\n}\r\n\r\nexport default updateRequired;","import React, { useContext, useState } from 'react'\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button } from '@material-ui/core';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport checkIfFieldIDExist from './utils/checkIfFieldIDExist';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport { FormContext } from '../FormContext';\r\nimport { Checkbox } from '@material-ui/core';\r\nimport { FormGroup } from '@material-ui/core';\r\nimport updateRequired from './utils/updateRequired';\r\nimport { IconButton } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: 'auto',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n    },\r\n}));\r\n\r\nconst style = {\r\n    paddingTop: \"10px\",\r\n    paddingBottom: \"10px\",\r\n}\r\n\r\nconst EditElement = ({ enumerated, field_enumerate, field_required, field_id, UISchema, path, openDialog, setOpenDialog, defaultValue }) => {\r\n\r\n    const [selectedType, setSelectedType] = useState(UISchema[\"type\"])\r\n    const [title, setTitle] = useState(UISchema[\"title\"])\r\n    const [fieldId, setFieldId] = useState(UISchema[\"fieldId\"])\r\n    const [description, setDescription] = useState(UISchema[\"description\"])\r\n    const [defValue, setDefValue] = useState(defaultValue)\r\n    const { updateParent, convertedSchema } = useContext(FormContext);\r\n    const [requiredChecked, setRequiredChecked] = useState(field_required === undefined ? false : field_required)\r\n    const [enumChecked, setEnumChecked] = useState(enumerated === undefined ? false : enumerated)\r\n    const [enumList, setEnumList] = useState(field_enumerate === undefined ? [] : field_enumerate);\r\n\r\n    let tempUISchema = JSON.parse(JSON.stringify(UISchema))\r\n\r\n\r\n    const datatypes = [\"string\", \"number\", \"integer\", \"object\", \"array\", \"boolean\"]\r\n\r\n\r\n    const handleOnChangeListField = (event) => {\r\n        setEnumList(event.target.value);\r\n    }\r\n\r\n    // save the change and update the UI\r\n    const handleUpdateSchemaOnClick = () => {\r\n        // update default value\r\n        if (defValue === undefined & defaultValue === undefined) {\r\n            // do nothing\r\n        } else if (defValue.toString().replace(/\\s+/g, '') === \"\" & defaultValue === undefined) {\r\n            // do nothing\r\n        } else if (selectedType === \"boolean\" & defValue.toString().replace(/\\s+/g, '') === \"\" & defaultValue === undefined) {\r\n            // do nothing\r\n        } else if (selectedType === \"boolean\" & defValue.toString().replace(/\\s+/g, '') !== \"\" & defaultValue !== undefined) {\r\n            tempUISchema[\"defaultValue\"] = (defValue === \"true\")\r\n        } else if (defValue.toString().replace(/\\s+/g, '') === \"\") {\r\n            delete tempUISchema[\"defaultValue\"]\r\n        }\r\n        else {\r\n            tempUISchema[\"defaultValue\"] = defValue\r\n        };\r\n\r\n        // check if fieldId already exist\r\n        let existed = checkIfFieldIDExist(convertedSchema, path, fieldId)\r\n        if (UISchema[\"fieldId\"] !== fieldId) {\r\n            if (existed) {\r\n                alert(\"Field ID already exists!\")\r\n                return\r\n            }\r\n        }\r\n\r\n        if (fieldId === undefined | fieldId.replace(/\\s+/g, '') === \"\") {\r\n            alert(\"Field ID must be defined!\")\r\n            return\r\n        }\r\n\r\n        tempUISchema[\"fieldId\"] = fieldId;\r\n        tempUISchema[\"type\"] = selectedType;\r\n        if (title !== undefined) { tempUISchema[\"title\"] = title }\r\n        if (description !== undefined) { tempUISchema[\"description\"] = description }\r\n\r\n        if (tempUISchema[\"type\"] === \"object\" & tempUISchema[\"properties\"] === undefined) {\r\n            tempUISchema[\"properties\"] = []\r\n        }\r\n        if (tempUISchema[\"type\"] === \"array\" & tempUISchema[\"items\"] === undefined) {\r\n            tempUISchema[\"items\"] = {}\r\n        }\r\n        if (![\"string\", \"integer\", \"number\"].includes(tempUISchema[\"type\"])) {\r\n            setEnumChecked(false);\r\n        }\r\n        const set = require(\"set-value\");\r\n        console.log(tempUISchema)\r\n        set(convertedSchema, path, tempUISchema)\r\n        // update the required value\r\n        const newConvertedSchema = updateRequired({ selectedType, path, requiredChecked, field_id, convertedSchema })\r\n        // update enum\r\n        if ([\"string\", \"integer\", \"number\"].includes(tempUISchema[\"type\"]) & enumChecked) {\r\n            let newList = enumList\r\n\r\n            switch (tempUISchema[\"type\"]) {\r\n                case 'string':\r\n                    if (Array.isArray(newList)) {\r\n                        set(newConvertedSchema, path + \".enumerate\", newList)\r\n                    } else {\r\n                        newList = newList.replace(/\\s*,\\s*/g, \",\")\r\n                        set(newConvertedSchema, path + \".enumerate\", newList.split(\",\"))\r\n                    }\r\n                case 'integer':\r\n                    if (Array.isArray(newList)) {\r\n                        let parsed = newList.map(function (item) {\r\n                            return parseInt(item, 10);\r\n                        })\r\n                        set(newConvertedSchema, path + \".enumerate\", parsed)\r\n                    } else {\r\n                        newList = newList.replace(/\\s*,\\s*/g, \",\")\r\n                        let parsed = newList.split(\",\").map(function (item) {\r\n                            return parseInt(item, 10);\r\n                        })\r\n                        set(newConvertedSchema, path + \".enumerate\", parsed)\r\n                    }\r\n                case 'number':\r\n                    if (Array.isArray(newList)) {\r\n                        let parsed = newList.map(function (item) {\r\n                            return parseFloat(item, 10);\r\n                        })\r\n                        set(newConvertedSchema, path + \".enumerate\", parsed)\r\n                    } else {\r\n                        newList = newList.replace(/\\s*,\\s*/g, \",\")\r\n                        let parsed = newList.split(\",\").map(function (item) {\r\n                            return parseFloat(item, 10);\r\n                        })\r\n                        set(newConvertedSchema, path + \".enumerate\", parsed)\r\n                    }\r\n            }\r\n        }\r\n\r\n        updateParent(newConvertedSchema)\r\n        setOpenDialog(false)\r\n    }\r\n\r\n    // change descriptor value\r\n    const handleChangeUISchema = (event, keyword) => {\r\n\r\n        switch (keyword) {\r\n            case 'type':\r\n                return setSelectedType(event.target.value)\r\n            case 'title':\r\n                return setTitle(event.target.value)\r\n            case 'description':\r\n                return setDescription(event.target.value)\r\n            case 'fieldId':\r\n                return setFieldId(event.target.value.replace(/ /g, \"_\"))\r\n            case 'defaultValue':\r\n                return setDefValue(event.target.value)\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    // cancel editing\r\n    const handleCancelEdit = () => {\r\n        tempUISchema = JSON.parse(JSON.stringify(UISchema))\r\n        setOpenDialog(false)\r\n        setEnumList(field_enumerate)\r\n        setDefValue(defaultValue)\r\n        setSelectedType(UISchema[\"type\"])\r\n    }\r\n\r\n    // handle change required check box\r\n    const handleCheckBoxOnChange = () => {\r\n        setRequiredChecked(prev => !prev)\r\n    }\r\n\r\n    // handle change required check box\r\n    const handleEnumBoxOnChange = () => {\r\n        setEnumChecked(prev => !prev)\r\n    }\r\n\r\n    return (\r\n        <><Dialog\r\n            open={openDialog}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">\r\n                <div style={{ display: \"inline-flex\", width: \"100%\", verticalAlign: \"middle\" }}>\r\n                    <EditIcon fontSize=\"large\" color=\"primary\" style={{ alignSelf: \"center\" }} />\r\n                    <div style={{ width: \"100%\", alignSelf: \"center\" }}>\r\n                        Edit \"{tempUISchema[\"title\"]}\"\r\n                    </div>\r\n                    <IconButton onClick={() => handleCancelEdit()}><CloseIcon fontSize=\"large\" color=\"secondary\" /></IconButton>\r\n                </div>\r\n            </DialogTitle>\r\n            <Divider />\r\n            <DialogContent>\r\n                <DialogContentText id=\"alert-dialog-description\">\r\n                    <div>\r\n                        <FormControl component=\"widget-type\">\r\n                            <FormLabel style={{ color: \"#01579b\" }} component=\"legend\">Basic Descriptors:</FormLabel>\r\n                            <TextField margin=\"normal\" required onChange={event => handleChangeUISchema(event, \"fieldId\")} style={{ marginTop: \"20px\" }} defaultValue={field_id} variant=\"outlined\" fullWidth={true} label={\"Field ID or Key\"} helperText='A unique json key or id for this field. Usually short and no spaces (use \"_\" instead). Spaces are replaced automatically with \"_\" upon saving.' />\r\n                            <TextField margin=\"normal\" onChange={event => handleChangeUISchema(event, \"title\")} style={{ marginTop: \"10px\" }} defaultValue={tempUISchema[\"title\"]} variant=\"outlined\" fullWidth={true} label={\"Field Title\"} helperText='Label or title of the field. For a field that requires a unit, the unit can be placed within a square bracket, e,g., \"Chamber Pressure [Pa]\".' />\r\n                            <TextField margin=\"normal\" onChange={event => handleChangeUISchema(event, \"description\")} style={{ marginTop: \"10px\" }} defaultValue={tempUISchema[\"description\"]} variant=\"outlined\" fullWidth={true} label={\"Field Description\"} multiline rows={3} helperText='A detailed description of the field, how the input should be formated, etc.' />\r\n                            <TextField\r\n                                margin=\"normal\"\r\n                                helperText='Data type of the field input.'\r\n                                onChange={event => handleChangeUISchema(event, \"type\")}\r\n                                style={{ marginTop: \"10px\" }}\r\n                                defaultValue={tempUISchema[\"type\"]}\r\n                                select\r\n                                fullWidth={true}\r\n                                id={field_id}\r\n                                label={\"Field Data Type\"}\r\n                                variant=\"outlined\"\r\n                                SelectProps={{\r\n                                    native: true,\r\n                                }}\r\n                            >\r\n                                {datatypes.map((content, index) => (\r\n                                    <option key={index} value={content}>\r\n                                        {content}\r\n                                    </option>\r\n                                ))}\r\n                            </TextField>\r\n                            {[\"string\", \"integer\", \"number\"].includes(selectedType) ?\r\n                                <>\r\n                                    <FormControlLabel control={<Checkbox onChange={() => handleEnumBoxOnChange()} checked={enumChecked} />} label=\"Enumerated (choose from an available list of inputs)\" />\r\n                                    <div style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\r\n                                        {enumChecked ? <TextField defaultValue={enumList !== undefined ? enumList : \"\"} onChange={handleOnChangeListField} variant=\"outlined\" fullWidth={true} label=\"Enumerate List\" multiline rows={4} helperText=\"A list of input separated by commas, e,g.: item 1, item 2, item 3. Make sure that the item data type matches the field input data type. Invalid items will be replaced with NaN upon saving.\" /> : null}\r\n                                    </div>\r\n                                </> : null}\r\n                        </FormControl>\r\n                        <div style={{ paddingTop: \"10px\", paddingBottom: \"10px\" }}>\r\n                            <FormControl component=\"validation-related\">\r\n                                <FormLabel style={{ color: \"#01579b\" }} component=\"legend\">Validation Related:</FormLabel>\r\n                            </FormControl>\r\n                            <FormGroup>\r\n                                {selectedType === \"array\" ?\r\n                                    <FormControlLabel control={<Checkbox onChange={() => handleCheckBoxOnChange()} checked={requiredChecked} />} label=\"Required. Checked means the field must be filled.\" />\r\n                                    : null}\r\n                                {selectedType !== \"object\" & selectedType !== \"array\" & selectedType !== \"boolean\" ?\r\n                                    <>\r\n                                        <FormControlLabel control={<Checkbox onChange={() => handleCheckBoxOnChange()} checked={requiredChecked} />} label=\"Required. Checked means the field must be filled.\" />\r\n                                        <TextField margin='normal' onChange={event => handleChangeUISchema(event, \"defaultValue\")} style={{ marginTop: \"10px\" }} defaultValue={defaultValue} variant=\"outlined\" fullWidth={true} label={\"Field Default Value\"} helperText=\"Initial value of the field.\" />\r\n                                    </>\r\n                                    : null}\r\n                                {selectedType === \"boolean\" ?\r\n                                    <>\r\n                                        <TextField\r\n                                            margin='normal'\r\n                                            onChange={event => handleChangeUISchema(event, \"defaultValue\")}\r\n                                            style={{ marginTop: \"20px\" }}\r\n                                            defaultValue={defaultValue !== undefined ? defaultValue : \"\"}\r\n                                            select\r\n                                            fullWidth={true}\r\n                                            id={field_id}\r\n                                            label={\"Boolean Field Default Value\"}\r\n                                            variant=\"outlined\"\r\n                                            SelectProps={{\r\n                                                native: true,\r\n                                            }}\r\n                                        >\r\n                                            {[\"\", \"true\", \"false\"].map((content, index) => (\r\n                                                <option key={index} value={content}>\r\n                                                    {content}\r\n                                                </option>\r\n                                            ))}\r\n                                        </TextField>\r\n                                    </>\r\n                                    : null}\r\n                            </FormGroup>\r\n                        </div>\r\n                    </div>\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={() => handleCancelEdit()} color=\"secondary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={() => handleUpdateSchemaOnClick()} color=\"primary\" autoFocus>\r\n                    Save\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n            {/*<Dialog\r\n                open={openDialog}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\"><EditIcon fontSize=\"large\" color=\"primary\" style={{ display: \"inline-block\", marginBottom: \"-10px\" }} />  Edit Field \"{UISchema[`${field_id}`][\"title\"]}\"</DialogTitle>\r\n                <Divider />\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        <div>\r\n                            <FormControl component=\"widget-type\">\r\n                                <FormLabel component=\"legend\">Available widgets for string type:</FormLabel>\r\n                                <RadioGroup row aria-label=\"widgetType\" name=\"row-radio-buttons-group\" value={value}\r\n                                    onChange={handleRadioChange}>\r\n                                    <FormControlLabel value=\"Text\" control={<Radio />} label=\"Text\" />\r\n                                    <FormControlLabel value=\"Long Text\" control={<Radio />} label=\"Long Text\" />\r\n                                    <FormControlLabel value=\"List\" control={<Radio />} label=\"List\" />\r\n                                    <FormControlLabel value=\"Autocomplete\" control={<Radio disabled />} label=\"Autocomplete\" />\r\n                                    <FormControlLabel value=\"Tag-like\" control={<Radio disabled />} label=\"Tag-like\" />\r\n                                </RadioGroup>\r\n                            </FormControl>\r\n                            <div style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\r\n                                {value === \"List\" ? <TextField defaultValue={inputList} onChange={handleOnChangeListField} variant=\"outlined\" fullWidth={true} label=\"List\" multiline rows={4} /> : null}\r\n                            </div>\r\n                            <FormControl component=\"validation\">\r\n                                <FormLabel component=\"legend\">Validation:</FormLabel>\r\n                            </FormControl>\r\n                        </div>\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => setOpenDialog(false)} color=\"secondary\">\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={() => handleSaveChange()} color=\"primary\" autoFocus>\r\n                        Save\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>*/}\r\n        </>\r\n\r\n    )\r\n};\r\n\r\nexport default EditElement;","import getValue from \"./getValue\";\r\n\r\n// delete key and value given path\r\nconst deleteKey = (json, path) => {\r\n    let jsonData = JSON.parse(JSON.stringify(json))\r\n    let newPath = path.split('.')\r\n    newPath.pop()\r\n    newPath = newPath.join('.')\r\n    const elementValue = getValue(jsonData, newPath);\r\n\r\n    if (Array.isArray(elementValue)) {\r\n        let deleteIndex = path.split('.')\r\n        deleteIndex = deleteIndex.at(-1)\r\n\r\n        elementValue.splice(parseInt(deleteIndex), 1)\r\n\r\n        const set = require(\"set-value\")\r\n\r\n        set(jsonData, newPath, elementValue)\r\n\r\n        return jsonData;\r\n    } else {\r\n        let deleteIndex = path.split('.')\r\n        deleteIndex = deleteIndex.at(-1)\r\n\r\n        delete elementValue[deleteIndex]\r\n\r\n        const set = require(\"set-value\")\r\n\r\n        set(jsonData, newPath, elementValue)\r\n\r\n        return jsonData;\r\n    }\r\n\r\n};\r\n\r\nexport default deleteKey;","import React, { useContext, useState } from 'react'\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { IconButton } from '@material-ui/core';\r\nimport EditElement from '../EditElement';\r\nimport { FormContext } from '../../FormContext';\r\nimport deleteKey from '../utils/deleteKey';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: 'auto',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n    },\r\n}));\r\n\r\nconst style = {\r\n    paddingTop: \"10px\",\r\n    paddingBottom: \"10px\",\r\n}\r\n\r\n\r\nconst StringType = ({ path, field_required, field_index, edit, field_id, field_label, field_description, field_enumerate, defaultValue }) => {\r\n    //const [descriptionText, setDescriptionText] = useState(field_description);\r\n    const [openDialog, setOpenDialog] = useState(false);\r\n    const { updateParent, convertedSchema } = useContext(FormContext);\r\n    //const [required, setRequired] = useState(false)\r\n    const classes = useStyles();\r\n\r\n    var required\r\n    if (field_required === undefined) {\r\n        required = false;\r\n    } else if (field_required.includes(field_id)) {\r\n        required = true;\r\n    };\r\n\r\n    var enumerated\r\n    if (field_enumerate === undefined) {\r\n        enumerated = false;\r\n    } else {\r\n        enumerated = true;\r\n    }\r\n\r\n    // construct UI schema\r\n    let UISchema = {\r\n        \"fieldId\": field_id,\r\n        \"title\": field_label,\r\n        \"description\": field_description,\r\n        \"type\": \"string\"\r\n    }\r\n\r\n    // handle delete field UI\r\n    const handleDeleteElement = () => {\r\n        const value = deleteKey(convertedSchema, path)\r\n        updateParent(value)\r\n    }\r\n\r\n\r\n    if (field_enumerate === undefined) {\r\n        return (\r\n            <>\r\n                <div style={{ paddingTop: \"10px\", paddingBottom: \"10px\", display: 'inline-flex', width: '100%' }}>\r\n                    <TextField required={required} helperText={field_description} defaultValue={defaultValue} fullWidth={true} className={classes.heading} id={field_id} label={field_label} variant=\"outlined\" />\r\n                    {edit ? <><IconButton onClick={() => setOpenDialog(true)} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><EditIcon fontSize=\"small\" color=\"primary\" /></IconButton>\r\n                        <IconButton onClick={() => handleDeleteElement()} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><DeleteIcon fontSize=\"small\" color=\"secondary\" /></IconButton></> : null}\r\n                </div>\r\n                {openDialog ? <EditElement defaultValue={defaultValue} enumerated={enumerated} field_enumerate={field_enumerate} field_id={field_id} field_index={field_index} openDialog={openDialog} setOpenDialog={setOpenDialog} path={path} UISchema={UISchema} field_required={required} /> : null}\r\n            </>\r\n        )\r\n    } else {\r\n        return (\r\n            <>\r\n                <div style={{ paddingTop: \"10px\", paddingBottom: \"10px\", display: 'inline-flex', width: '100%' }}>\r\n                    < TextField\r\n                        required={required}\r\n                        select\r\n                        fullWidth={true}\r\n                        className={classes.heading}\r\n                        id={field_id}\r\n                        label={field_label}\r\n                        variant=\"outlined\"\r\n                        SelectProps={{\r\n                            native: true,\r\n                        }\r\n                        }\r\n                        helperText={field_description}\r\n                        defaultValue={defaultValue}\r\n                    >\r\n                        {\r\n                            field_enumerate.map((content, index) => (\r\n                                <option key={index} value={content}>\r\n                                    {content}\r\n                                </option>\r\n                            ))\r\n                        }\r\n                    </TextField >\r\n                    {edit ? <><IconButton onClick={() => setOpenDialog(true)} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><EditIcon fontSize=\"small\" color=\"primary\" /></IconButton>\r\n                        <IconButton onClick={() => handleDeleteElement()} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><DeleteIcon fontSize=\"small\" color=\"secondary\" /></IconButton></> : null}\r\n                </div >\r\n                {openDialog ? <EditElement enumerated={enumerated} defaultValue={defaultValue} field_enumerate={field_enumerate} field_id={field_id} field_index={field_index} openDialog={openDialog} setOpenDialog={setOpenDialog} path={path} UISchema={UISchema} field_required={required} /> : null}\r\n            </>\r\n        )\r\n    }\r\n};\r\n\r\nexport default StringType;\r\n","const getUnit = (field_label) => {\r\n\r\n    if (field_label === undefined) {\r\n        return \"\"\r\n    }\r\n\r\n    let addorn = field_label.match(/[^[\\]]+(?=])/g)\r\n    if (addorn === null) {\r\n        return \"\"\r\n    } else {\r\n        return addorn\r\n    }\r\n}\r\n\r\nexport default getUnit;","import React, { useContext, useState } from 'react'\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { IconButton } from '@material-ui/core';\r\nimport EditElement from '../EditElement';\r\nimport { FormContext } from '../../FormContext';\r\nimport deleteKey from '../utils/deleteKey';\r\nimport { InputAdornment } from '@material-ui/core';\r\nimport getUnit from '../utils/getUnit';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: 'auto',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n    },\r\n}));\r\n\r\n\r\nconst NumberType = ({ path, defaultValue, field_required, field_index, edit, field_id, field_label, field_description, field_enumerate }) => {\r\n    //const [descriptionText, setDescriptionText] = useState(field_description);\r\n    const [openDialog, setOpenDialog] = useState(false);\r\n    const { updateParent, convertedSchema } = useContext(FormContext);\r\n    const [inputValue, setInputValue] = useState()\r\n    //const [required, setRequired] = useState(false)\r\n    const classes = useStyles();\r\n\r\n    let unit = getUnit(field_label)\r\n\r\n    var required\r\n    if (field_required === undefined) {\r\n        required = false;\r\n    } else if (field_required.includes(field_id)) {\r\n        required = true;\r\n    };\r\n\r\n    var enumerated\r\n    if (field_enumerate === undefined) {\r\n        enumerated = false;\r\n    } else {\r\n        enumerated = true;\r\n    }\r\n\r\n    // construct UI schema\r\n    let UISchema = {\r\n        \"fieldId\": field_id,\r\n        \"title\": field_label,\r\n        \"description\": field_description,\r\n        \"type\": \"number\"\r\n    }\r\n\r\n    // handle delete field UI\r\n    const handleDeleteElement = () => {\r\n        const value = deleteKey(convertedSchema, path)\r\n        updateParent(value)\r\n    }\r\n\r\n    // handle input on change for number a.k.a signed float\r\n    const handleInputOnChange = (event) => {\r\n        let inputValueVar\r\n        if (inputValue === undefined) {\r\n            inputValueVar = \"\"\r\n        } else {\r\n            inputValueVar = inputValue\r\n        }\r\n        inputValueVar = inputValueVar.toString()\r\n        if (((inputValueVar.split('.').length - 1) > 1) & (event.target.value.at(-1) === '.')) {\r\n            let value = inputValueVar\r\n            setInputValue(value.replace(/ /g, ''))\r\n        } else {\r\n            let value = event.target.value.replace(/(?!^-)[^0-9.]/g, \"\").replace(/(\\..*)\\./g, '$1')\r\n            setInputValue(value.replace(/ /g, ''))\r\n        }\r\n    }\r\n\r\n    // handle input on blur for signed integer\r\n    const handleInputOnBlur = () => {\r\n        let value = inputValue;\r\n        value = parseFloat(value)\r\n        if (!isNaN(value)) {\r\n            setInputValue(value)\r\n        }\r\n    }\r\n\r\n    if (field_enumerate === undefined) {\r\n\r\n        return (\r\n            <>\r\n                <div style={{ paddingTop: \"10px\", paddingBottom: \"10px\", display: 'inline-flex', width: '100%' }}>\r\n                    <TextField onBlur={() => handleInputOnBlur()} onChange={e => handleInputOnChange(e)} value={inputValue === undefined ? defaultValue : inputValue} required={required} helperText={field_description} fullWidth={true} className={classes.heading} id={field_id} label={field_label} variant=\"outlined\" InputProps={{\r\n                        endAdornment: <InputAdornment position=\"start\">{unit}</InputAdornment>,\r\n                    }} />\r\n                    {edit ? <><IconButton onClick={() => setOpenDialog(true)} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><EditIcon fontSize=\"small\" color=\"primary\" /></IconButton>\r\n                        <IconButton onClick={() => handleDeleteElement()} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><DeleteIcon fontSize=\"small\" color=\"secondary\" /></IconButton></> : null}\r\n                </div>\r\n                {openDialog ? <EditElement field_enumerate={field_enumerate} enumerated={enumerated} defaultValue={defaultValue} field_id={field_id} field_index={field_index} openDialog={openDialog} setOpenDialog={setOpenDialog} path={path} UISchema={UISchema} field_required={required} /> : null}\r\n            </>\r\n        )\r\n    } else {\r\n        return (\r\n            <>\r\n                <div style={{ paddingTop: \"10px\", paddingBottom: \"10px\", display: 'inline-flex', width: '100%' }}>\r\n                    <TextField\r\n                        select\r\n                        defaultValue={defaultValue}\r\n                        onBlur={() => handleInputOnBlur()}\r\n                        onChange={e => handleInputOnChange(e)}\r\n                        value={inputValue === undefined ? defaultValue : inputValue}\r\n                        required={required}\r\n                        helperText={field_description}\r\n                        fullWidth={true}\r\n                        className={classes.heading}\r\n                        id={field_id}\r\n                        label={field_label}\r\n                        variant=\"outlined\"\r\n                        InputProps={{\r\n                            endAdornment: <InputAdornment position=\"start\">{unit}</InputAdornment>,\r\n                        }}\r\n                        SelectProps={{\r\n                            native: true,\r\n                        }}>\r\n                        {\r\n                            field_enumerate.map((content, index) => (\r\n                                <option key={index} value={content}>\r\n                                    {content}\r\n                                </option>\r\n                            ))\r\n                        }\r\n                    </TextField>\r\n                    {edit ? <><IconButton onClick={() => setOpenDialog(true)} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><EditIcon fontSize=\"small\" color=\"primary\" /></IconButton>\r\n                        <IconButton onClick={() => handleDeleteElement()} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><DeleteIcon fontSize=\"small\" color=\"secondary\" /></IconButton></> : null}\r\n                </div>\r\n                {openDialog ? <EditElement field_enumerate={field_enumerate} enumerated={enumerated} defaultValue={defaultValue} field_id={field_id} field_index={field_index} openDialog={openDialog} setOpenDialog={setOpenDialog} path={path} UISchema={UISchema} field_required={required} /> : null}\r\n            </>\r\n        )\r\n    }\r\n};\r\n\r\nexport default NumberType;\r\n","import React, { useContext, useState } from 'react'\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button } from '@material-ui/core';\r\nimport AddIcon from \"@material-ui/icons/AddBox\";\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport { FormContext } from '../FormContext';\r\nimport { Checkbox } from '@material-ui/core';\r\nimport { FormGroup } from '@material-ui/core';\r\nimport updateRequired from './utils/updateRequired';\r\nimport getValue from './utils/getValue';\r\nimport checkIfFieldIDExist from './utils/checkIfFieldIDExist';\r\nimport { IconButton } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\nconst AddElement = ({ enumerated, field_enumerate, field_required, defaultSchema, path, openDialog, setOpenDialog, UISchema, schemaTitle }) => {\r\n\r\n    const [selectedType, setSelectedType] = useState(\"string\")\r\n    const [fieldId, setFieldId] = useState(undefined)\r\n    const [title, setTitle] = useState(undefined)\r\n    const [description, setDescription] = useState(undefined)\r\n    const { updateParent, convertedSchema } = useContext(FormContext);\r\n    const [requiredChecked, setRequiredChecked] = useState(field_required === undefined ? false : field_required)\r\n    const [enumChecked, setEnumChecked] = useState(enumerated === undefined ? false : enumerated)\r\n    const [enumList, setEnumList] = useState(field_enumerate === undefined ? [] : field_enumerate.join(\",\"));\r\n\r\n    let tempUISchema = JSON.parse(JSON.stringify(defaultSchema))\r\n\r\n\r\n    const datatypes = [\"string\", \"number\", \"integer\", \"object\", \"array\", \"boolean\"]\r\n\r\n\r\n    const handleOnChangeListField = (event) => {\r\n        setEnumList(event.target.value);\r\n    }\r\n\r\n    // save the change and update the UI\r\n    const handleUpdateSchemaOnClick = () => {\r\n        // check if fieldId already exist\r\n        if (checkIfFieldIDExist(convertedSchema, path, fieldId)) {\r\n            alert(\"Field ID already exists!\")\r\n            return\r\n        }\r\n\r\n        tempUISchema[\"fieldId\"] = fieldId;\r\n        tempUISchema[\"type\"] = selectedType;\r\n        if (title !== undefined) { tempUISchema[\"title\"] = title }\r\n        if (description !== undefined) { tempUISchema[\"description\"] = description }\r\n\r\n        if (fieldId === undefined) {\r\n            alert(\"Field ID must be defined!\")\r\n            return\r\n        }\r\n\r\n        if (typeof (fieldId) === \"string\" & fieldId.replace(/\\s+/g, '') === \"\") {\r\n            alert(\"Field ID must be defined!\")\r\n            return\r\n        }\r\n\r\n        if (tempUISchema[\"type\"] === \"object\") {\r\n            tempUISchema[\"properties\"] = []\r\n        }\r\n        if (tempUISchema[\"type\"] === \"array\") {\r\n            tempUISchema[\"items\"] = {}\r\n        }\r\n        if (tempUISchema[\"type\"] !== \"string\") {\r\n            setEnumChecked(false);\r\n        }\r\n\r\n        if (path !== undefined) {\r\n            const set = require(\"set-value\");\r\n\r\n            let properties = getValue(convertedSchema, path)[\"properties\"]\r\n            properties.push(tempUISchema)\r\n            set(convertedSchema, path + \".properties\", properties)\r\n\r\n            // create a new path to the new element\r\n            path = path + \".properties.\" + (properties.length - 1).toString()\r\n            let field_id = fieldId\r\n            // update the required value\r\n            const newConvertedSchema = updateRequired({ selectedType, path, requiredChecked, field_id, convertedSchema })\r\n            // update enum\r\n            if (tempUISchema[\"type\"] === \"string\" & enumChecked) {\r\n                let newList = enumList\r\n                if (Array.isArray(newList)) {\r\n                    set(newConvertedSchema, path + \".enumerate\", newList)\r\n                } else {\r\n                    newList = newList.replace(/\\s*,\\s*/g, \",\")\r\n                    set(newConvertedSchema, path + \".enumerate\", newList.split(\",\"))\r\n                }\r\n\r\n            }\r\n\r\n            updateParent(newConvertedSchema)\r\n            setOpenDialog(false)\r\n        } else {\r\n            const set = require(\"set-value\");\r\n            let properties = convertedSchema[\"properties\"]\r\n            properties.push(tempUISchema)\r\n            convertedSchema[\"properties\"] = properties\r\n\r\n            // create a new path to the new element\r\n            path = \"properties.\" + (properties.length - 1).toString()\r\n            let field_id = fieldId\r\n            // update the required value\r\n            const newConvertedSchema = updateRequired({ selectedType, path, requiredChecked, field_id, convertedSchema })\r\n            // update enum\r\n            if (tempUISchema[\"type\"] === \"string\" & enumChecked) {\r\n                let newList = enumList\r\n                if (Array.isArray(newList)) {\r\n                    set(newConvertedSchema, path + \".enumerate\", newList)\r\n                } else {\r\n                    newList = newList.replace(/\\s*,\\s*/g, \",\")\r\n                    set(newConvertedSchema, path + \".enumerate\", newList.split(\",\"))\r\n                }\r\n\r\n            }\r\n\r\n            updateParent(newConvertedSchema)\r\n            setOpenDialog(false)\r\n        }\r\n    }\r\n\r\n    // change descriptor value\r\n    const handleChangeUISchema = (event, keyword) => {\r\n\r\n        switch (keyword) {\r\n            case 'type':\r\n                return setSelectedType(event.target.value)\r\n            case 'title':\r\n                return setTitle(event.target.value)\r\n            case 'description':\r\n                return setDescription(event.target.value)\r\n            case 'fieldId':\r\n                return setFieldId(event.target.value)\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    // cancel editing\r\n    const handleCancelEdit = () => {\r\n        tempUISchema = JSON.parse(JSON.stringify(defaultSchema))\r\n        setOpenDialog(false)\r\n        setEnumList(field_enumerate)\r\n        setSelectedType(\"string\")\r\n    }\r\n\r\n    // handle field id on change\r\n    const handleOnBlurFieldId = (event) => {\r\n        setFieldId(event.target.value)\r\n        tempUISchema[\"fieldId\"] = event.target.value\r\n    }\r\n\r\n    // handle change required check box\r\n    const handleCheckBoxOnChange = () => {\r\n        setRequiredChecked(prev => !prev)\r\n    }\r\n\r\n    // handle change required check box\r\n    const handleEnumBoxOnChange = () => {\r\n        setEnumChecked(prev => !prev)\r\n    }\r\n\r\n    return (\r\n        <><Dialog\r\n            open={openDialog}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">\r\n                <div style={{ display: \"inline-flex\", width: \"100%\", verticalAlign: \"middle\" }}>\r\n                    <AddIcon fontSize=\"large\" color=\"primary\" style={{ alignSelf: \"center\" }} />\r\n                    <div style={{ width: \"100%\", alignSelf: \"center\" }}>\r\n                        Add Element in \"{UISchema !== undefined ? UISchema[\"title\"] : schemaTitle}\"\r\n                    </div>\r\n                    <IconButton onClick={() => handleCancelEdit()}><CloseIcon fontSize=\"large\" color=\"secondary\" /></IconButton>\r\n                </div>\r\n            </DialogTitle>\r\n            <Divider />\r\n            <DialogContent>\r\n                <DialogContentText id=\"alert-dialog-description\">\r\n                    <div>\r\n                        <FormControl component=\"widget-type\">\r\n                            <FormLabel style={{ color: \"#01579b\" }} component=\"legend\">Basic Descriptors:</FormLabel>\r\n                            <TextField inputProps={{ maxLength: 12 }} required onBlur={event => handleOnBlurFieldId(event)} onChange={event => handleChangeUISchema(event, \"fieldId\")} style={{ marginTop: \"20px\" }} defaultValue={tempUISchema[\"fieldId\"]} variant=\"outlined\" fullWidth={true} label={\"Field ID or Key\"} />\r\n                            <TextField onChange={event => handleChangeUISchema(event, \"title\")} style={{ marginTop: \"10px\" }} defaultValue={tempUISchema[\"title\"]} variant=\"outlined\" fullWidth={true} label={\"Field Title\"} />\r\n                            <TextField onChange={event => handleChangeUISchema(event, \"description\")} style={{ marginTop: \"10px\" }} defaultValue={tempUISchema[\"description\"]} variant=\"outlined\" fullWidth={true} label={\"Field Description\"} multiline rows={3} />\r\n                            <TextField\r\n                                onChange={event => handleChangeUISchema(event, \"type\")}\r\n                                style={{ marginTop: \"10px\" }}\r\n                                defaultValue={selectedType}\r\n                                select\r\n                                fullWidth={true}\r\n                                label={\"Field Data Type\"}\r\n                                variant=\"outlined\"\r\n                                SelectProps={{\r\n                                    native: true,\r\n                                }}\r\n                            >\r\n                                {datatypes.map((content, index) => (\r\n                                    <option key={index} value={content}>\r\n                                        {content}\r\n                                    </option>\r\n                                ))}\r\n                            </TextField>\r\n                            {selectedType === \"string\" ?\r\n                                <>\r\n                                    <FormControlLabel control={<Checkbox onChange={() => handleEnumBoxOnChange()} checked={enumChecked} />} label=\"Enumerated\" />\r\n                                    <div style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\r\n                                        {enumChecked ? <TextField defaultValue={enumList !== undefined ? enumList : \"\"} onChange={handleOnChangeListField} variant=\"outlined\" fullWidth={true} label=\"Enumerate List\" multiline rows={4} /> : null}\r\n                                    </div>\r\n                                </> : null}\r\n                        </FormControl>\r\n                    </div>\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={() => handleCancelEdit()} color=\"secondary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={() => handleUpdateSchemaOnClick()} color=\"primary\" autoFocus>\r\n                    ADD\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        </>\r\n\r\n    )\r\n};\r\n\r\nexport default AddElement;","import React, { useState, useContext } from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ElementRenderer from \"../ElementRenderer\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport { AccordionDetails, AccordionSummary } from '@material-ui/core';\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport { Button } from '@material-ui/core';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport AddIcon from \"@material-ui/icons/AddBox\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport { FormContext } from \"../../FormContext\";\r\nimport DragHandleIcon from \"@material-ui/icons/DragIndicator\";\r\nimport deleteKey from \"../utils/deleteKey\";\r\nimport EditElement from \"../EditElement\";\r\nimport AddElement from \"../AddElement\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    heading: {\r\n        color: 'rgba(82, 94, 103, 1)',\r\n        fontSize: theme.typography.pxToRem(25),\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n    },\r\n}));\r\n\r\nconst ObjectType = ({ path, field_required, field_id, field_index, edit, field_label, field_description, field_properties }) => {\r\n    const [openDialog, setOpenDialog] = useState(false);\r\n    const [openDialogAddElement, setOpenDialogAddElement] = useState(false);\r\n    const [expand, setExpand] = useState(true); // set to \"true\" for normally open accordion\r\n    const { updateParent, convertedSchema } = useContext(FormContext);\r\n\r\n    // This is to expand or contract the accordion, because normally open is used \r\n    const expandOnChange = () => {\r\n        const value = expand\r\n        setExpand(!value)\r\n    };\r\n\r\n    // update the order in properties on drag end\r\n    const handleOnDragEnd = (result) => {\r\n        if (!result.destination) return;\r\n        const items = Array.from(field_properties);\r\n        const [reorderedItem] = items.splice(result.source.index, 1);\r\n        items.splice(result.destination.index, 0, reorderedItem);\r\n\r\n        const set = require(\"set-value\");\r\n        let value = { ...convertedSchema }\r\n        set(convertedSchema, path + \".properties\", items)\r\n        updateParent(value);\r\n    }\r\n\r\n    // handle delete object UI\r\n    const handleDeleteElement = () => {\r\n        const value = deleteKey(convertedSchema, path)\r\n        updateParent(value)\r\n    }\r\n\r\n    // construct UI schema\r\n    let UISchema = {\r\n        \"fieldId\": field_id,\r\n        \"title\": field_label,\r\n        \"description\": field_description,\r\n        \"properties\": field_properties,\r\n        \"type\": \"object\"\r\n    }\r\n\r\n    // default schema for add new element\r\n    let defaultSchema = {}\r\n\r\n    const classes = useStyles();\r\n\r\n    return (<>\r\n        <div style={{ width: \"100%\", padding: \"10px 0px 10px 0px\" }}>\r\n            <Accordion expanded={expand} >\r\n                <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    style={{ height: \"auto\" }}\r\n                    IconButtonProps={{\r\n                        onClick: expandOnChange\r\n                    }}\r\n                    aria-controls=\"panel1a-content\"\r\n                    id=\"panel1a-header\"\r\n                >\r\n                    <div style={{ paddingTop: \"10px\", paddingBottom: \"10px\", display: 'inline-flex', width: '100%' }}>\r\n                        <div style={{ width: \"100%\" }}>\r\n                            <Typography className={classes.heading}>{field_label}</Typography>\r\n                            {expand ? <div style={{ color: \"gray\" }}>\r\n                                {field_description}\r\n                            </div> : null}\r\n                        </div>\r\n                        <div>\r\n\r\n                        </div>\r\n                        {edit ? <><Button onClick={() => setOpenDialog(true)} style={{ marginLeft: \"5px\" }}><EditIcon color=\"primary\" /></Button>\r\n                            <Button onClick={() => handleDeleteElement()} style={{ marginLeft: \"5px\" }}><DeleteIcon color=\"secondary\" /></Button></> : null}\r\n                    </div>\r\n                </AccordionSummary>\r\n                <Divider />\r\n                <AccordionDetails>\r\n                    <DragDropContext onDragEnd={handleOnDragEnd}>\r\n                        <Droppable droppableId=\"subforms\">\r\n                            {(provided) => (\r\n                                <div style={{ width: \"100%\" }}  {...provided.droppableProps} ref={provided.innerRef}>\r\n                                    {Object.keys(field_properties).map((item, index) => {\r\n                                        return (\r\n                                            <Draggable isDragDisabled={!edit} key={field_properties[item][\"fieldId\"]} draggableId={field_properties[item][\"fieldId\"]} index={index}>\r\n                                                {(provided) => (\r\n                                                    <div {...provided.draggableProps} ref={provided.innerRef}>\r\n                                                        <div style={{ display: \"flex\" }}>\r\n                                                            {edit ? <div style={{ width: \"20px\", marginTop: \"10px\", height: \"30px\" }} {...provided.dragHandleProps}>\r\n                                                                <DragHandleIcon fontSize=\"small\" />\r\n                                                            </div> : null}\r\n                                                            <ElementRenderer path={path + \".properties\"} fieldId={field_properties[item][\"fieldId\"]} fieldIndex={item} elementRequired={field_required} edit={edit} field={field_properties[item]} />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )}\r\n                                            </Draggable>\r\n                                        );\r\n                                    })}\r\n                                    {provided.placeholder}\r\n                                    {edit ? <div style={{ display: \"flex\", justifyContent: \"right\" }}>\r\n                                        <Button onClick={() => setOpenDialogAddElement(true)} style={{ marginLeft: \"5px\" }}><AddIcon color=\"primary\" /> ADD ELEMENT</Button>\r\n                                    </div> : null}\r\n                                </div>\r\n                            )}\r\n                        </Droppable>\r\n                    </DragDropContext>\r\n                </AccordionDetails>\r\n            </Accordion>\r\n        </div>\r\n        {openDialog ? <EditElement field_id={field_id} field_index={field_index} openDialog={openDialog} setOpenDialog={setOpenDialog} path={path} UISchema={UISchema} /> : null}\r\n        {openDialogAddElement ? <AddElement openDialog={openDialogAddElement} setOpenDialog={setOpenDialogAddElement} path={path} defaultSchema={defaultSchema} UISchema={UISchema} /> : null}\r\n    </>);\r\n};\r\n\r\nexport default ObjectType;","import React, { useContext, useState } from 'react'\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { IconButton } from '@material-ui/core';\r\nimport EditElement from '../EditElement';\r\nimport { FormContext } from '../../FormContext';\r\nimport deleteKey from '../utils/deleteKey';\r\nimport getUnit from '../utils/getUnit';\r\nimport { InputAdornment } from '@material-ui/core';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: 'auto',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n    },\r\n}));\r\n\r\nconst style = {\r\n    paddingTop: \"10px\",\r\n    paddingBottom: \"10px\",\r\n}\r\n\r\n\r\nconst IntegerType = ({ defaultValue, path, field_required, field_index, edit, field_id, field_label, field_description, field_enumerate }) => {\r\n    //const [descriptionText, setDescriptionText] = useState(field_description);\r\n    const [openDialog, setOpenDialog] = useState(false);\r\n    const { updateParent, convertedSchema } = useContext(FormContext);\r\n    const [inputValue, setInputValue] = useState();\r\n    //const [required, setRequired] = useState(false)\r\n    const classes = useStyles();\r\n\r\n    let unit = getUnit(field_label)\r\n\r\n    var required\r\n    if (field_required === undefined) {\r\n        required = false;\r\n    } else if (field_required.includes(field_id)) {\r\n        required = true;\r\n    };\r\n\r\n    var enumerated\r\n    if (field_enumerate === undefined) {\r\n        enumerated = false;\r\n    } else {\r\n        enumerated = true;\r\n    }\r\n\r\n    // construct UI schema\r\n    let UISchema = {\r\n        \"fieldId\": field_id,\r\n        \"title\": field_label,\r\n        \"description\": field_description,\r\n        \"type\": \"integer\"\r\n    }\r\n\r\n    // handle delete field UI\r\n    const handleDeleteElement = () => {\r\n        const value = deleteKey(convertedSchema, path)\r\n        updateParent(value)\r\n    }\r\n\r\n    // handle input on change for signed integer\r\n    const handleInputOnChange = (event) => {\r\n        let inputValueVar\r\n        if (inputValue === undefined) {\r\n            inputValueVar = \"\"\r\n        } else {\r\n            inputValueVar = inputValue\r\n        }\r\n        inputValueVar = inputValueVar.toString()\r\n        if (event.target.value === \".\") {\r\n            return\r\n        }\r\n        if ((event.target.value.at(-1) === '.')) {\r\n            let value = inputValueVar\r\n            setInputValue(value.replace(/ /g, ''))\r\n        } else {\r\n            let value = event.target.value.replace(/(?!^-)[^0-9]/g, \"\")\r\n            setInputValue(value.replace(/ /g, ''))\r\n        }\r\n    }\r\n\r\n    // handle input on blur for signed integer\r\n    const handleInputOnBlur = () => {\r\n        let value = inputValue;\r\n        value = parseInt(value)\r\n        if (!isNaN(value)) {\r\n            setInputValue(value)\r\n        }\r\n    }\r\n\r\n    if (field_enumerate === undefined) {\r\n\r\n        return (\r\n            <>\r\n                <div style={{ paddingTop: \"10px\", paddingBottom: \"10px\", display: 'inline-flex', width: '100%' }}>\r\n                    <TextField defaultValue={defaultValue} onBlur={() => handleInputOnBlur()} onChange={e => handleInputOnChange(e)} value={inputValue === undefined ? defaultValue : inputValue} required={required} helperText={field_description} fullWidth={true} className={classes.heading} id={field_id} label={field_label} variant=\"outlined\" InputProps={{\r\n                        endAdornment: <InputAdornment position=\"start\">{unit}</InputAdornment>,\r\n                    }} />\r\n                    {edit ? <><IconButton onClick={() => setOpenDialog(true)} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><EditIcon fontSize=\"small\" color=\"primary\" /></IconButton>\r\n                        <IconButton onClick={() => handleDeleteElement()} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><DeleteIcon fontSize=\"small\" color=\"secondary\" /></IconButton></> : null}\r\n                </div>\r\n                {openDialog ? <EditElement field_enumerate={field_enumerate} enumerated={enumerated} defaultValue={defaultValue} field_id={field_id} field_index={field_index} openDialog={openDialog} setOpenDialog={setOpenDialog} path={path} UISchema={UISchema} field_required={required} /> : null}\r\n            </>\r\n        )\r\n    } else {\r\n        return (\r\n            <>\r\n                <div style={{ paddingTop: \"10px\", paddingBottom: \"10px\", display: 'inline-flex', width: '100%' }}>\r\n                    <TextField\r\n                        select\r\n                        defaultValue={defaultValue}\r\n                        onBlur={() => handleInputOnBlur()}\r\n                        onChange={e => handleInputOnChange(e)}\r\n                        value={inputValue === undefined ? defaultValue : inputValue}\r\n                        required={required}\r\n                        helperText={field_description}\r\n                        fullWidth={true}\r\n                        className={classes.heading}\r\n                        id={field_id}\r\n                        label={field_label}\r\n                        variant=\"outlined\"\r\n                        InputProps={{\r\n                            endAdornment: <InputAdornment position=\"start\">{unit}</InputAdornment>,\r\n                        }}\r\n                        SelectProps={{\r\n                            native: true,\r\n                        }}>\r\n                        {\r\n                            field_enumerate.map((content, index) => (\r\n                                <option key={index} value={content}>\r\n                                    {content}\r\n                                </option>\r\n                            ))\r\n                        }\r\n                    </TextField>\r\n                    {edit ? <><IconButton onClick={() => setOpenDialog(true)} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><EditIcon fontSize=\"small\" color=\"primary\" /></IconButton>\r\n                        <IconButton onClick={() => handleDeleteElement()} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><DeleteIcon fontSize=\"small\" color=\"secondary\" /></IconButton></> : null}\r\n                </div>\r\n                {openDialog ? <EditElement field_enumerate={field_enumerate} enumerated={enumerated} defaultValue={defaultValue} field_id={field_id} field_index={field_index} openDialog={openDialog} setOpenDialog={setOpenDialog} path={path} UISchema={UISchema} field_required={required} /> : null}\r\n            </>\r\n        )\r\n    }\r\n};\r\n\r\nexport default IntegerType;\r\n","import React, { useContext, useState } from 'react'\r\nimport { Checkbox, FormLabel, FormHelperText, FormControl } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { IconButton } from '@material-ui/core';\r\nimport EditElement from '../EditElement';\r\nimport { FormContext } from '../../FormContext';\r\nimport deleteKey from '../utils/deleteKey';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: 'auto',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n    },\r\n}));\r\n\r\nconst style = {\r\n    paddingTop: \"10px\",\r\n    paddingBottom: \"10px\",\r\n}\r\n\r\n\r\nconst BooleanType = ({ path, field_required, field_index, edit, field_id, field_label, field_description, defaultValue }) => {\r\n    //const [descriptionText, setDescriptionText] = useState(field_description);\r\n    const [openDialog, setOpenDialog] = useState(false);\r\n    const { updateParent, convertedSchema } = useContext(FormContext);\r\n    const [inputValue, setInputValue] = useState(typeof (defaultValue) === \"boolean\" ? defaultValue : false);\r\n    //const [required, setRequired] = useState(false)\r\n    const classes = useStyles();\r\n\r\n    var required\r\n    if (field_required === undefined) {\r\n        required = false;\r\n    } else if (field_required.includes(field_id)) {\r\n        required = true;\r\n    };\r\n\r\n    // construct UI schema\r\n    let UISchema = {\r\n        \"fieldId\": field_id,\r\n        \"title\": field_label,\r\n        \"description\": field_description,\r\n        \"type\": \"boolean\"\r\n    }\r\n\r\n    // handle delete field UI\r\n    const handleDeleteElement = () => {\r\n        const value = deleteKey(convertedSchema, path)\r\n        updateParent(value)\r\n    }\r\n\r\n    // handle input on change for checkbox (boolean type: checked is true unchecked is false)\r\n    const handleInputOnChange = () => {\r\n        let value = inputValue\r\n        setInputValue(!value)\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <div style={{ paddingTop: \"10px\", paddingBottom: \"10px\", display: 'inline-flex', alignItems: \"center\", width: '100%' }}>\r\n                <div style={{ paddingLeft: \"15px\", width: \"100%\" }}>\r\n                    <FormControl >\r\n                        <FormLabel>{field_label + \":\"}</FormLabel>\r\n                        <div style={{ textAlign: \"center\", width: \"100%\" }}>\r\n                            <Checkbox onChange={() => handleInputOnChange()} checked={inputValue} />\r\n                        </div>\r\n                        <FormHelperText>{field_description}</FormHelperText>\r\n                    </FormControl>\r\n                </div>\r\n                {edit ? <><IconButton onClick={() => setOpenDialog(true)} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><EditIcon fontSize=\"small\" color=\"primary\" /></IconButton>\r\n                    <IconButton onClick={() => handleDeleteElement()} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><DeleteIcon fontSize=\"small\" color=\"secondary\" /></IconButton></> : null}\r\n            </div>\r\n            {openDialog ? <EditElement defaultValue={defaultValue} field_id={field_id} field_index={field_index} openDialog={openDialog} setOpenDialog={setOpenDialog} path={path} UISchema={UISchema} field_required={required} /> : null}\r\n        </>\r\n    )\r\n};\r\n\r\nexport default BooleanType;\r\n","import React, { useState } from 'react'\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { IconButton } from '@material-ui/core';\r\nimport { Typography } from '@material-ui/core';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: 'auto',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n    },\r\n}));\r\n\r\nconst style = {\r\n    paddingTop: \"10px\",\r\n    paddingBottom: \"10px\",\r\n}\r\n\r\n\r\nconst ItemIntegerType = ({ path, field_type, edit, index, field_id, handleDeleteArrayItem }) => {\r\n    const classes = useStyles();\r\n    const [inputValue, setInputValue] = useState(\"\");\r\n\r\n    // handle input on change for signed integer\r\n    const handleInputOnChange = (event) => {\r\n        let inputValueVar = inputValue\r\n        inputValueVar = inputValueVar.toString()\r\n        if (event.target.value === \".\") {\r\n            return\r\n        }\r\n        if ((event.target.value.at(-1) === '.')) {\r\n            let value = inputValueVar\r\n            setInputValue(value.replace(/ /g, ''))\r\n        } else {\r\n            let value = event.target.value.replace(/(?!^-)[^0-9]/g, \"\")\r\n            setInputValue(value.replace(/ /g, ''))\r\n        }\r\n    }\r\n\r\n    // handle input on blur for signed integer\r\n    const handleInputOnBlur = () => {\r\n        let value = inputValue;\r\n        value = parseInt(value)\r\n        if (!isNaN(value)) {\r\n            setInputValue(value)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div style={{ padding: \"5px\" }}>\r\n                <Typography className={classes.heading}>{index + 1}.</Typography>\r\n            </div>\r\n            <div style={{ paddingTop: \"10px\", paddingBottom: \"10px\", display: 'inline-flex', width: '100%' }}>\r\n                <TextField onBlur={() => handleInputOnBlur()} onChange={e => handleInputOnChange(e)} value={inputValue} fullWidth={true} className={classes.heading} id={field_id} variant=\"outlined\" />\r\n                {edit ? <>\r\n                    <IconButton onClick={() => handleDeleteArrayItem(index)} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><DeleteIcon fontSize=\"small\" color=\"secondary\" /></IconButton></> : null}\r\n            </div>\r\n\r\n        </>\r\n    )\r\n};\r\n\r\nexport default ItemIntegerType;\r\n","import React, { useContext, useState } from 'react'\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { IconButton } from '@material-ui/core';\r\nimport { Typography } from '@material-ui/core';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: 'auto',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n    },\r\n}));\r\n\r\nconst style = {\r\n    paddingTop: \"10px\",\r\n    paddingBottom: \"10px\",\r\n}\r\n\r\n\r\nconst ItemNumberType = ({ path, field_type, edit, index, field_id, handleDeleteArrayItem }) => {\r\n    const classes = useStyles();\r\n    const [inputValue, setInputValue] = useState(\"\");\r\n\r\n\r\n    // handle input on change for number a.k.a signed float\r\n    const handleInputOnChange = (event) => {\r\n        let inputValueVar = inputValue\r\n        inputValueVar = inputValueVar.toString()\r\n        if (((inputValueVar.split('.').length - 1) > 1) & (event.target.value.at(-1) === '.')) {\r\n            let value = inputValueVar\r\n            setInputValue(value.replace(/ /g, ''))\r\n        } else {\r\n            let value = event.target.value.replace(/(?!^-)[^0-9.]/g, \"\").replace(/(\\..*)\\./g, '$1')\r\n            setInputValue(value.replace(/ /g, ''))\r\n        }\r\n    }\r\n\r\n    // handle input on blur for signed integer\r\n    const handleInputOnBlur = () => {\r\n        let value = inputValue;\r\n        value = parseFloat(value)\r\n        if (!isNaN(value)) {\r\n            setInputValue(value)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div style={{ padding: \"5px\" }}>\r\n                <Typography className={classes.heading}>{index + 1}.</Typography>\r\n            </div>\r\n            <div style={{ paddingTop: \"10px\", paddingBottom: \"10px\", display: 'inline-flex', width: '100%' }}>\r\n                <TextField onBlur={() => handleInputOnBlur()} onChange={e => handleInputOnChange(e)} value={inputValue} fullWidth={true} className={classes.heading} id={field_id} variant=\"outlined\" />\r\n                {edit ? <>\r\n                    <IconButton onClick={() => handleDeleteArrayItem(index)} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><DeleteIcon fontSize=\"small\" color=\"secondary\" /></IconButton></> : null}\r\n            </div>\r\n\r\n        </>\r\n    )\r\n};\r\n\r\nexport default ItemNumberType;\r\n","import React, { useContext, useState } from 'react'\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { IconButton } from '@material-ui/core';\r\nimport { Typography } from '@material-ui/core';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: 'auto',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n    },\r\n}));\r\n\r\nconst style = {\r\n    paddingTop: \"10px\",\r\n    paddingBottom: \"10px\",\r\n}\r\n\r\n\r\nconst ItemStringType = ({ path, field_type, edit, index, field_id, handleDeleteArrayItem }) => {\r\n    const classes = useStyles();\r\n\r\n\r\n    return (\r\n        <>\r\n            <div style={{ padding: \"5px\" }}>\r\n                <Typography className={classes.heading}>{index + 1}.</Typography>\r\n            </div>\r\n            <div style={{ paddingTop: \"10px\", paddingBottom: \"10px\", display: 'inline-flex', width: '100%' }}>\r\n                <TextField id={field_id} fullWidth={true} className={classes.heading} variant=\"outlined\" />\r\n                {edit ? <>\r\n                    <IconButton onClick={() => handleDeleteArrayItem(index)} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><DeleteIcon fontSize=\"small\" color=\"secondary\" /></IconButton></> : null}\r\n            </div>\r\n\r\n        </>\r\n    )\r\n\r\n};\r\n\r\nexport default ItemStringType;\r\n","import React, { useContext, useState } from 'react'\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { IconButton } from '@material-ui/core';\r\nimport { Typography } from '@material-ui/core';\r\nimport ElementRenderer from \"../../ElementRenderer\";\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport { AccordionDetails, AccordionSummary } from '@material-ui/core';\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport { Button } from '@material-ui/core';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport AddIcon from \"@material-ui/icons/AddBox\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport { FormContext } from \"../../../FormContext\"\r\nimport DragHandleIcon from \"@material-ui/icons/DragIndicator\";\r\nimport deleteKey from \"../../utils/deleteKey\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    heading: {\r\n        color: 'rgba(82, 94, 103, 1)',\r\n        fontSize: theme.typography.pxToRem(25),\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n    },\r\n}));\r\n\r\nconst style = {\r\n    paddingTop: \"10px\",\r\n    paddingBottom: \"10px\",\r\n}\r\n\r\n\r\nconst ItemObjectType = ({ path, field_required, field_items, field_type, edit, index, field_id, handleDeleteArrayItem }) => {\r\n    const [expand, setExpand] = useState(true); // set to \"true\" for normally open accordion\r\n    const { updateParent, convertedSchema } = useContext(FormContext);\r\n    let field_properties = field_items[\"properties\"]\r\n\r\n    // This is to expand or contract the accordion, because normally open is used \r\n    const expandOnChange = () => {\r\n        const value = expand\r\n        setExpand(!value)\r\n    };\r\n\r\n\r\n    const classes = useStyles();\r\n\r\n    return (<>\r\n        <div style={{ width: \"100%\", padding: \"10px 0px 10px 0px\" }}>\r\n            <Accordion expanded={expand} >\r\n                <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    style={{ height: \"auto\" }}\r\n                    IconButtonProps={{\r\n                        onClick: expandOnChange\r\n                    }}\r\n                    aria-controls=\"panel1a-content\"\r\n                    id=\"panel1a-header\"\r\n                >\r\n                    <div style={{ paddingTop: \"10px\", paddingBottom: \"10px\", display: 'inline-flex', width: '100%' }}>\r\n                        <div style={{ width: \"100%\", justifySelf: \"center\" }}>\r\n                            ITEM {index + 1}\r\n                        </div>\r\n                        {edit ? <Button onClick={() => handleDeleteArrayItem(index)} style={{ marginLeft: \"5px\" }}><DeleteIcon color=\"secondary\" /></Button> : null}\r\n                    </div>\r\n                </AccordionSummary>\r\n                <Divider />\r\n                <AccordionDetails>\r\n                    <div style={{ width: \"100%\" }}>\r\n                        {Object.keys(field_properties).map((item, index) => {\r\n                            let tempField = field_properties[item]\r\n                            if (tempField[\"enum\"]) {\r\n                                tempField[\"enumerate\"] = tempField[\"enum\"]\r\n                            }\r\n                            return (\r\n                                <div style={{ display: \"flex\" }}>\r\n                                    <ElementRenderer path={path + \".properties\"} fieldId={item} fieldIndex={index} elementRequired={field_required} edit={false} field={tempField} />\r\n                                </div>\r\n                            )\r\n                        })\r\n                        }\r\n                    </div>\r\n                </AccordionDetails>\r\n            </Accordion>\r\n        </div >\r\n    </>);\r\n\r\n};\r\n\r\nexport default ItemObjectType;\r\n","import React from 'react';\r\nimport ItemIntegerType from './array_items/ItemIntegerType';\r\nimport ItemNumberType from './array_items/ItemNumberType';\r\nimport ItemStringType from \"./array_items/ItemStringType\";\r\nimport ItemObjectType from \"./array_items/ItemObjectType\";\r\n\r\n\r\nconst ElementRenderer = ({ field_items, path, type, edit, fieldIndex, fieldId, enumerate, handleDeleteArrayItem, properties }) => {\r\n\r\n    switch (type) {\r\n        case 'string':\r\n            return (<ItemStringType\r\n                path={path + \".\" + fieldIndex}\r\n                index={fieldIndex}\r\n                field_id={fieldId}\r\n                handleDeleteArrayItem={handleDeleteArrayItem}\r\n                edit={edit}\r\n                field_type={type}\r\n            />)\r\n        case 'number':\r\n            return (<ItemNumberType\r\n                path={path + \".\" + fieldIndex}\r\n                index={fieldIndex}\r\n                field_id={fieldId}\r\n                handleDeleteArrayItem={handleDeleteArrayItem}\r\n                edit={edit}\r\n                field_type={type}\r\n            />)\r\n        case 'integer':\r\n            return (<ItemIntegerType\r\n                path={path + \".\" + fieldIndex}\r\n                index={fieldIndex}\r\n                field_id={fieldId}\r\n                handleDeleteArrayItem={handleDeleteArrayItem}\r\n                edit={edit}\r\n                field_type={type}\r\n            />)\r\n        case 'object':\r\n            return (<ItemObjectType\r\n                path={path + \".\" + fieldIndex}\r\n                index={fieldIndex}\r\n                field_id={fieldId}\r\n                handleDeleteArrayItem={handleDeleteArrayItem}\r\n                edit={edit}\r\n                field_type={type}\r\n                field_items={field_items}\r\n            />)\r\n\r\n        default:\r\n            return null;\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default ElementRenderer;\r\n","const generateUID = () => {\r\n    // I generate the UID from two parts here \r\n    // to ensure the random number provide enough bits.\r\n    var firstPart = (Math.random() * 46656) | 0;\r\n    var secondPart = (Math.random() * 46656) | 0;\r\n    firstPart = (\"000\" + firstPart.toString(36)).slice(-3);\r\n    secondPart = (\"000\" + secondPart.toString(36)).slice(-3);\r\n    return firstPart + secondPart;\r\n}\r\n\r\nexport default generateUID;","import React, { useState, useContext } from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport { AccordionDetails, AccordionSummary } from '@material-ui/core';\r\nimport { Button } from '@material-ui/core';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport AddIcon from \"@material-ui/icons/AddBox\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport { FormContext } from \"../../FormContext\";\r\nimport DragHandleIcon from \"@material-ui/icons/DragIndicator\";\r\nimport deleteKey from \"../utils/deleteKey\";\r\nimport EditElement from \"../EditElement\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport ArrayItemRenderer from \"./ArrayItemRenderer\";\r\nimport generateUniqueID from \"../utils/generateUniqueID\";\r\nimport { IconButton } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    heading: {\r\n        color: 'rgba(82, 94, 103, 1)',\r\n        fontSize: theme.typography.pxToRem(25),\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n    },\r\n}));\r\n\r\nconst ArrayType = ({ path, field_required, field_id, field_index, edit, field_label, field_description, field_items, field_prefixItems }) => {\r\n    const [openDialog, setOpenDialog] = useState(false);\r\n    const [expand, setExpand] = useState(true); // set to \"true\" for normally open accordion\r\n    const { updateParent, convertedSchema } = useContext(FormContext);\r\n    const [inputItems, setInputItems] = useState([]);\r\n    const [itemSchema, setItemSchema] = useState();\r\n\r\n    // This is to expand or contract the accordion, because normally open is used \r\n    const expandOnChange = () => {\r\n        const value = expand\r\n        setExpand(!value)\r\n    };\r\n\r\n\r\n    var required;\r\n    if (field_required === undefined) {\r\n        required = false;\r\n    } else if (field_required.includes(field_id)) {\r\n        required = true;\r\n    };\r\n\r\n    // update the order in properties on drag end\r\n    const handleOnDragEnd = (result) => {\r\n        if (!result.destination) return;\r\n        let arr = inputItems\r\n        const items = Array.from(arr);\r\n        const [reorderedItem] = items.splice(result.source.index, 1);\r\n        items.splice(result.destination.index, 0, reorderedItem);\r\n\r\n        setInputItems(items)\r\n    }\r\n\r\n    // handle delete object UI\r\n    const handleDeleteElement = () => {\r\n        const value = deleteKey(convertedSchema, path)\r\n        updateParent(value)\r\n    }\r\n\r\n    const classes = useStyles();\r\n\r\n    // construct UI schema\r\n    let UISchema = {\r\n        \"fieldId\": field_id,\r\n        \"title\": field_label,\r\n        \"description\": field_description,\r\n        \"items\": field_items,\r\n        \"type\": \"array\"\r\n    }\r\n\r\n    // handle add array item\r\n    const handleAddArrayItem = () => {\r\n        if (field_prefixItems === undefined & field_items !== undefined) {\r\n            if (Object.keys(field_items).length === 0) {\r\n                // create field_items if items is empty\r\n                field_items = { type: \"string\", field_id: `${generateUniqueID()}` }\r\n                let arr = inputItems;\r\n                const items = Array.from(arr);\r\n                items.push(field_items);\r\n                setInputItems(items);\r\n            } else {\r\n                // use existing schema if items is not empty\r\n                let newFieldItems = JSON.parse(JSON.stringify(field_items))\r\n                newFieldItems[\"field_id\"] = generateUniqueID();\r\n                let arr = inputItems;\r\n                const items = Array.from(arr);\r\n                items.push(newFieldItems);\r\n                setInputItems(items);\r\n            }\r\n        }\r\n    }\r\n\r\n    // handle delete item\r\n    const handleDeleteArrayItem = (index) => {\r\n        let arr = inputItems\r\n        const items = Array.from(arr);\r\n        items.splice(index, 1);\r\n        setInputItems(items)\r\n    }\r\n\r\n    return (<>\r\n        <div style={{ width: \"100%\", padding: \"10px 0px 10px 0px\" }}>\r\n            <Accordion expanded={expand} >\r\n                <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1a-content\"\r\n                    id=\"panel1a-header\"\r\n                    IconButtonProps={{\r\n                        onClick: expandOnChange\r\n                    }}\r\n                >\r\n                    <div style={{ paddingTop: \"10px\", paddingBottom: \"10px\", display: 'inline-flex', width: '100%' }}>\r\n                        <div style={{ width: \"100%\" }}>\r\n                            <Typography className={classes.heading}>{field_label + (required ? \"*\" : \"\")}</Typography>\r\n                            {expand ? <div style={{ color: \"gray\" }}>\r\n                                {field_description}\r\n                            </div> : null}\r\n                        </div>\r\n                        <div>\r\n\r\n                        </div>\r\n                        {edit ? <><Button onClick={() => setOpenDialog(true)} style={{ marginLeft: \"5px\" }}><EditIcon color=\"primary\" /></Button>\r\n                            <Button onClick={() => handleDeleteElement()} style={{ marginLeft: \"5px\" }}><DeleteIcon color=\"secondary\" /></Button></> : null}\r\n                    </div>\r\n                </AccordionSummary>\r\n                <Divider />\r\n                <AccordionDetails>\r\n                    <DragDropContext onDragEnd={handleOnDragEnd}>\r\n                        <Droppable droppableId=\"subforms\">\r\n                            {(provided) => (\r\n                                <div style={{ width: \"100%\" }}  {...provided.droppableProps} ref={provided.innerRef}>\r\n                                    {Object.keys(inputItems).map((item, index) => {\r\n                                        return (\r\n                                            <Draggable isDragDisabled={!edit} key={inputItems[index][\"field_id\"]} draggableId={inputItems[index][\"field_id\"]} index={index}>\r\n                                                {(provided) => (\r\n                                                    <div {...provided.draggableProps} ref={provided.innerRef}>\r\n                                                        <div style={{ display: \"flex\" }}>\r\n                                                            {edit ? <div style={{ width: \"20px\", marginTop: \"10px\", height: \"30px\" }} {...provided.dragHandleProps}>\r\n                                                                <DragHandleIcon fontSize=\"small\" />\r\n                                                            </div> : null}\r\n                                                            <ArrayItemRenderer field_items={field_items} edit={edit} handleDeleteArrayItem={handleDeleteArrayItem} path={path + \".properties\"} fieldIndex={index} fieldId={inputItems[index][\"field_id\"]} type={inputItems[index][\"type\"]} />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )}\r\n                                            </Draggable>\r\n                                        );\r\n                                    })}\r\n                                    {provided.placeholder}\r\n                                    {edit ? <div style={{ display: \"flex\", justifyContent: \"right\" }}>\r\n                                        <IconButton onClick={() => { handleAddArrayItem() }} style={{ marginLeft: \"5px\", marginTop: \"5px\", height: \"45px\" }}><AddIcon fontSize=\"small\" color=\"primary\" /></IconButton>\r\n                                    </div> : null}\r\n                                </div>\r\n                            )}\r\n                        </Droppable>\r\n                    </DragDropContext>\r\n                </AccordionDetails>\r\n            </Accordion>\r\n        </div>\r\n        {openDialog ? <EditElement field_id={field_id} field_index={field_index} openDialog={openDialog} setOpenDialog={setOpenDialog} path={path} UISchema={UISchema} field_required={required} /> : null}\r\n    </>\r\n    );\r\n};\r\n\r\nexport default ArrayType;","import React from 'react';\r\nimport StringType from \"./elements/StringType\";\r\nimport NumberType from \"./elements/NumberType\";\r\nimport ObjectType from './elements/ObjectType';\r\nimport IntegerType from './elements/IntegerType';\r\nimport BooleanType from './elements/BooleanType';\r\nimport ArrayType from './elements/ArrayType';\r\n\r\n\r\nconst ElementRenderer = ({ path, elementRequired, fieldId, fieldIndex, edit, field: { type, title, description, properties, required, enumerate, items, defaultValue, } }) => {\r\n\r\n    switch (type) {\r\n        case 'string':\r\n            return (<StringType\r\n                path={path + \".\" + fieldIndex}\r\n                field_id={fieldId}\r\n                field_index={fieldIndex}\r\n                field_label={title}\r\n                field_description={description}\r\n                field_required={elementRequired}\r\n                field_enumerate={enumerate}\r\n                defaultValue={defaultValue}\r\n                edit={edit}\r\n            />)\r\n        case 'number':\r\n            return (<NumberType\r\n                path={path + \".\" + fieldIndex}\r\n                field_id={fieldId}\r\n                field_index={fieldIndex}\r\n                field_label={title}\r\n                field_description={description}\r\n                field_required={elementRequired}\r\n                field_enumerate={enumerate}\r\n                defaultValue={defaultValue}\r\n                edit={edit}\r\n            />)\r\n        case 'integer':\r\n            return (<IntegerType\r\n                path={path + \".\" + fieldIndex}\r\n                field_id={fieldId}\r\n                field_index={fieldIndex}\r\n                field_label={title}\r\n                field_description={description}\r\n                field_required={elementRequired}\r\n                field_enumerate={enumerate}\r\n                defaultValue={defaultValue}\r\n                edit={edit}\r\n            />)\r\n        case 'boolean':\r\n            return (<BooleanType\r\n                path={path + \".\" + fieldIndex}\r\n                field_id={fieldId}\r\n                field_index={fieldIndex}\r\n                field_label={title}\r\n                field_description={description}\r\n                field_required={elementRequired}\r\n                defaultValue={defaultValue}\r\n                edit={edit}\r\n            />)\r\n        case 'array':\r\n            return (<ArrayType\r\n                path={path + \".\" + fieldIndex}\r\n                field_id={fieldId}\r\n                field_label={title}\r\n                field_description={description}\r\n                field_required={elementRequired}\r\n                field_items={items}\r\n                edit={edit}\r\n            />)\r\n        case 'object':\r\n            return (<ObjectType\r\n                path={path + \".\" + fieldIndex}\r\n                field_id={fieldId}\r\n                field_label={title}\r\n                field_description={description}\r\n                field_required={required}\r\n                field_properties={properties}\r\n                edit={edit}\r\n            />)\r\n\r\n        default:\r\n            return null;\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default ElementRenderer;\r\n","import React, { useContext, useState } from 'react'\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport { Button } from '@material-ui/core';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport { FormContext } from '../FormContext';\r\nimport { IconButton } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\nconst EditSchemaHeader = ({ schemaID, title, description, schemaURI, openDialog, setOpenDialog }) => {\r\n\r\n    const [_schemaID, _setSchemaID] = useState(schemaID);\r\n    const [_title, _setTitle] = useState(title);\r\n    const [_description, _setDescription] = useState(description);\r\n    const [_schemaURI, _setSchemaURI] = useState(schemaURI);\r\n    const { updateParent, convertedSchema } = useContext(FormContext);\r\n\r\n\r\n\r\n\r\n    // save the change and update the UI\r\n    const handleUpdateSchemaOnClick = () => {\r\n\r\n        if (_schemaURI === undefined) {\r\n            delete convertedSchema[\"$schema\"]\r\n        } else if (_schemaURI.replace(/\\s+/g, '') === \"\") {\r\n            delete convertedSchema[\"$schema\"]\r\n        } else {\r\n            convertedSchema[\"$schema\"] = _schemaURI\r\n        };\r\n\r\n        if (_schemaID === undefined) {\r\n            delete convertedSchema[\"id\"]\r\n        } else if (_schemaID.replace(/\\s+/g, '') === \"\") {\r\n            delete convertedSchema[\"id\"]\r\n        } else {\r\n            convertedSchema[\"id\"] = _schemaID\r\n        };\r\n\r\n        if (_title === undefined) {\r\n            delete convertedSchema[\"title\"]\r\n        } else if (_title.replace(/\\s+/g, '') === \"\") {\r\n            delete convertedSchema[\"title\"]\r\n        } else {\r\n            convertedSchema[\"title\"] = _title\r\n        };\r\n\r\n        if (_description === undefined) {\r\n            delete convertedSchema[\"description\"]\r\n        } else if (_description.replace(/\\s+/g, '') === \"\") {\r\n            delete convertedSchema[\"description\"]\r\n        } else {\r\n            convertedSchema[\"description\"] = _description\r\n        };\r\n\r\n        updateParent(convertedSchema)\r\n        setOpenDialog(false)\r\n    }\r\n\r\n    // change descriptor value\r\n    const handleChangeUISchema = (event, keyword) => {\r\n\r\n        switch (keyword) {\r\n            case 'title':\r\n                return _setTitle(event.target.value)\r\n            case 'description':\r\n                return _setDescription(event.target.value)\r\n            case 'id':\r\n                return _setSchemaID(event.target.value)\r\n            case 'uri':\r\n                return _setSchemaURI(event.target.value)\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    // cancel editing\r\n    const handleCancelEdit = () => {\r\n        _setDescription(description);\r\n        _setSchemaID(schemaID);\r\n        _setSchemaURI(schemaURI);\r\n        _setTitle(title);\r\n        setOpenDialog(false)\r\n    }\r\n\r\n    return (\r\n        <><Dialog\r\n            open={openDialog}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">\r\n                <div style={{ display: \"inline-flex\", width: \"100%\", verticalAlign: \"middle\" }}>\r\n                    <EditIcon fontSize=\"large\" color=\"primary\" style={{ alignSelf: \"center\" }} />\r\n                    <div style={{ width: \"100%\", alignSelf: \"center\" }}>\r\n                        Edit schema \"{title}\"\r\n                    </div>\r\n                    <IconButton onClick={() => handleCancelEdit()}><CloseIcon fontSize=\"large\" color=\"secondary\" /></IconButton>\r\n                </div>\r\n            </DialogTitle>\r\n            <Divider />\r\n            <DialogContent>\r\n                <DialogContentText id=\"alert-dialog-description\">\r\n                    <div>\r\n                        <FormControl component=\"widget-type\">\r\n                            <FormLabel style={{ color: \"#01579b\" }} component=\"legend\">Basic Descriptors:</FormLabel>\r\n                            <TextField margin='normal' onChange={event => handleChangeUISchema(event, \"uri\")} style={{ marginTop: \"20px\" }} defaultValue={schemaURI} variant=\"outlined\" fullWidth={true} label={\"Schema URI\"} />\r\n                            <TextField margin='normal' onChange={event => handleChangeUISchema(event, \"id\")} style={{ marginTop: \"10px\" }} defaultValue={schemaID} variant=\"outlined\" fullWidth={true} label={\"Schema ID\"} />\r\n                            <TextField margin='normal' onChange={event => handleChangeUISchema(event, \"title\")} style={{ marginTop: \"10px\" }} defaultValue={title} variant=\"outlined\" fullWidth={true} label={\"Schema Title\"} />\r\n                            <TextField margin='normal' onChange={event => handleChangeUISchema(event, \"description\")} style={{ marginTop: \"10px\" }} defaultValue={description} variant=\"outlined\" fullWidth={true} label={\"Schema Description\"} multiline rows={3} />\r\n                        </FormControl>\r\n                    </div>\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={() => handleCancelEdit()} color=\"secondary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={() => handleUpdateSchemaOnClick()} color=\"primary\" autoFocus>\r\n                    Save\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        </>\r\n\r\n    )\r\n};\r\n\r\nexport default EditSchemaHeader;","import React, { useContext, useState } from \"react\";\r\n//import { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ElementRenderer from \"./ElementRenderer\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport { Button } from '@material-ui/core';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport AddIcon from \"@material-ui/icons/AddBox\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport { FormContext } from '../FormContext';\r\nimport DragHandleIcon from \"@material-ui/icons/DragIndicator\";\r\nimport RevertIvon from \"@material-ui/icons/History\";\r\nimport AddElement from \"./AddElement\";\r\nimport EditSchemaHeader from \"./EditSchemaHeader\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    heading: {\r\n        color: 'rgba(82, 94, 103, 1)',\r\n        fontSize: theme.typography.pxToRem(25),\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n    },\r\n}));\r\n\r\nconst FormRenderer = ({ revertAllChanges, schema, edit }) => {\r\n    const { updateParent, convertedSchema } = useContext(FormContext);\r\n    const [openDialogAddElement, setOpenDialogAddElement] = useState(false);\r\n    const [openDialog, setOpenDialog] = useState(false);\r\n\r\n    const classes = useStyles();\r\n\r\n    // deconstruct\r\n    const { properties, title, description, required, $schema, id } = schema ?? {}\r\n\r\n    // update the order in properties on drag end\r\n    const handleOnDragEnd = (result) => {\r\n        if (!result.destination) return;\r\n        const items = Array.from(properties);\r\n        const [reorderedItem] = items.splice(result.source.index, 1);\r\n        items.splice(result.destination.index, 0, reorderedItem);\r\n\r\n        let value = { ...convertedSchema };\r\n        value[\"properties\"] = items;\r\n        updateParent(value);\r\n    }\r\n\r\n    /*\r\n    console.log(\"converted:\", convertedSchema)\r\n    let deconvertedSchema = JSON.parse(JSON.stringify(convertedSchema))\r\n    deconvertedSchema[\"properties\"] = array2object(convertedSchema[\"properties\"])\r\n    console.log(\"deconverted:\", deconvertedSchema)\r\n    */\r\n\r\n    // default schema for add new element\r\n    let defaultSchema = {}\r\n\r\n    return (<>\r\n        <div style={{ width: \"100%\", paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n            <div style={{ paddingTop: \"10px\", paddingBottom: \"10px\", display: 'inline-flex', width: '100%' }}>\r\n                <Typography className={classes.heading} style={{ width: \"100%\" }}>{title}</Typography>\r\n                {edit ? <> <Button onClick={() => setOpenDialog(true)} style={{ marginLeft: \"5px\" }}> <EditIcon color=\"primary\" /></Button> <Button onClick={() => revertAllChanges()} style={{ marginLeft: \"5px\" }}> <RevertIvon color=\"primary\" /></Button>  </> : null}\r\n            </div>\r\n            <Divider />\r\n            <Typography>{description}</Typography>\r\n            <DragDropContext onDragEnd={handleOnDragEnd}>\r\n                <Droppable droppableId=\"forms\">\r\n                    {(provided) => (\r\n                        <form {...provided.droppableProps} ref={provided.innerRef}>\r\n                            {Object.keys(properties).map((item, index) => {\r\n                                return (\r\n                                    <Draggable isDragDisabled={!edit} key={properties[item][\"fieldId\"]} draggableId={properties[item][\"fieldId\"]} index={index}>\r\n                                        {(provided) => (\r\n                                            <div {...provided.draggableProps} ref={provided.innerRef}>\r\n                                                <div style={{ display: \"flex\" }}>\r\n                                                    {edit ? <div style={{ width: \"20px\", marginTop: \"10px\", height: \"30px\" }} {...provided.dragHandleProps}>\r\n                                                        <DragHandleIcon fontSize=\"small\" />\r\n                                                    </div> : null}\r\n                                                    <ElementRenderer schema={schema} path={\"properties\"} fieldId={properties[item][\"fieldId\"]} fieldIndex={item} elementRequired={required} edit={edit} field={properties[item]} />\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n                                    </Draggable>\r\n                                );\r\n                            })}\r\n                            {provided.placeholder}\r\n                            {edit ? <div style={{ display: \"flex\", justifyContent: \"right\" }}>\r\n                                <Button onClick={() => setOpenDialogAddElement(true)} style={{ marginLeft: \"5px\" }}><AddIcon color=\"primary\" /> ADD ELEMENT</Button>\r\n                            </div> : null}\r\n                        </form>\r\n                    )}\r\n                </Droppable>\r\n            </DragDropContext>\r\n        </div>\r\n        {openDialogAddElement ? <AddElement openDialog={openDialogAddElement} setOpenDialog={setOpenDialogAddElement} defaultSchema={defaultSchema} schemaTitle={title} /> : null}\r\n        {openDialog ? <EditSchemaHeader schemaID={id} title={title} description={description} schemaURI={$schema} openDialog={openDialog} setOpenDialog={setOpenDialog} /> : null}\r\n    </>);\r\n};\r\n\r\nexport default FormRenderer;","import React, { useState } from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport { AccordionDetails, AccordionSummary } from '@material-ui/core';\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    heading: {\r\n        color: 'rgba(82, 94, 103, 1)',\r\n        fontSize: theme.typography.pxToRem(25),\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n    },\r\n}));\r\n\r\n\r\nconst JSONSchemaViewer = ({ jsonschema }) => {\r\n    //console.log(\"path:\", path)\r\n    const [expand, setExpand] = useState(false); // set to \"true\" for normally open accordion\r\n\r\n    // This is to expand or contract the accordion, because normally open is used \r\n    const expandOnChange = () => {\r\n        const value = expand\r\n        setExpand(!value)\r\n    };\r\n\r\n    const classes = useStyles();\r\n\r\n    return (<>\r\n        <div style={{ width: \"100%\", padding: \"10px 0px 10px 0px\" }}>\r\n            <Accordion expanded={expand} >\r\n                <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    IconButtonProps={{\r\n                        onClick: expandOnChange\r\n                    }}\r\n                    aria-controls=\"panel1a-content\"\r\n                    id=\"panel1a-header\"\r\n                >\r\n                    <div style={{ paddingTop: \"10px\", paddingBottom: \"10px\", display: 'inline-flex', width: '100%' }}>\r\n                        <div>\r\n                            <Typography className={classes.heading}>JSON Schema Viewer</Typography>\r\n                        </div>\r\n                    </div>\r\n                </AccordionSummary>\r\n                <Divider />\r\n                <AccordionDetails>\r\n                    <div >\r\n                        <pre style={{ overflowX: \"auto\", whiteSpace: \"pre-wrap\", wordWrap: \"break-word\" }}>\r\n                            {JSON.stringify(jsonschema, null, 2)}\r\n                        </pre>\r\n                    </div>\r\n                </AccordionDetails>\r\n            </Accordion>\r\n        </div>\r\n    </>);\r\n};\r\n\r\nexport default JSONSchemaViewer;","// convert iterable array to json schema properties\r\nconst array2object = (propert) => {\r\n    var someObject = {};\r\n    propert.forEach((item) => {\r\n        const tempKey = item[\"fieldId\"];\r\n        delete item[\"fieldId\"];\r\n        const tempElements = item;\r\n        someObject[tempKey] = tempElements;\r\n        Object.keys(tempElements).forEach((item) => {\r\n            // change \"enumerate\" to \"enum\"\r\n            if (item === \"enumerate\") {\r\n                const enumContent = JSON.parse(\r\n                    JSON.stringify(someObject[tempKey][\"enumerate\"])\r\n                );\r\n                delete someObject[tempKey][\"enumerate\"];\r\n                someObject[tempKey][\"enum\"] = enumContent;\r\n            }\r\n            if (item === \"defaultValue\") {\r\n                const enumContent = JSON.parse(\r\n                    JSON.stringify(someObject[tempKey][\"defaultValue\"])\r\n                );\r\n                delete someObject[tempKey][\"defaultValue\"];\r\n                someObject[tempKey][\"default\"] = enumContent;\r\n            }\r\n            if (item === \"properties\") {\r\n                // some recursion\r\n                someObject[tempKey][\"properties\"] = array2object(\r\n                    someObject[tempKey][\"properties\"]\r\n                );\r\n            }\r\n        });\r\n    });\r\n    return someObject;\r\n};\r\n\r\nexport default array2object;","// convert json schema properties to an iterable array\r\nconst object2array = (propert) => {\r\n    let someArray = [];\r\n    Object.keys(propert).forEach((item) => {\r\n        var tempVariable = {};\r\n        var tempVariable2;\r\n        tempVariable2 = propert[item];\r\n        tempVariable[\"fieldId\"] = item;\r\n        Object.keys(tempVariable2).forEach((item_) => {\r\n            // make enum indexable by changing the key to \"enumerate\"\r\n            if (item_ === \"enum\") {\r\n                tempVariable[\"enumerate\"] = tempVariable2[item_];\r\n            }\r\n            if (item_ === \"default\") {\r\n                tempVariable[\"defaultValue\"] = tempVariable2[item_];\r\n            }\r\n            tempVariable[item_] = tempVariable2[item_];\r\n            if (item_ === \"properties\") {\r\n                // recursive on action to access nested properties\r\n                tempVariable[item_] = object2array(tempVariable2[item_]);\r\n            }\r\n        });\r\n        someArray.push(tempVariable);\r\n    });\r\n\r\n    return someArray;\r\n};\r\n\r\nexport default object2array;","import React, { useCallback, useState } from \"react\";\r\n//import { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport HeaderImage from \"../assets/header-image.png\";\r\nimport FormRenderer from \"../components/FormRenderer\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport { FormContext } from \"../FormContext\";\r\nimport JSONSchemaViewer from \"../components/JSONSchemaViewer\";\r\nimport array2object from \"../components/utils/array2object\";\r\nimport object2array from \"../components/utils/object2array\";\r\n\r\nconst AdamantMain = () => {\r\n  // state management\r\n  const [disable, setDisable] = useState(true);\r\n  const [schemaMessage, setSchemaMessage] = useState(null);\r\n  const [schemaValidity, setSchemaValidity] = useState(false);\r\n  const [schema, setSchema] = useState(null);\r\n  const [renderReady, setRenderReady] = useState(false);\r\n  const [editMode, setEditMode] = useState(true);\r\n  const [schemaFile, setSchemaFile] = useState();\r\n  const [originalSchema, setOriginalSchema] = useState();\r\n  const [inputMode, setInputMode] = useState(false);\r\n  const [convertedSchema, setConvertedSchema] = useState(null);\r\n  const [createScratchMode, setCreateScratchMode] = useState(false);\r\n\r\n  // place holders\r\n  let schemaList = [\r\n    \"\",\r\n    \"SEM-request-form\",\r\n    \"Plasma-MDS\",\r\n    \"unreasonably long title lalalala...\",\r\n  ];\r\n\r\n  // function to check if the file accepted is of json format and json schema valid\r\n  const checkSchemaValidity = (schemaFile) => {\r\n    // place holder\r\n    if (schemaFile[0][\"type\"] === \"application/json\") {\r\n      // read the file with FileReadr API\r\n      const reader = new FileReader();\r\n      reader.onabort = () => console.log(\"file reading was aborted\");\r\n      reader.onerror = () => console.log(\"file reading has failed\");\r\n      reader.onload = () => {\r\n        const binaryStr = reader.result;\r\n        const obj = JSON.parse(binaryStr);\r\n\r\n        // convert obj schema to iterable array properties\r\n        let convertedSchema = JSON.parse(JSON.stringify(obj));\r\n        try {\r\n          convertedSchema[\"properties\"] = object2array(obj[\"properties\"]);\r\n\r\n          // update states\r\n          setSchemaValidity(true);\r\n          setSchemaMessage(`${schemaFile[0][\"name\"]} is valid`);\r\n          setSchema(obj);\r\n          let oriSchema = JSON.parse(JSON.stringify(obj));\r\n          setOriginalSchema(oriSchema);\r\n          setConvertedSchema(convertedSchema);\r\n          setEditMode(true);\r\n        } catch (error) {\r\n          console.log(error);\r\n          // update states\r\n          setSchemaValidity(false);\r\n          setSchemaMessage(`${schemaFile[0][\"name\"]} is invalid`);\r\n          setSchema(null);\r\n        }\r\n      };\r\n      reader.readAsText(schemaFile[0]);\r\n    } else {\r\n      // update states\r\n      setSchemaValidity(false);\r\n      setSchemaMessage(`${schemaFile[0][\"name\"]} is of incorrect file type`);\r\n      setSchema(null);\r\n    }\r\n  };\r\n\r\n  // browse or drag&drop schema file\r\n  const onDrop = useCallback(\r\n    (acceptedFile) => {\r\n      // process the schema, validation etc\r\n      checkSchemaValidity(acceptedFile);\r\n\r\n      // store schema file in the state\r\n      setSchemaFile(acceptedFile);\r\n      // update states\r\n      setRenderReady(false);\r\n      setDisable(true);\r\n      setCreateScratchMode(false);\r\n    },\r\n    [setRenderReady]\r\n  );\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n    onDrop,\r\n    multiple: false,\r\n  });\r\n\r\n  // render on-click handle\r\n  const renderOnClick = () => {\r\n    setDisable(false);\r\n    setRenderReady(true);\r\n  };\r\n\r\n  // clear schema on-click handle\r\n  const clearSchemaOnClick = () => {\r\n    setDisable(true);\r\n    setRenderReady(false);\r\n    setSchema(null);\r\n    setSchemaValidity(false);\r\n    setSchemaMessage();\r\n    setCreateScratchMode(false);\r\n  };\r\n\r\n  // create new schema from scratch\r\n  const createSchemaFromScratch = () => {\r\n    // update browse schema render states\r\n    setSchemaValidity(false);\r\n    setSchemaMessage();\r\n\r\n    let schemaBlueprint = { properties: {}, type: \"object\" };\r\n    const obj = JSON.parse(JSON.stringify(schemaBlueprint));\r\n\r\n    // convert obj schema to iterable array properties\r\n    let convertedSchema = JSON.parse(JSON.stringify(obj));\r\n    convertedSchema[\"properties\"] = object2array(obj[\"properties\"]);\r\n\r\n    // update states\r\n    setCreateScratchMode(true);\r\n    setSchema(obj);\r\n    let oriSchema = JSON.parse(JSON.stringify(obj));\r\n    setOriginalSchema(oriSchema);\r\n    setConvertedSchema(convertedSchema);\r\n    setEditMode(true);\r\n\r\n    setDisable(false);\r\n    setRenderReady(true);\r\n  };\r\n\r\n  // compile on-click handle\r\n  const compileOnClick = () => {\r\n    const value = schema;\r\n    setInputMode(true);\r\n    setSchema(value);\r\n    setEditMode(false);\r\n    setDisable(true);\r\n  };\r\n\r\n  // return to edit mode handle\r\n  const toEditMode = () => {\r\n    const value = schema;\r\n    setInputMode(false);\r\n    setSchema(value);\r\n    setEditMode(true);\r\n    setDisable(false);\r\n  };\r\n\r\n  // update parent (re-render everything)\r\n  const updateParent = (value) => {\r\n    const newValue = { ...value };\r\n\r\n    // update original schema\r\n    const updatedSchema = JSON.parse(JSON.stringify(newValue));\r\n    const tempSchema = JSON.parse(JSON.stringify(newValue));\r\n    updatedSchema[\"properties\"] = array2object(tempSchema[\"properties\"]);\r\n\r\n    setConvertedSchema(newValue);\r\n    setSchema(updatedSchema);\r\n  };\r\n\r\n  // revert all changes to the schema\r\n  const revertAllChanges = () => {\r\n    const value = { ...originalSchema };\r\n    // convert obj schema to iterable array properties\r\n    let convertedSchema = JSON.parse(JSON.stringify(value));\r\n    convertedSchema[\"properties\"] = object2array(value[\"properties\"]);\r\n    setConvertedSchema(convertedSchema);\r\n    setSchema(value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <FormContext.Provider value={{ updateParent, convertedSchema }}>\r\n        <div style={{ paddingBottom: \"5px\" }}>\r\n          <img\r\n            style={{ width: \"100%\", borderRadius: \"5px\" }}\r\n            alt=\"header\"\r\n            src={HeaderImage}\r\n          />\r\n          {!inputMode ? (\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                width: \"100%\",\r\n                textAlign: \"left\",\r\n                padding: \"10px 10px 0px 10px\",\r\n              }}\r\n            >\r\n              <Button variant=\"contained\" color=\"primary\" {...getRootProps()}>\r\n                <input {...getInputProps()} />\r\n                {isDragActive ? \"Drop here\" : \"Browse Schema\"}\r\n              </Button>\r\n              <div\r\n                style={{\r\n                  paddingLeft: \"10px\",\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                OR\r\n              </div>\r\n              <TextField\r\n                style={{ width: \"220px\", marginLeft: \"10px\" }}\r\n                fullWidth={false}\r\n                select\r\n                id={\"select-schema\"}\r\n                label={\"Select existing schema\"}\r\n                variant=\"outlined\"\r\n                SelectProps={{ native: true }}\r\n              >\r\n                {schemaList.map((content, index) => (\r\n                  <option key={index} value={content}>\r\n                    {content}\r\n                  </option>\r\n                ))}\r\n              </TextField>\r\n              <div\r\n                style={{\r\n                  paddingLeft: \"10px\",\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                OR\r\n              </div>\r\n              <Button\r\n                onClick={() => createSchemaFromScratch()}\r\n                style={{\r\n                  marginLeft: \"10px\",\r\n                  marginRight: \"10px\",\r\n                }}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n              >\r\n                CREATE SCHEMA/FORM\r\n              </Button>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n        {!inputMode ? (\r\n          <div\r\n            style={{\r\n              paddingLeft: \"10px\",\r\n              display: \"flex\",\r\n              width: \"100%\",\r\n              textAlign: \"left\",\r\n            }}\r\n          >\r\n            {schemaValidity === true ? (\r\n              <>\r\n                <div\r\n                  style={{\r\n                    paddingRight: \"10px\",\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    color: \"green\",\r\n                  }}\r\n                >\r\n                  {schemaMessage}. You can now render the form.\r\n                </div>\r\n                <Button\r\n                  style={{ marginRight: \"5px\" }}\r\n                  onClick={() => renderOnClick()}\r\n                  variant=\"outlined\"\r\n                >\r\n                  Render\r\n                </Button>\r\n                <Button\r\n                  onClick={() => clearSchemaOnClick()}\r\n                  variant=\"outlined\"\r\n                  color=\"secondary\"\r\n                >\r\n                  Clear\r\n                </Button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <div\r\n                  style={{\r\n                    paddingRight: \"10px\",\r\n                    paddingTop: \"10px\",\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    color: \"red\",\r\n                  }}\r\n                >\r\n                  {schemaMessage}\r\n                </div>\r\n              </>\r\n            )}\r\n            {createScratchMode === true ? (\r\n              <>\r\n                <div\r\n                  style={{\r\n                    paddingRight: \"10px\",\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    color: \"green\",\r\n                  }}\r\n                >\r\n                  Create from scratch mode. You can now start editing.\r\n                </div>\r\n                <Button\r\n                  onClick={() => clearSchemaOnClick()}\r\n                  variant=\"outlined\"\r\n                  color=\"secondary\"\r\n                >\r\n                  Clear\r\n                </Button>\r\n              </>\r\n            ) : null}\r\n          </div>\r\n        ) : null}\r\n        <div style={{ padding: \"10px\" }}>\r\n          <Divider />\r\n        </div>\r\n        {renderReady === true ? (\r\n          <FormRenderer\r\n            revertAllChanges={revertAllChanges}\r\n            schema={convertedSchema}\r\n            edit={editMode}\r\n          />\r\n        ) : null}\r\n        {renderReady === true ? <JSONSchemaViewer jsonschema={schema} /> : null}\r\n        <div\r\n          style={{\r\n            padding: \"10px 10px\",\r\n            display: \"flex\",\r\n            justifyContent: \"right\",\r\n          }}\r\n        >\r\n          {inputMode ? (\r\n            <>\r\n              <Button\r\n                onClick={() => toEditMode()}\r\n                style={{ marginRight: \"5px\" }}\r\n                variant=\"outlined\"\r\n              >\r\n                Back to Edit Mode\r\n              </Button>\r\n              <Button variant=\"contained\" color=\"primary\">\r\n                Proceed\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <Button\r\n              disabled={disable}\r\n              onClick={() => compileOnClick()}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n            >\r\n              Compile\r\n            </Button>\r\n          )}\r\n        </div>\r\n        <div style={{ padding: \"5px\" }}>ADAMANT v0.0.1</div>\r\n      </FormContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdamantMain;\r\n","import React from \"react\";\nimport \"./styles.css\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport AdamantMain from \"./pages/AdamantMain\";\nimport \"cors\";\n\nexport default function App() {\n\n\n  return (\n    /*\n    <div className=\"the_app\">\n      <Switch>\n        <Redirect exact from=\"/\" to=\"/pbb/adamant\" />\n        <Route exact path=\"/pbb/adamant\" component={AdamantMain}></Route>\n      </Switch>\n    </div>\n    */\n    <div className=\"the_app\">\n      <Switch>\n        <Redirect exact from=\"/\" to=\"/adamant\" />\n        <Route exact path=\"/adamant\" component={AdamantMain}></Route>\n      </Switch>\n    </div>\n  );\n};","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n//import { HashRouter as Router } from \"react-router-dom\";\nimport App from \"./App\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <CssBaseline />\n      <App />\n    </Router>\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}