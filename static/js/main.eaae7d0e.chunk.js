(this.webpackJsonpadamant=this.webpackJsonpadamant||[]).push([[0],{173:function(e,t,i){},184:function(e,t){},273:function(e,t,i){"use strict";i.r(t);var n=i(0),a=i(18),r=i.n(a),l=i(125),c=(i(173),i(24)),d=i(8),o=i(6),s=i(159),u=i.p+"static/media/header-image.37bfe931.png",p=i(307),j=i(328),h=i(19),f=i.n(h),b=i(20),x=i.n(b),g=i(274),O=i(317),m=i(314),y=i(332),v=i(316),S=i(315),I=i(318),C=i(313),_=function(e,t){if(void 0===t)return e.properties;var i=JSON.parse(JSON.stringify(e));t=t.split(".");for(var n=i,a=0;a<t.length;a++)n=n[t[a]];return n},T=function(e,t,i){var n;if(void 0===t){e.properties.forEach((function(e){if(e.fieldId===i)return n=!0}))}else{var a=_(e,t).properties;if(void 0===a){var r=t.split(".");r.pop(),r=r.join("."),_(e,r).forEach((function(e){if(e.fieldId===i)return n=!0}))}else a.forEach((function(e){if(e.fieldId===i)return n=!0}))}return!!n},D=i(322),w=i(319),k=i(320),A=Object(n.createContext)(null),F=i(331),N=i(323),R=i(129),L=function(e){var t=e.selectedType,n=e.path,a=e.requiredChecked,r=e.field_id,l=e.convertedSchema;"object"===t&&(a=!1);var c=i(32),d=n.split(".");d.pop(),d.pop();var o=function(e,t){var i=JSON.parse(JSON.stringify(e));t=t.split(".");for(var n=i,a=0;a<t.length;a++)n=n[t[a]];return n}(l,d=d.join("."));if(void 0!==o)if(void 0!==o.required){var s=o.required;a?(s.push(r),c(l,d+".required",s=Object(R.a)(new Set(s)))):s.includes(r)&&(c(l,d+".required",s=s.filter((function(e){return e!==r}))),0===s.length&&(delete o.required,c(l,d,o)))}else{if(a)c(l,d+".required",["".concat(r)])}else if(void 0!==l.required){var u=l.required;a?(u.push(r),u=Object(R.a)(new Set(u)),l.required=u):u.includes(r)&&(u=u.filter((function(e){return e!==r})),l.required=u,0===u.length&&delete l.required)}else if(a){var p=["".concat(r)];l.required=p}return l},W=i(53),q=i.n(W),P=i(1),B=(Object(p.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),function(e){var t=e.enumerated,a=e.field_enumerate,r=e.field_required,l=e.field_id,c=e.UISchema,d=e.path,s=e.pathSchema,u=e.openDialog,p=e.setOpenDialog,h=e.defaultValue,b=Object(n.useState)(c.type),x=Object(o.a)(b,2),_=x[0],R=x[1],W=Object(n.useState)(c.title),B=Object(o.a)(W,2),E=B[0],J=B[1],V=Object(n.useState)(c.fieldId),z=Object(o.a)(V,2),U=z[0],H=z[1],M=Object(n.useState)(c.description),$=Object(o.a)(M,2),G=$[0],Y=$[1],K=Object(n.useState)(h),X=Object(o.a)(K,2),Q=X[0],Z=X[1],ee=Object(n.useContext)(A),te=ee.updateParent,ie=ee.convertedSchema,ne=ee.updateFormDataId,ae=Object(n.useState)(void 0!==r&&r),re=Object(o.a)(ae,2),le=re[0],ce=re[1],de=Object(n.useState)(void 0!==t&&t),oe=Object(o.a)(de,2),se=oe[0],ue=oe[1],pe=Object(n.useState)(void 0===a?[]:a),je=Object(o.a)(pe,2),he=je[0],fe=je[1],be=JSON.parse(JSON.stringify(c)),xe=!1;["string","number","integer","object","array","boolean"].includes(c.type)||(xe=!0);var ge=function(){void 0===Q&void 0===h||""===Q.toString().replace(/\s+/g,"")&void 0===h||"boolean"===_&""===Q.toString().replace(/\s+/g,"")&void 0===h||("boolean"===_&""!==Q.toString().replace(/\s+/g,"")&void 0!==h?be.defaultValue="true"===Q:""===Q.toString().replace(/\s+/g,"")?delete be.defaultValue:be.defaultValue=Q);var e=T(ie,d,U);if(c.fieldId!==U&&e)alert("Field ID already exists!");else if(void 0===U|""===U.replace(/\s+/g,""))alert("Field ID must be defined!");else{be.fieldId=U,be.type=_,void 0!==E&&(be.title=E),void 0!==G&&(be.description=G),"object"===be.type&void 0===be.properties&&(be.properties=[]),"array"===be.type&void 0===be.items&&(be.items={}),["string","integer","number"].includes(be.type)||ue(!1);var t=i(32);t(ie,d,be);var n=L({selectedType:_,path:d,requiredChecked:le,field_id:l,convertedSchema:ie});if(["string","integer","number"].includes(be.type)&se){var a=he;switch(be.type){case"string":Array.isArray(a)?t(n,d+".enumerate",a):(a=a.replace(/\s*,\s*/g,","),t(n,d+".enumerate",a.split(",")));case"integer":if(Array.isArray(a)){var r=a.map((function(e){return parseInt(e,10)}));t(n,d+".enumerate",r)}else{var o=(a=a.replace(/\s*,\s*/g,",")).split(",").map((function(e){return parseInt(e,10)}));t(n,d+".enumerate",o)}case"number":if(Array.isArray(a)){var u=a.map((function(e){return parseFloat(e,10)}));t(n,d+".enumerate",u)}else{var j=(a=a.replace(/\s*,\s*/g,",")).split(",").map((function(e){return parseFloat(e,10)}));t(n,d+".enumerate",j)}}}te(n),p(!1),ne(l,U,s,h)}},Oe=function(e,t){switch(t){case"type":return R(e.target.value);case"title":return J(e.target.value);case"description":return Y(e.target.value);case"fieldId":return H(e.target.value.replace(/ /g,"_"));case"defaultValue":return Z(e.target.value);default:return null}},me=function(){be=JSON.parse(JSON.stringify(c)),p(!1),fe(a),Z(h),R(c.type)},ye=function(){ce((function(e){return!e}))};return Object(P.jsx)(P.Fragment,{children:xe?Object(P.jsxs)(y.a,{open:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(P.jsx)(C.a,{id:"alert-dialog-title",children:Object(P.jsxs)("div",{style:{display:"inline-flex",width:"100%",verticalAlign:"middle"},children:[Object(P.jsx)(f.a,{fontSize:"large",color:"primary",style:{alignSelf:"center"}}),Object(P.jsxs)("div",{style:{width:"100%",alignSelf:"center"},children:['Edit "',be.title,'"']}),Object(P.jsx)(g.a,{onClick:function(){return me()},children:Object(P.jsx)(q.a,{fontSize:"large",color:"secondary"})})]})}),Object(P.jsx)(m.a,{}),Object(P.jsxs)(S.a,{children:['We are sorry! Editing feature for the "',c.type,'" type/keyword is not yet implemented.']}),Object(P.jsxs)(v.a,{children:[Object(P.jsx)(O.a,{onClick:function(){return me()},color:"secondary",children:"Cancel"}),Object(P.jsx)(O.a,{disabled:!0,onClick:function(){return ge()},color:"primary",autoFocus:!0,children:"Save"})]})]}):Object(P.jsxs)(y.a,{open:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(P.jsx)(C.a,{id:"alert-dialog-title",children:Object(P.jsxs)("div",{style:{display:"inline-flex",width:"100%",verticalAlign:"middle"},children:[Object(P.jsx)(f.a,{fontSize:"large",color:"primary",style:{alignSelf:"center"}}),Object(P.jsxs)("div",{style:{width:"100%",alignSelf:"center"},children:['Edit "',be.title,'"']}),Object(P.jsx)(g.a,{onClick:function(){return me()},children:Object(P.jsx)(q.a,{fontSize:"large",color:"secondary"})})]})}),Object(P.jsx)(m.a,{}),Object(P.jsx)(S.a,{children:Object(P.jsx)(I.a,{id:"alert-dialog-description",component:"span",children:Object(P.jsxs)("div",{children:[Object(P.jsxs)(w.a,{component:"widget-type",children:[Object(P.jsx)(k.a,{style:{color:"#01579b"},component:"legend",children:"Basic Descriptors:"}),Object(P.jsx)(j.a,{margin:"normal",required:!0,onChange:function(e){return Oe(e,"fieldId")},style:{marginTop:"20px"},defaultValue:l,variant:"outlined",fullWidth:!0,label:"Field ID or Key",helperText:'A unique json key or id for this field. Usually short and no spaces (use "_" instead). Spaces are replaced automatically with "_" upon saving.'}),Object(P.jsx)(j.a,{margin:"normal",onChange:function(e){return Oe(e,"title")},style:{marginTop:"10px"},defaultValue:be.title,variant:"outlined",fullWidth:!0,label:"Field Title",helperText:'Label or title of the field. For a field that requires a unit, the unit can be placed within a square bracket, e,g., "Chamber Pressure [Pa]".'}),Object(P.jsx)(j.a,{margin:"normal",onChange:function(e){return Oe(e,"description")},style:{marginTop:"10px"},defaultValue:be.description,variant:"outlined",fullWidth:!0,label:"Field Description",multiline:!0,rows:3,helperText:"A detailed description of the field, how the input should be formated, etc."}),Object(P.jsx)(j.a,{margin:"normal",helperText:"Data type of the field input.",onChange:function(e){return Oe(e,"type")},style:{marginTop:"10px"},defaultValue:be.type,select:!0,fullWidth:!0,id:l,label:"Field Data Type",variant:"outlined",SelectProps:{native:!0},children:["string","number","integer","object","array","boolean"].map((function(e,t){return Object(P.jsx)("option",{value:e,children:e},t)}))}),["string","integer","number"].includes(_)?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(D.a,{control:Object(P.jsx)(F.a,{onChange:function(){ue((function(e){return!e}))},checked:se}),label:"Enumerated. Choose from an available list of inputs."}),Object(P.jsx)("div",{style:{marginTop:"10px",marginBottom:"10px"},children:se?Object(P.jsx)(j.a,{defaultValue:void 0!==he?he:"",onChange:function(e){fe(e.target.value)},variant:"outlined",fullWidth:!0,label:"Enumerate List",multiline:!0,rows:4,helperText:"A list of inputs separated by commas, e,g.: item 1, item 2, item 3. Make sure that the item data type matches the field input data type. Invalid items will be replaced with NaN upon saving."}):null})]}):null]}),Object(P.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px"},children:[Object(P.jsx)(w.a,{component:"validation-related",children:Object(P.jsx)(k.a,{style:{color:"#01579b"},component:"legend",children:"Validation Related:"})}),Object(P.jsxs)(N.a,{children:["array"===_?Object(P.jsx)(D.a,{control:Object(P.jsx)(F.a,{onChange:function(){return ye()},checked:le}),label:"Required. Checked means the field must be filled."}):null,"object"!==_&"array"!==_&"boolean"!==_?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(D.a,{control:Object(P.jsx)(F.a,{onChange:function(){return ye()},checked:le}),label:"Required. Checked means the field must be filled."}),Object(P.jsx)(j.a,{margin:"normal",onChange:function(e){return Oe(e,"defaultValue")},style:{marginTop:"10px"},defaultValue:h,variant:"outlined",fullWidth:!0,label:"Field Default Value",helperText:"Initial value of the field."})]}):null,"boolean"===_?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(j.a,{margin:"normal",onChange:function(e){return Oe(e,"defaultValue")},style:{marginTop:"20px"},defaultValue:void 0!==h?h:"",select:!0,fullWidth:!0,id:l,label:"Boolean Field Default Value",variant:"outlined",SelectProps:{native:!0},children:["","true","false"].map((function(e,t){return Object(P.jsx)("option",{value:e,children:e},t)}))})}):null]})]})]})})}),Object(P.jsxs)(v.a,{children:[Object(P.jsx)(O.a,{onClick:function(){return me()},color:"secondary",children:"Cancel"}),Object(P.jsx)(O.a,{onClick:function(){return ge()},color:"primary",autoFocus:!0,children:"Save"})]})]})})}),E=function(e,t){var n=JSON.parse(JSON.stringify(e)),a=t.split(".");a.pop(),a=a.join(".");var r=_(n,a);if(Array.isArray(r)){var l=t.split(".");return l=l.at(-1),r.splice(parseInt(l),1),i(32)(n,a,r),n}var c=t.split(".");return delete r[c=c.at(-1)],i(32)(n,a,r),n},J=Object(p.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),V=function(e){var t,i,a=e.dataInputItems,r=e.setDataInputItems,l=e.withinArray,c=e.path,d=e.pathSchema,s=e.field_required,u=e.field_index,p=e.edit,h=e.field_id,b=e.field_label,O=e.field_description,m=e.field_enumerate,y=e.defaultValue,v=Object(n.useState)(!1),S=Object(o.a)(v,2),I=S[0],C=S[1],_=Object(n.useContext)(A),T=_.updateParent,D=_.convertedSchema,w=_.handleDataInput,k=_.handleDataDelete,F=J();void 0===s?t=!1:s.includes(h)&&(t=!0),i=void 0!==m;var N={fieldId:h,title:b,description:O,type:"string"},R=function(){var e=E(D,c);T(e),k(d)},L=function(e,t,i){if(void 0!==l&l){var n=t.split(".");n.pop(),n=n.join(".");var c=a,d=Array.from(c);d[u][h]=e.target.value,r(d),w({target:{value:d}},n,"string")}else w(e,t,i)};return Object(n.useEffect)((function(){if(void 0!==m&void 0!==l&!0===l){var e=d.split(".");e.pop(),e=e.join(".");var t=a,i=Array.from(t);i[u][h]=m[0],r(i),w({target:{value:i}},e,"string")}}),[]),void 0===m?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(P.jsx)(j.a,{onBlur:function(e){return L(e,d,"string")},required:t,helperText:O,defaultValue:y,fullWidth:!0,className:F.heading,id:h,label:b,variant:"outlined"}),p?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(g.a,{onClick:function(){return C(!0)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(f.a,{fontSize:"small",color:"primary"})}),Object(P.jsx)(g.a,{onClick:function(){return R()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(x.a,{fontSize:"small",color:"secondary"})})]}):null]}),I?Object(P.jsx)(B,{pathSchema:d,defaultValue:y,enumerated:i,field_enumerate:m,field_id:h,field_index:u,openDialog:I,setOpenDialog:C,path:c,UISchema:N,field_required:t}):null]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(P.jsx)(j.a,{onBlur:function(e){return L(e,d,"string")},required:t,select:!0,fullWidth:!0,className:F.heading,id:h,label:b,variant:"outlined",SelectProps:{native:!0},helperText:O,defaultValue:y,children:m.map((function(e,t){return Object(P.jsx)("option",{value:e,children:e},t)}))}),p?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(g.a,{onClick:function(){return C(!0)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(f.a,{fontSize:"small",color:"primary"})}),Object(P.jsx)(g.a,{onClick:function(){return R()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(x.a,{fontSize:"small",color:"secondary"})})]}):null]}),I?Object(P.jsx)(B,{pathSchema:d,enumerated:i,defaultValue:y,field_enumerate:m,field_id:h,field_index:u,openDialog:I,setOpenDialog:C,path:c,UISchema:N,field_required:t}):null]})},z=i(324),U=function(e){if(void 0===e)return"";var t=e.match(/[^[\]]+(?=])/g);return null===t?"":t},H=Object(p.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),M=function(e){var t,i,a=e.dataInputItems,r=e.setDataInputItems,l=e.withinArray,c=e.path,d=e.pathSchema,s=e.defaultValue,u=e.field_required,p=e.field_index,h=e.edit,b=e.field_id,O=e.field_label,m=e.field_description,y=e.field_enumerate,v=Object(n.useState)(!1),S=Object(o.a)(v,2),I=S[0],C=S[1],_=Object(n.useContext)(A),T=_.updateParent,D=_.convertedSchema,w=_.handleDataInput,k=_.handleDataDelete,F=Object(n.useState)(void 0===s?"":s),N=Object(o.a)(F,2),R=N[0],L=N[1],W=H(),q=U(O);void 0===u?t=!1:u.includes(b)&&(t=!0),i=void 0!==y;var J={fieldId:b,title:O,description:m,type:"number"},V=function(){var e=E(D,c);T(e),k(d)},M=function(e){var t;if((t=(t=void 0===R?"":R).toString()).split(".").length-1>1&"."===e.target.value.at(-1)){L(t.replace(/ /g,""))}else{var i=e.target.value.replace(/(?!^-)[^0-9.]/g,"").replace(/(\..*)\./g,"$1");L(i.replace(/ /g,""))}},$=function(){if(void 0!==l&l){var e=R;if(e=parseFloat(e),!isNaN(e)){L(e);var t=d.split(".");t.pop(),t=t.join(".");var i=a,n=Array.from(i);n[p][b]=e,r(n),w(n,t,"number")}}else{var c=R;c=parseFloat(c),isNaN(c)||(L(c),w(parseFloat(R),d,"number"))}};return void 0===y?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(P.jsx)(j.a,{onBlur:function(){return $()},onChange:function(e){return M(e)},value:void 0===R?s:R,required:t,helperText:m,fullWidth:!0,className:W.heading,id:b,label:O,variant:"outlined",InputProps:{endAdornment:Object(P.jsx)(z.a,{position:"start",children:q})}}),h?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(g.a,{onClick:function(){return C(!0)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(f.a,{fontSize:"small",color:"primary"})}),Object(P.jsx)(g.a,{onClick:function(){return V()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(x.a,{fontSize:"small",color:"secondary"})})]}):null]}),I?Object(P.jsx)(B,{pathSchema:d,field_enumerate:y,enumerated:i,defaultValue:s,field_id:b,field_index:p,openDialog:I,setOpenDialog:C,path:c,UISchema:J,field_required:t}):null]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(P.jsx)(j.a,{select:!0,onBlur:function(){return $()},onChange:function(e){return M(e)},value:void 0===R?s:R,required:t,helperText:m,fullWidth:!0,className:W.heading,id:b,label:O,variant:"outlined",InputProps:{endAdornment:Object(P.jsx)(z.a,{position:"start",children:q})},SelectProps:{native:!0},children:y.map((function(e,t){return Object(P.jsx)("option",{value:e,children:e},t)}))}),h?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(g.a,{onClick:function(){return C(!0)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(f.a,{fontSize:"small",color:"primary"})}),Object(P.jsx)(g.a,{onClick:function(){return V()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(x.a,{fontSize:"small",color:"secondary"})})]}):null]}),I?Object(P.jsx)(B,{pathSchema:d,field_enumerate:y,enumerated:i,defaultValue:s,field_id:b,field_index:p,openDialog:I,setOpenDialog:C,path:c,UISchema:J,field_required:t}):null]})},$=i(107),G=i(333),Y=i(325),K=i(326),X=i(47),Q=i.n(X),Z=i(46),ee=i.n(Z),te=i(28),ie=i(62),ne=i.n(ie),ae=function(e){var t=e.enumerated,a=e.field_enumerate,r=e.field_required,l=e.defaultSchema,c=e.path,d=e.openDialog,s=e.setOpenDialog,u=e.UISchema,p=e.schemaTitle,h=Object(n.useState)("string"),f=Object(o.a)(h,2),b=f[0],x=f[1],N=Object(n.useState)(void 0),R=Object(o.a)(N,2),W=R[0],B=R[1],E=Object(n.useState)(void 0),J=Object(o.a)(E,2),V=J[0],z=J[1],U=Object(n.useState)(void 0),H=Object(o.a)(U,2),M=H[0],$=H[1],G=Object(n.useContext)(A),Y=G.updateParent,K=G.convertedSchema,X=Object(n.useState)(void 0!==r&&r),Q=Object(o.a)(X,2),Z=Q[0],te=(Q[1],Object(n.useState)(void 0!==t&&t)),ie=Object(o.a)(te,2),ne=ie[0],ae=ie[1],re=Object(n.useState)(void 0===a?[]:a.join(",")),le=Object(o.a)(re,2),ce=le[0],de=le[1],oe=JSON.parse(JSON.stringify(l)),se=function(e,t){switch(t){case"type":return x(e.target.value);case"title":return z(e.target.value);case"description":return $(e.target.value);case"fieldId":return B(e.target.value);default:return null}},ue=function(){oe=JSON.parse(JSON.stringify(l)),s(!1),de(a),x("string")};return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(y.a,{open:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(P.jsx)(C.a,{id:"alert-dialog-title",children:Object(P.jsxs)("div",{style:{display:"inline-flex",width:"100%",verticalAlign:"middle"},children:[Object(P.jsx)(ee.a,{fontSize:"large",color:"primary",style:{alignSelf:"center"}}),Object(P.jsxs)("div",{style:{width:"100%",alignSelf:"center"},children:['Add Element in "',void 0!==u?u.title:p,'"']}),Object(P.jsx)(g.a,{onClick:function(){return ue()},children:Object(P.jsx)(q.a,{fontSize:"large",color:"secondary"})})]})}),Object(P.jsx)(m.a,{}),Object(P.jsx)(S.a,{children:Object(P.jsx)(I.a,{id:"alert-dialog-description",component:"span",children:Object(P.jsx)("div",{children:Object(P.jsxs)(w.a,{component:"widget-type",children:[Object(P.jsx)(k.a,{style:{color:"#01579b"},component:"legend",children:"Basic Descriptors:"}),Object(P.jsx)(j.a,{inputProps:{maxLength:12},required:!0,onBlur:function(e){return function(e){B(e.target.value),oe.fieldId=e.target.value}(e)},onChange:function(e){return se(e,"fieldId")},style:{marginTop:"20px"},defaultValue:oe.fieldId,variant:"outlined",fullWidth:!0,label:"Field ID or Key"}),Object(P.jsx)(j.a,{onChange:function(e){return se(e,"title")},style:{marginTop:"10px"},defaultValue:oe.title,variant:"outlined",fullWidth:!0,label:"Field Title"}),Object(P.jsx)(j.a,{onChange:function(e){return se(e,"description")},style:{marginTop:"10px"},defaultValue:oe.description,variant:"outlined",fullWidth:!0,label:"Field Description",multiline:!0,rows:3}),Object(P.jsx)(j.a,{onChange:function(e){return se(e,"type")},style:{marginTop:"10px"},defaultValue:b,select:!0,fullWidth:!0,label:"Field Data Type",variant:"outlined",SelectProps:{native:!0},children:["string","number","integer","object","array","boolean"].map((function(e,t){return Object(P.jsx)("option",{value:e,children:e},t)}))}),"string"===b?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(D.a,{control:Object(P.jsx)(F.a,{onChange:function(){ae((function(e){return!e}))},checked:ne}),label:"Enumerated"}),Object(P.jsx)("div",{style:{marginTop:"10px",marginBottom:"10px"},children:ne?Object(P.jsx)(j.a,{defaultValue:void 0!==ce?ce:"",onChange:function(e){de(e.target.value)},variant:"outlined",fullWidth:!0,label:"Enumerate List",multiline:!0,rows:4}):null})]}):null]})})})}),Object(P.jsxs)(v.a,{children:[Object(P.jsx)(O.a,{onClick:function(){return ue()},color:"secondary",children:"Cancel"}),Object(P.jsx)(O.a,{onClick:function(){return function(){if(T(K,c,W))alert("Field ID already exists!");else if(oe.fieldId=W,oe.type=b,void 0!==V&&(oe.title=V),void 0!==M&&(oe.description=M),void 0!==W)if("string"===typeof W&""===W.replace(/\s+/g,""))alert("Field ID must be defined!");else if("object"===oe.type&&(oe.properties=[]),"array"===oe.type&&(oe.items={}),"string"!==oe.type&&ae(!1),void 0!==c){var e=i(32),t=_(K,c).properties;t.push(oe),e(K,c+".properties",t),c=c+".properties."+(t.length-1).toString();var n=L({selectedType:b,path:c,requiredChecked:Z,field_id:W,convertedSchema:K});if("string"===oe.type&ne){var a=ce;Array.isArray(a)?e(n,c+".enumerate",a):(a=a.replace(/\s*,\s*/g,","),e(n,c+".enumerate",a.split(",")))}Y(n),s(!1)}else{var r=i(32),l=K.properties;l.push(oe),K.properties=l,c="properties."+(l.length-1).toString();var d=L({selectedType:b,path:c,requiredChecked:Z,field_id:W,convertedSchema:K});if("string"===oe.type&ne){var o=ce;Array.isArray(o)?r(d,c+".enumerate",o):(o=o.replace(/\s*,\s*/g,","),r(d,c+".enumerate",o.split(",")))}Y(d),s(!1)}else alert("Field ID must be defined!")}()},color:"primary",autoFocus:!0,children:"ADD"})]})]})})},re=Object(p.a)((function(e){return{root:{width:"100%"},heading:{color:"rgba(82, 94, 103, 1)",fontSize:e.typography.pxToRem(25),fontWeight:e.typography.fontWeightRegular}}})),le=function(e){var t=e.path,a=e.pathSchema,r=e.field_required,l=e.field_id,c=e.field_index,s=e.edit,u=e.field_label,p=e.field_description,j=e.field_properties,h=Object(n.useState)(!1),b=Object(o.a)(h,2),g=b[0],y=b[1],v=Object(n.useState)(!1),S=Object(o.a)(v,2),I=S[0],C=S[1],_=Object(n.useState)(!0),T=Object(o.a)(_,2),D=T[0],w=T[1],k=Object(n.useContext)(A),F=k.updateParent,N=k.convertedSchema,R=k.handleDataDelete,L={fieldId:l,title:u,description:p,properties:j,type:"object"},W=re();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{style:{width:"100%",padding:"10px 0px 10px 0px"},children:Object(P.jsxs)(G.a,{expanded:D,children:[Object(P.jsx)(Y.a,{expandIcon:Object(P.jsx)(Q.a,{}),style:{height:"auto"},IconButtonProps:{onClick:function(){w(!D)}},"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(P.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(P.jsxs)("div",{style:{width:"100%"},children:[Object(P.jsx)($.a,{className:W.heading,children:u}),D?Object(P.jsx)("div",{style:{color:"gray"},children:p}):null]}),Object(P.jsx)("div",{}),s?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(O.a,{onClick:function(){return y(!0)},style:{marginLeft:"5px"},children:Object(P.jsx)(f.a,{color:"primary"})}),Object(P.jsx)(O.a,{onClick:function(){return function(){var e=E(N,t);F(e),R(a)}()},style:{marginLeft:"5px"},children:Object(P.jsx)(x.a,{color:"secondary"})})]}):null]})}),Object(P.jsx)(m.a,{}),Object(P.jsx)(K.a,{children:Object(P.jsx)(te.a,{onDragEnd:function(e){if(e.destination){var n=Array.from(j),a=n.splice(e.source.index,1),r=Object(o.a)(a,1)[0];n.splice(e.destination.index,0,r);var l=i(32),c=Object(d.a)({},N);l(N,t+".properties",n),F(c)}},children:Object(P.jsx)(te.c,{droppableId:"subforms",children:function(e){return Object(P.jsxs)("div",Object(d.a)(Object(d.a)({style:{width:"100%"}},e.droppableProps),{},{ref:e.innerRef,children:[Object.keys(j).map((function(e,i){return Object(P.jsx)(te.b,{isDragDisabled:!s,draggableId:j[e].fieldId,index:i,children:function(i){return Object(P.jsx)("div",Object(d.a)(Object(d.a)({},i.draggableProps),{},{ref:i.innerRef,children:Object(P.jsxs)("div",{style:{display:"flex"},children:[s?Object(P.jsx)("div",Object(d.a)(Object(d.a)({style:{width:"20px",marginTop:"10px",height:"30px"}},i.dragHandleProps),{},{children:Object(P.jsx)(ne.a,{fontSize:"small"})})):null,Object(P.jsx)(Te,{path:t+".properties",pathSchema:a,fieldId:j[e].fieldId,fieldIndex:e,elementRequired:r,edit:s,field:j[e]})]})}))}},j[e].fieldId)})),e.placeholder,s?Object(P.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:Object(P.jsxs)(O.a,{onClick:function(){return C(!0)},style:{marginLeft:"5px"},children:[Object(P.jsx)(ee.a,{color:"primary"})," ADD ELEMENT"]})}):null]}))}})})})]})}),g?Object(P.jsx)(B,{pathSchema:a,field_id:l,field_index:c,openDialog:g,setOpenDialog:y,path:t,UISchema:L}):null,I?Object(P.jsx)(ae,{openDialog:I,setOpenDialog:C,path:t,defaultSchema:{},UISchema:L}):null]})},ce=Object(p.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),de=function(e){var t,i,a=e.dataInputItems,r=e.setDataInputItems,l=e.withinArray,c=e.defaultValue,d=e.path,s=e.pathSchema,u=e.field_required,p=e.field_index,h=e.edit,b=e.field_id,O=e.field_label,m=e.field_description,y=e.field_enumerate,v=Object(n.useState)(!1),S=Object(o.a)(v,2),I=S[0],C=S[1],_=Object(n.useContext)(A),T=_.updateParent,D=_.convertedSchema,w=_.handleDataInput,k=_.handleDataDelete,F=Object(n.useState)(void 0===c?"":c),N=Object(o.a)(F,2),R=N[0],L=N[1],W=ce(),q=U(O);void 0===u?t=!1:u.includes(b)&&(t=!0),i=void 0!==y;var J={fieldId:b,title:O,description:m,type:"integer"},V=function(){var e=E(D,d);T(e),k(s)},H=function(e){var t;if(t=(t=void 0===R?"":R).toString(),"."!==e.target.value)if("."===e.target.value.at(-1)){L(t.replace(/ /g,""))}else{var i=e.target.value.replace(/(?!^-)[^0-9]/g,"");L(i.replace(/ /g,""))}},M=function(){if(void 0!==l&l){var e=R;if(e=parseInt(e),!isNaN(e)){L(e);var t=s.split(".");t.pop(),t=t.join(".");var i=a,n=Array.from(i);n[p][b]=e,r(n),w(n,t,"integer")}}else{var c=R;c=parseInt(c),isNaN(c)||(L(c),w(parseInt(R),s,"integer"))}};return void 0===y?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(P.jsx)(j.a,{onBlur:function(){return M()},onChange:function(e){return H(e)},value:void 0===R?c:R,required:t,helperText:m,fullWidth:!0,className:W.heading,id:b,label:O,variant:"outlined",InputProps:{endAdornment:Object(P.jsx)(z.a,{position:"start",children:q})}}),h?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(g.a,{onClick:function(){return C(!0)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(f.a,{fontSize:"small",color:"primary"})}),Object(P.jsx)(g.a,{onClick:function(){return V()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(x.a,{fontSize:"small",color:"secondary"})})]}):null]}),I?Object(P.jsx)(B,{pathSchema:s,field_enumerate:y,enumerated:i,defaultValue:c,field_id:b,field_index:p,openDialog:I,setOpenDialog:C,path:d,UISchema:J,field_required:t}):null]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(P.jsx)(j.a,{select:!0,onBlur:function(){return M()},onChange:function(e){return H(e)},value:void 0===R?c:R,required:t,helperText:m,fullWidth:!0,className:W.heading,id:b,label:O,variant:"outlined",InputProps:{endAdornment:Object(P.jsx)(z.a,{position:"start",children:q})},SelectProps:{native:!0},children:y.map((function(e,t){return Object(P.jsx)("option",{value:e,children:e},t)}))}),h?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(g.a,{onClick:function(){return C(!0)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(f.a,{fontSize:"small",color:"primary"})}),Object(P.jsx)(g.a,{onClick:function(){return V()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(x.a,{fontSize:"small",color:"secondary"})})]}):null]}),I?Object(P.jsx)(B,{pathSchema:s,field_enumerate:y,enumerated:i,defaultValue:c,field_id:b,field_index:p,openDialog:I,setOpenDialog:C,path:d,UISchema:J,field_required:t}):null]})},oe=i(321),se=Object(p.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),ue=function(e){var t,i=e.path,a=e.pathSchema,r=e.field_required,l=e.field_index,c=e.edit,d=e.field_id,s=e.field_label,u=e.field_description,p=e.defaultValue,j=Object(n.useState)(!1),h=Object(o.a)(j,2),b=h[0],O=h[1],m=Object(n.useContext)(A),y=m.updateParent,v=m.convertedSchema,S=m.handleDataInput,I=m.handleDataDelete,C=Object(n.useState)("boolean"===typeof p&&p),_=Object(o.a)(C,2),T=_[0],D=_[1];se();void 0===r?t=!1:r.includes(d)&&(t=!0);var N={fieldId:d,title:s,description:u,type:"boolean"};return Object(n.useEffect)((function(){void 0===p&&S(!1,a,"boolean")}),[]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",alignItems:"center",width:"100%"},children:[Object(P.jsx)("div",{style:{paddingLeft:"15px",width:"100%"},children:Object(P.jsxs)(w.a,{children:[Object(P.jsx)(k.a,{children:void 0===s?"":s+":"}),Object(P.jsx)("div",{style:{textAlign:"center",width:"100%"},children:Object(P.jsx)(F.a,{onChange:function(){return function(){var e=T;D(!e),S(!e,a,"boolean")}()},checked:T})}),Object(P.jsx)(oe.a,{children:u})]})}),c?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(g.a,{onClick:function(){return O(!0)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(f.a,{fontSize:"small",color:"primary"})}),Object(P.jsx)(g.a,{onClick:function(){return function(){var e=E(v,i);y(e),I(a)}()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(x.a,{fontSize:"small",color:"secondary"})})]}):null]}),b?Object(P.jsx)(B,{pathSchema:a,defaultValue:p,field_id:d,field_index:l,openDialog:b,setOpenDialog:O,path:i,UISchema:N,field_required:t}):null]})},pe=Object(p.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),je=function(e){var t=e.pathSchema,i=e.dataInputItems,a=e.setDataInputItems,r=e.edit,l=e.index,c=e.field_id,d=e.handleDeleteArrayItem,s=pe(),u=Object(n.useState)(""),p=Object(o.a)(u,2),h=p[0],f=p[1],b=Object(n.useContext)(A).handleDataInput;return Object(P.jsxs)(P.Fragment,{children:[void 0!==l?Object(P.jsx)("div",{style:{padding:"5px"},children:Object(P.jsxs)($.a,{className:s.heading,children:[l+1,"."]})}):null,Object(P.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(P.jsx)(j.a,{onBlur:function(){return function(){var e=h;if(e=parseInt(e),!isNaN(e)){f(e);var n=i,r=Array.from(n);r[l]=e,a(r),b(r,t,"array")}}()},onChange:function(e){return function(e){var t=h;if(t=t.toString(),"."!==e.target.value)if("."===e.target.value.at(-1))f(t.replace(/ /g,""));else{var i=e.target.value.replace(/(?!^-)[^0-9]/g,"");f(i.replace(/ /g,""))}}(e)},value:h,fullWidth:!0,className:s.heading,id:c,variant:"outlined"}),r?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(g.a,{onClick:function(){return d(l)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(x.a,{fontSize:"small",color:"secondary"})})}):null]})]})},he=Object(p.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),fe=function(e){var t=e.pathSchema,i=e.dataInputItems,a=e.setDataInputItems,r=(e.path,e.field_type,e.edit),l=e.index,c=e.field_id,d=e.handleDeleteArrayItem,s=he(),u=Object(n.useState)(""),p=Object(o.a)(u,2),h=p[0],f=p[1],b=Object(n.useContext)(A).handleDataInput;return Object(P.jsxs)(P.Fragment,{children:[void 0!==l?Object(P.jsx)("div",{style:{padding:"5px"},children:Object(P.jsxs)($.a,{className:s.heading,children:[l+1,"."]})}):null,Object(P.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(P.jsx)(j.a,{onBlur:function(){return function(){var e=h;if(e=parseFloat(e),!isNaN(e)){f(e);var n=i,r=Array.from(n);r[l]=e,a(r),b(r,t,"array")}}()},onChange:function(e){return function(e){var t=h;if((t=t.toString()).split(".").length-1>1&"."===e.target.value.at(-1))f(t.replace(/ /g,""));else{var i=e.target.value.replace(/(?!^-)[^0-9.]/g,"").replace(/(\..*)\./g,"$1");f(i.replace(/ /g,""))}}(e)},value:h,fullWidth:!0,className:s.heading,id:c,variant:"outlined"}),r?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(g.a,{onClick:function(){return d(l)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(x.a,{fontSize:"small",color:"secondary"})})}):null]})]})},be=Object(p.a)((function(e){return{root:{width:"auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),xe=function(e){var t=e.pathSchema,i=e.dataInputItems,a=e.setDataInputItems,r=(e.path,e.field_type,e.edit),l=e.index,c=e.field_id,d=e.handleDeleteArrayItem,o=be(),s=Object(n.useContext)(A).handleDataInput;return Object(P.jsxs)(P.Fragment,{children:[void 0!==l?Object(P.jsx)("div",{style:{padding:"5px"},children:Object(P.jsxs)($.a,{className:o.heading,children:[l+1,"."]})}):null,Object(P.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(P.jsx)(j.a,{onBlur:function(e){return function(e,n){var r=i,l=Array.from(r);l[n]=e.target.value,a(l),s(l,t,"array")}(e,l)},id:c,fullWidth:!0,className:o.heading,variant:"outlined"}),r?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(g.a,{onClick:function(){return d(l)},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(x.a,{fontSize:"small",color:"secondary"})})}):null]})]})},ge=Object(p.a)((function(e){return{root:{width:"100%"},heading:{color:"rgba(82, 94, 103, 1)",fontSize:e.typography.pxToRem(25),fontWeight:e.typography.fontWeightRegular}}})),Oe=function(e){var t=e.dataInputItems,i=e.setDataInputItems,a=e.field_label,r=e.pathSchema,l=e.field_required,c=e.field_items,d=(e.field_type,e.edit),s=e.index,u=(e.field_id,e.handleDeleteArrayItem),p=Object(n.useState)(!0),j=Object(o.a)(p,2),h=j[0],f=j[1],b=Object(n.useContext)(A),g=(b.updateParent,b.convertedSchema,s),y=c.properties;ge();return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{style:{width:"100%",padding:"10px 0px 10px 0px"},children:Object(P.jsxs)(G.a,{expanded:h,children:[Object(P.jsx)(Y.a,{expandIcon:Object(P.jsx)(Q.a,{}),style:{height:"auto"},IconButtonProps:{onClick:function(){f(!h)}},"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(P.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(P.jsx)("div",{style:{width:"100%",justifySelf:"center"},children:a+" #"+parseInt(s+1)}),d?Object(P.jsx)(O.a,{onClick:function(){return u(s)},style:{marginLeft:"5px"},children:Object(P.jsx)(x.a,{color:"secondary"})}):null]})}),Object(P.jsx)(m.a,{}),Object(P.jsx)(K.a,{children:Object(P.jsx)("div",{style:{width:"100%"},children:Object.keys(y).map((function(e,n){var a=JSON.parse(JSON.stringify(y[e]));return a.enum&&(a.enumerate=a.enum),Object(P.jsx)("div",{style:{display:"flex"},children:Object(P.jsx)(Te,{pathSchema:r,withinArray:true,dataInputItems:t,setDataInputItems:i,fieldId:e,fieldIndex:g,elementRequired:l,edit:!1,field:a})},e)}))})})]})})})},me=function(e){var t=e.pathSchema,i=e.dataInputItems,n=e.setDataInputItems,a=e.field_label,r=e.field_items,l=e.path,c=e.type,d=e.edit,o=e.fieldIndex,s=e.fieldId,u=(e.enumerate,e.handleDeleteArrayItem);e.properties;switch(c){case"string":return Object(P.jsx)(xe,{setDataInputItems:n,pathSchema:t,dataInputItems:i,path:l+"."+o,index:o,field_id:s,handleDeleteArrayItem:u,edit:d,field_type:c});case"number":return Object(P.jsx)(fe,{path:l+"."+o,pathSchema:t,setDataInputItems:n,dataInputItems:i,index:o,field_id:s,handleDeleteArrayItem:u,edit:d,field_type:c});case"integer":return Object(P.jsx)(je,{path:l+"."+o,pathSchema:t,setDataInputItems:n,dataInputItems:i,index:o,field_id:s,handleDeleteArrayItem:u,edit:d,field_type:c});case"object":return Object(P.jsx)(Oe,{setDataInputItems:n,dataInputItems:i,field_label:a,pathSchema:t,path:l+"."+o,index:o,field_id:s,handleDeleteArrayItem:u,edit:d,field_type:c,field_items:r});default:return null}},ye=function(){var e=46656*Math.random()|0,t=46656*Math.random()|0;return(e=("000"+e.toString(36)).slice(-3))+(t=("000"+t.toString(36)).slice(-3))},ve=Object(p.a)((function(e){return{root:{width:"100%"},heading:{color:"rgba(82, 94, 103, 1)",fontSize:e.typography.pxToRem(25),fontWeight:e.typography.fontWeightRegular}}})),Se=function(e){var t,i=e.pathSchema,a=e.path,r=e.field_required,l=e.field_id,c=e.field_index,s=e.edit,u=e.field_label,p=e.field_description,j=e.field_items,h=e.field_prefixItems,b=Object(n.useState)(!1),y=Object(o.a)(b,2),v=y[0],S=y[1],I=Object(n.useState)(!0),C=Object(o.a)(I,2),_=C[0],T=C[1],D=Object(n.useContext)(A),w=D.updateParent,k=D.convertedSchema,F=D.handleDataInput,N=D.handleDataDelete,R=Object(n.useState)([]),L=Object(o.a)(R,2),W=L[0],q=L[1],J=Object(n.useState)([]),V=Object(o.a)(J,2),z=V[0],U=V[1],H=Object(n.useState)(),M=Object(o.a)(H,2);M[0],M[1];void 0===r?t=!1:r.includes(l)&&(t=!0);var X=ve(),Z={fieldId:l,title:u,description:p,items:j,type:"array"},ie=function(e){var t=W,n=Array.from(t);n.splice(e,1),q(n);var a=z,r=Array.from(a);r.splice(e,1),U(r),F(r,i,"array")};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{style:{width:"100%",padding:"10px 0px 10px 0px"},children:Object(P.jsxs)(G.a,{expanded:_,children:[Object(P.jsx)(Y.a,{expandIcon:Object(P.jsx)(Q.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",IconButtonProps:{onClick:function(){T(!_)}},children:Object(P.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(P.jsxs)("div",{style:{width:"100%"},children:[Object(P.jsx)($.a,{className:X.heading,children:u+(t?"*":"")}),_?Object(P.jsx)("div",{style:{color:"gray"},children:p}):null]}),Object(P.jsx)("div",{}),s?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(O.a,{onClick:function(){return S(!0)},style:{marginLeft:"5px"},children:Object(P.jsx)(f.a,{color:"primary"})}),Object(P.jsx)(O.a,{onClick:function(){return function(){var e=E(k,a);w(e),N(i)}()},style:{marginLeft:"5px"},children:Object(P.jsx)(x.a,{color:"secondary"})})]}):null]})}),Object(P.jsx)(m.a,{}),Object(P.jsx)(K.a,{children:Object(P.jsx)(te.a,{onDragEnd:function(e){if(e.destination){var t=W,n=Array.from(t),a=n.splice(e.source.index,1),r=Object(o.a)(a,1)[0];n.splice(e.destination.index,0,r),q(n);var l=z,c=Array.from(l),d=c.splice(e.source.index,1),s=Object(o.a)(d,1)[0];c.splice(e.destination.index,0,s),U(c),F(c,i,"array")}},children:Object(P.jsx)(te.c,{droppableId:"subforms",children:function(e){return Object(P.jsxs)("div",Object(d.a)(Object(d.a)({style:{width:"100%"}},e.droppableProps),{},{ref:e.innerRef,children:[Object.keys(W).map((function(e,t){return Object(P.jsx)(te.b,{isDragDisabled:!1,draggableId:W[t].field_id,index:t,children:function(e){return Object(P.jsx)("div",Object(d.a)(Object(d.a)({},e.draggableProps),{},{ref:e.innerRef,children:Object(P.jsxs)("div",{style:{display:"flex"},children:[Object(P.jsx)("div",Object(d.a)(Object(d.a)({style:{width:"20px",marginTop:"10px",height:"30px"}},e.dragHandleProps),{},{children:Object(P.jsx)(ne.a,{fontSize:"small"})})),Object(P.jsx)(me,{pathSchema:i,dataInputItems:z,setDataInputItems:U,field_label:u,field_items:j,edit:!0,handleDeleteArrayItem:ie,path:a+".properties",fieldIndex:t,fieldId:W[t].field_id,type:W[t].type})]})}))}},W[t].field_id)})),e.placeholder,Object(P.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:Object(P.jsx)(g.a,{onClick:function(){!function(){if(void 0===h&void 0!==j)if(0===Object.keys(j).length){j={type:"string",field_id:"".concat(ye())};var e=W,t=Array.from(e);t.push(j),q(t);var i=z,n=Array.from(i);n.push(""),U(n)}else{var a=JSON.parse(JSON.stringify(j));a.field_id=ye();var r=W,l=Array.from(r);if(l.push(a),q(l),["string","number","integer","boolean"].includes(a.type)){var c=z,d=Array.from(c);d.push(""),U(d)}else if("object"===a.type){var o=z,s=Array.from(o);s.push({}),U(s)}}}()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(ee.a,{fontSize:"small",color:"primary"})})})]}))}})})})]})}),v?Object(P.jsx)(B,{pathSchema:i,field_id:l,field_index:c,openDialog:v,setOpenDialog:S,path:a,UISchema:Z,field_required:t}):null]})},Ie=i(154),Ce=Object(p.a)((function(e){return{root:{width:"100%"},heading:{color:"rgba(82, 94, 103, 1)",fontSize:e.typography.pxToRem(25),fontWeight:e.typography.fontWeightRegular}}})),_e=function(e){var t,i=e.pathSchema,a=e.path,r=e.field_required,l=e.field_id,c=e.field_index,s=e.edit,u=e.field_label,p=e.field_description,h=e.field_prefixItems,b=e.anyOf_list,y=Object(n.useState)(!1),v=Object(o.a)(y,2),S=v[0],I=v[1],C=Object(n.useState)(!0),_=Object(o.a)(C,2),T=_[0],D=_[1],w=Object(n.useContext)(A),k=w.updateParent,F=w.convertedSchema,N=w.handleDataInput,R=w.handleDataDelete,L=Object(n.useState)(Array.isArray(b)&"array"===b[0].type?b[0].items:b[0]),W=Object(o.a)(L,2),q=W[0],J=W[1],V=Object(n.useState)(0),z=Object(o.a)(V,2),U=z[0],H=z[1],M=Object(n.useState)([]),X=Object(o.a)(M,2),Z=X[0],ie=X[1],ae=Object(n.useState)([]),re=Object(o.a)(ae,2),le=re[0],ce=re[1],de=Array(b.length).fill().map((function(e,t){return t}));void 0===r?t=!1:r.includes(l)&&(t=!0);var oe=Ce(),se={fieldId:l,title:u,description:p,items:q,type:"anyOf"},ue=function(e){var t=Z,n=Array.from(t);n.splice(e,1),ie(n);var a=le,r=Array.from(a);r.splice(e,1),ce(r),N(r,i,"array")};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{style:{width:"100%",padding:"10px 0px 10px 0px"},children:Object(P.jsxs)(G.a,{expanded:T,children:[Object(P.jsx)(Y.a,{expandIcon:Object(P.jsx)(Q.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",IconButtonProps:{onClick:function(){D(!T)}},children:Object(P.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(P.jsxs)("div",{style:{width:"100%"},children:[Object(P.jsx)($.a,{className:oe.heading,children:u+(t?"*":"")}),T?Object(P.jsx)("div",{style:{color:"gray"},children:p}):null]}),Object(P.jsx)("div",{}),s?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(O.a,{onClick:function(){return I(!0)},style:{marginLeft:"5px"},children:Object(P.jsx)(f.a,{color:"primary"})}),Object(P.jsx)(O.a,{onClick:function(){return function(){var e=E(F,a);k(e),R(i)}()},style:{marginLeft:"5px"},children:Object(P.jsx)(x.a,{color:"secondary"})})]}):null]})}),Object(P.jsx)(m.a,{}),Object(P.jsx)(j.a,{onChange:function(e){return function(e){ce([]),ie([]),R(i);var t=parseInt(e.target.value);H(t),"array"===b[t].type?J(b[t].items):J(b[t])}(e)},style:{width:"220px",marginLeft:"10px",marginTop:"20px"},fullWidth:!1,select:!0,id:"select-schema",label:"Choose a subschema",SelectProps:{native:!0},children:de.map((function(e,t){return Object(P.jsx)("option",{value:e,children:e},t)}))}),"array"===b[U].type?Object(P.jsx)(K.a,{children:Object(P.jsx)(te.a,{onDragEnd:function(e){if(e.destination){var t=Z,n=Array.from(t),a=n.splice(e.source.index,1),r=Object(o.a)(a,1)[0];n.splice(e.destination.index,0,r),ie(n);var l=le,c=Array.from(l),d=c.splice(e.source.index,1),s=Object(o.a)(d,1)[0];c.splice(e.destination.index,0,s),ce(c),N(c,i,"array")}},children:Object(P.jsx)(te.c,{droppableId:"subforms",children:function(e){return Object(P.jsxs)("div",Object(d.a)(Object(d.a)({style:{width:"100%"}},e.droppableProps),{},{ref:e.innerRef,children:[Object.keys(Z).map((function(e,t){return Object(P.jsx)(te.b,{draggableId:Z[t].field_id,index:t,children:function(e){return Object(P.jsx)("div",Object(d.a)(Object(d.a)({},e.draggableProps),{},{ref:e.innerRef,children:Object(P.jsxs)("div",{style:{display:"flex"},children:[Object(P.jsx)("div",Object(d.a)(Object(d.a)({style:{width:"20px",marginTop:"10px",height:"30px"}},e.dragHandleProps),{},{children:Object(P.jsx)(ne.a,{fontSize:"small"})})),Object(P.jsx)(me,{pathSchema:i,dataInputItems:le,setDataInputItems:ce,field_label:u,field_items:q,edit:!0,handleDeleteArrayItem:ue,path:a+".properties",fieldIndex:t,fieldId:Z[t].field_id,type:Z[t].type})]})}))}},Z[t].field_id)})),e.placeholder,Object(P.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:Object(P.jsx)(g.a,{onClick:function(){!function(){if(void 0===h&void 0!==q)if(0===Object.keys(q).length){"".concat(ye()),Object(Ie.a)("field_items");var e=Z,t=Array.from(e);t.push(q),ie(t);var i=le,n=Array.from(i);n.push(""),ce(n)}else{var a=JSON.parse(JSON.stringify(q));a.field_id=ye();var r=Z,l=Array.from(r);if(l.push(a),ie(l),["string","number","integer","boolean"].includes(a.type)){var c=le,d=Array.from(c);d.push(""),ce(d)}else if("object"===a.type){var o=le,s=Array.from(o);s.push({}),ce(s)}}}()},style:{marginLeft:"5px",marginTop:"5px",height:"45px"},children:Object(P.jsx)(ee.a,{fontSize:"small",color:"primary"})})})]}))}})})}):Object(P.jsx)("div",{style:{padding:"10px"},children:Object(P.jsx)(Te,{path:a,fieldId:l,fieldIndex:0,elementRequired:r,edit:!1,field:q})})]})}),S?Object(P.jsx)(B,{anyOf_list:b,pathSchema:i,field_id:l,field_index:c,openDialog:S,setOpenDialog:I,path:a,UISchema:se,field_required:t}):null]})},Te=function(e){var t=e.dataInputItems,i=e.setDataInputItems,n=e.withinArray,a=e.path,r=e.pathSchema,l=e.elementRequired,c=e.fieldId,d=e.fieldIndex,o=e.edit,s=e.field,u=s.type,p=s.title,j=s.description,h=s.properties,f=s.required,b=s.enumerate,x=s.items,g=s.defaultValue,O=s.anyOf;switch(u){case"string":return Object(P.jsx)(V,{withinArray:n,dataInputItems:t,setDataInputItems:i,path:a+"."+d,pathSchema:void 0!==r?r+"."+c:c,field_id:c,field_index:d,field_label:p,field_description:j,field_required:l,field_enumerate:b,defaultValue:g,edit:o});case"number":return Object(P.jsx)(M,{withinArray:n,dataInputItems:t,setDataInputItems:i,path:a+"."+d,pathSchema:void 0!==r?r+"."+c:c,field_id:c,field_index:d,field_label:p,field_description:j,field_required:l,field_enumerate:b,defaultValue:g,edit:o});case"integer":return Object(P.jsx)(de,{withinArray:n,dataInputItems:t,setDataInputItems:i,path:a+"."+d,pathSchema:void 0!==r?r+"."+c:c,field_id:c,field_index:d,field_label:p,field_description:j,field_required:l,field_enumerate:b,defaultValue:g,edit:o});case"boolean":return Object(P.jsx)(ue,{withinArray:n,path:a+"."+d,pathSchema:void 0!==r?r+"."+c:c,field_id:c,field_index:d,field_label:p,field_description:j,field_required:l,defaultValue:g,edit:o});case"array":return Object(P.jsx)(Se,{withinArray:n,path:a+"."+d,pathSchema:void 0!==r?r+"."+c:c,field_id:c,field_label:p,field_description:j,field_required:l,field_items:x,edit:o});case"object":return Object(P.jsx)(le,{withinArray:n,path:a+"."+d,pathSchema:void 0!==r?r+"."+c:c,field_id:c,field_label:p,field_description:j,field_required:f,field_properties:h,edit:o});case void 0:return O?Object(P.jsx)(_e,{pathSchema:void 0!==r?r+"."+c:c,withinArray:n,path:a+"."+d,field_id:c,field_label:p,field_description:j,field_required:l,anyOf_list:O,edit:o}):null;default:return null}},De=i(155),we=i.n(De),ke=function(e){var t=e.schemaID,i=e.title,a=e.description,r=e.schemaURI,l=e.openDialog,c=e.setOpenDialog,d=Object(n.useState)(t),s=Object(o.a)(d,2),u=s[0],p=s[1],h=Object(n.useState)(i),b=Object(o.a)(h,2),x=b[0],_=b[1],T=Object(n.useState)(a),D=Object(o.a)(T,2),F=D[0],N=D[1],R=Object(n.useState)(r),L=Object(o.a)(R,2),W=L[0],B=L[1],E=Object(n.useContext)(A),J=E.updateParent,V=E.convertedSchema,z=function(e,t){switch(t){case"title":return _(e.target.value);case"description":return N(e.target.value);case"id":return p(e.target.value);case"uri":return B(e.target.value);default:return null}},U=function(){N(a),p(t),B(r),_(i),c(!1)};return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(y.a,{open:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(P.jsx)(C.a,{id:"alert-dialog-title",children:Object(P.jsxs)("div",{style:{display:"inline-flex",width:"100%",verticalAlign:"middle"},children:[Object(P.jsx)(f.a,{fontSize:"large",color:"primary",style:{alignSelf:"center"}}),Object(P.jsxs)("div",{style:{width:"100%",alignSelf:"center"},children:['Edit schema "',i,'"']}),Object(P.jsx)(g.a,{onClick:function(){return U()},children:Object(P.jsx)(q.a,{fontSize:"large",color:"secondary"})})]})}),Object(P.jsx)(m.a,{}),Object(P.jsx)(S.a,{children:Object(P.jsx)(I.a,{id:"alert-dialog-description",component:"span",children:Object(P.jsx)("div",{children:Object(P.jsxs)(w.a,{component:"widget-type",children:[Object(P.jsx)(k.a,{style:{color:"#01579b"},component:"legend",children:"Basic Descriptors:"}),Object(P.jsx)(j.a,{disabled:!0,margin:"normal",onChange:function(e){return z(e,"uri")},style:{marginTop:"20px"},defaultValue:r,variant:"outlined",fullWidth:!0,label:"$schema"}),Object(P.jsx)(j.a,{margin:"normal",onChange:function(e){return z(e,"id")},style:{marginTop:"10px"},defaultValue:t,variant:"outlined",fullWidth:!0,label:"Schema ID"}),Object(P.jsx)(j.a,{margin:"normal",onChange:function(e){return z(e,"title")},style:{marginTop:"10px"},defaultValue:i,variant:"outlined",fullWidth:!0,label:"Schema Title"}),Object(P.jsx)(j.a,{margin:"normal",onChange:function(e){return z(e,"description")},style:{marginTop:"10px"},defaultValue:a,variant:"outlined",fullWidth:!0,label:"Schema Description",multiline:!0,rows:3})]})})})}),Object(P.jsxs)(v.a,{children:[Object(P.jsx)(O.a,{onClick:function(){return U()},color:"secondary",children:"Cancel"}),Object(P.jsx)(O.a,{onClick:function(){return void 0===W||""===W.replace(/\s+/g,"")?delete V.$schema:V.$schema=W,void 0===u||""===u.replace(/\s+/g,"")?delete V.id:V.id=u,void 0===x||""===x.replace(/\s+/g,"")?delete V.title:V.title=x,void 0===F||""===F.replace(/\s+/g,"")?delete V.description:V.description=F,J(V),void c(!1)},color:"primary",autoFocus:!0,children:"Save"})]})]})})},Ae=Object(p.a)((function(e){return{root:{width:"100%"},heading:{color:"rgba(82, 94, 103, 1)",fontSize:e.typography.pxToRem(25),fontWeight:e.typography.fontWeightRegular}}})),Fe=function(e){var t=e.revertAllChanges,i=e.schema,a=e.edit,r=Object(n.useContext)(A),l=r.updateParent,c=r.convertedSchema,s=Object(n.useState)(!1),u=Object(o.a)(s,2),p=u[0],j=u[1],h=Object(n.useState)(!1),b=Object(o.a)(h,2),x=b[0],g=b[1],y=Ae(),v=null!==i&&void 0!==i?i:{},S=v.properties,I=v.title,C=v.description,_=v.required,T=v.$schema,D=v.id;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{style:{width:"100%",paddingLeft:"10px",paddingRight:"10px"},children:[Object(P.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:[Object(P.jsx)($.a,{className:y.heading,style:{width:"100%"},children:I}),a?Object(P.jsxs)(P.Fragment,{children:[" ",Object(P.jsxs)(O.a,{onClick:function(){return g(!0)},style:{marginLeft:"5px"},children:[" ",Object(P.jsx)(f.a,{color:"primary"})]})," ",Object(P.jsxs)(O.a,{onClick:function(){return t()},style:{marginLeft:"5px"},children:[" ",Object(P.jsx)(we.a,{color:"primary"})]}),"  "]}):null]}),Object(P.jsx)(m.a,{}),Object(P.jsx)($.a,{children:C}),Object(P.jsx)(te.a,{onDragEnd:function(e){if(e.destination){var t=Array.from(S),i=t.splice(e.source.index,1),n=Object(o.a)(i,1)[0];t.splice(e.destination.index,0,n);var a=Object(d.a)({},c);a.properties=t,l(a)}},children:Object(P.jsx)(te.c,{droppableId:"forms",children:function(e){return Object(P.jsxs)("form",Object(d.a)(Object(d.a)({},e.droppableProps),{},{ref:e.innerRef,children:[Object.keys(S).map((function(e,t){return Object(P.jsx)(te.b,{isDragDisabled:!a,draggableId:S[e].fieldId,index:t,children:function(t){return Object(P.jsx)("div",Object(d.a)(Object(d.a)({},t.draggableProps),{},{ref:t.innerRef,children:Object(P.jsxs)("div",{style:{display:"flex"},children:[a?Object(P.jsx)("div",Object(d.a)(Object(d.a)({style:{width:"20px",marginTop:"10px",height:"30px"}},t.dragHandleProps),{},{children:Object(P.jsx)(ne.a,{fontSize:"small"})})):null,Object(P.jsx)(Te,{schema:i,path:"properties",fieldId:S[e].fieldId,fieldIndex:e,elementRequired:_,edit:a,field:S[e]})]})}))}},S[e].fieldId)})),e.placeholder,a?Object(P.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:Object(P.jsxs)(O.a,{onClick:function(){return j(!0)},style:{marginLeft:"5px"},children:[Object(P.jsx)(ee.a,{color:"primary"})," ADD ELEMENT"]})}):null]}))}})})]}),p?Object(P.jsx)(ae,{openDialog:p,setOpenDialog:j,defaultSchema:{},schemaTitle:I}):null,x?Object(P.jsx)(ke,{schemaID:D,title:I,description:C,schemaURI:T,openDialog:x,setOpenDialog:g}):null]})},Ne=Object(p.a)((function(e){return{root:{width:"100%"},heading:{color:"rgba(82, 94, 103, 1)",fontSize:e.typography.pxToRem(25),fontWeight:e.typography.fontWeightRegular}}})),Re=function(e){var t=e.jsonschema,i=Object(n.useState)(!1),a=Object(o.a)(i,2),r=a[0],l=a[1],c=Ne();return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{style:{width:"100%",padding:"10px 0px 10px 0px"},children:Object(P.jsxs)(G.a,{expanded:r,children:[Object(P.jsx)(Y.a,{expandIcon:Object(P.jsx)(Q.a,{}),IconButtonProps:{onClick:function(){l(!r)}},"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(P.jsx)("div",{style:{paddingTop:"10px",paddingBottom:"10px",display:"inline-flex",width:"100%"},children:Object(P.jsx)("div",{children:Object(P.jsx)($.a,{className:c.heading,children:"JSON Schema Viewer"})})})}),Object(P.jsx)(m.a,{}),Object(P.jsx)(K.a,{children:Object(P.jsx)("div",{children:Object(P.jsx)("pre",{style:{overflowX:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word"},children:JSON.stringify(t,null,2)})})})]})})})},Le=function e(t){var i={};return t.forEach((function(t){var n=t.fieldId;delete t.fieldId;var a=t;i[n]=a,Object.keys(a).forEach((function(t){if("enumerate"===t){var a=JSON.parse(JSON.stringify(i[n].enumerate));delete i[n].enumerate,i[n].enum=a}if("defaultValue"===t){var r=JSON.parse(JSON.stringify(i[n].defaultValue));delete i[n].defaultValue,i[n].default=r}"properties"===t&&(i[n].properties=e(i[n].properties))}))})),i},We=function e(t){var i=[];return Object.keys(t).forEach((function(n){var a,r={};a=t[n],r.fieldId=n,Object.keys(a).forEach((function(t){"enum"===t&&(r.enumerate=a[t]),"default"===t&&(r.defaultValue=a[t]),r[t]=a[t],"properties"===t&&(r[t]=e(a[t]))})),i.push(r)})),i},qe=i(160),Pe=i(334),Be=i(158),Ee=i.n(Be),Je=i(32),Ve=i.n(Je),ze=i(126),Ue=i.n(ze),He=function(e,t){var i=JSON.parse(JSON.stringify(e)),n=t.split(".");if(1===n.length)delete i[n[0]];else{var a=n.pop();n=n.join(".");var r=_(i,n);delete r[a],Ve()(i,n,r)}return i},Me=i(156),$e=i.n(Me),Ge=function(e,t){var i=new $e.a({allErrors:!0});void 0!==t.$schema&&(t=He(t,"$schema")),void 0!==t.id&&(t=He(t,"id"));var n=i.compile(t);return[n(e),n]},Ye=i(329),Ke=function(e){var t=e.getTagsELabFTW,i=e.eLabURL,n=e.setELabURL,a=e.setTags,r=(e.tags,e.setRetrievedTags),l=e.retrievedTags,c=e.setExperimentTitle,o=e.setToken,s=e.token,u=e.setOpenSubmitDialog,p=e.openSubmitDialog,h=e.createExperimentELabFTW,f=function(){u(!1),r([]),n(""),o(""),a([])};return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(y.a,{open:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(P.jsx)(C.a,{id:"alert-dialog-title",children:Object(P.jsxs)("div",{style:{display:"inline-flex",width:"100%",verticalAlign:"middle"},children:[Object(P.jsx)("div",{style:{width:"100%",alignSelf:"center"},children:"Create eLabFTW Experiment"}),Object(P.jsx)(g.a,{onClick:function(){return f()},children:Object(P.jsx)(q.a,{fontSize:"large",color:"secondary"})})]})}),Object(P.jsx)(m.a,{}),Object(P.jsx)(S.a,{children:Object(P.jsx)(I.a,{id:"alert-dialog-description",component:"span",children:Object(P.jsx)("div",{children:Object(P.jsxs)(w.a,{component:"widget-type",children:[Object(P.jsx)(k.a,{style:{color:"#01579b"},component:"legend",children:"eLabFTW"}),Object(P.jsx)(j.a,{required:!0,margin:"normal",onChange:function(e){return n(e.target.value)},style:{marginTop:"20px"},variant:"outlined",fullWidth:!0,label:"Your eLabFTW main URL"}),Object(P.jsx)(j.a,{required:!0,margin:"normal",onChange:function(e){return o(e.target.value)},style:{marginTop:"20px"},variant:"outlined",fullWidth:!0,label:"Your eLabFTW token"}),Object(P.jsx)(j.a,{margin:"normal",onBlur:function(e){return c(e.target.value)},style:{marginTop:"10px"},variant:"outlined",fullWidth:!0,label:"Experiment title"}),Object(P.jsxs)("div",{style:{display:"inline-flex",width:"100%"},children:[Object(P.jsx)(Ye.a,{style:{width:"100%"},disabled:0===l.length,multiple:!0,freeSolo:!0,options:l,getOptionLabel:function(e){return e.tag||e},onChange:function(e,t){a(t),console.log(t)},renderInput:function(e){return Object(P.jsx)(j.a,Object(d.a)(Object(d.a)({},e),{},{disabled:0===l.length,variant:"outlined",label:"Tags",margin:"normal",style:{marginTop:"10px"},helperText:'Press the "GET TAGS" button to retrieve available tags from your eLabFTW system.Note: you have to provide the eLabFTW main URL and token to enable the button.'}))}}),Object(P.jsx)(O.a,{onClick:function(){return t()},disabled:!!(""===s.trim()|""===i.trim()|void 0===s|void 0===i),style:{marginLeft:"5px",height:"55px",marginTop:"11px"},variant:"contained",color:"primary",children:"Get Tags"})]})]})})})}),Object(P.jsxs)(v.a,{children:[Object(P.jsx)(O.a,{onClick:function(){return f()},color:"secondary",children:"Cancel"}),Object(P.jsx)(O.a,{disabled:!!(""===s.trim()|""===i.trim()|void 0===s|void 0===i),onClick:function(){return h()},color:"primary",autoFocus:!0,children:"Create Experiment"})]})]})})},Xe=function e(t){var i="";return Object.keys(t).forEach((function(n){"object"===typeof t[n]?Array.isArray(t[n])?(i+="<dt>".concat(n,"</dt>\n"),i+="<dd>".concat(t[n],"</dd>\n")):i+="<dl>\n"+e(t[n])+"</dl>\n":(i+="<dt>".concat(n,"</dt>\n"),i+="<dd>".concat(t[n],"</dd>\n"))})),i},Qe=i(40),Ze=(i(267),function e(t){var i={};return Object.keys(t).forEach((function(n){"object"!==t[n].type?void 0!==t[n].default?i[n]=t[n].default:void 0===t[n].default&void 0!==t[n].enum?i[n]=t[n].enum[0]:"boolean"===t[n].type&void 0===t[n].default&&(i[n]=!1):void 0!==t[n].properties&&(i[n]=e(t[n].properties))})),i}),et=function e(t){return Object.keys(t).forEach((function(i){t[i]&&"object"===typeof t[i]?void 0===e(t[i])&&delete t[i]:""!==t[i]&&null!==t[i]&&void 0!==t[i]||delete t[i]})),Object.keys(t).length>0||t instanceof Array?t:void 0},tt=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(null),c=Object(o.a)(l,2),p=c[0],h=c[1],f=Object(n.useState)(!1),b=Object(o.a)(f,2),x=b[0],g=b[1],y=Object(n.useState)(null),v=Object(o.a)(y,2),S=v[0],I=v[1],C=Object(n.useState)(!1),T=Object(o.a)(C,2),D=T[0],w=T[1],k=Object(n.useState)(!0),F=Object(o.a)(k,2),N=F[0],R=F[1],L=Object(n.useState)(),W=Object(o.a)(L,2),q=(W[0],W[1]),B=Object(n.useState)(),E=Object(o.a)(B,2),J=E[0],V=E[1],z=Object(n.useState)(!1),U=Object(o.a)(z,2),H=U[0],M=U[1],$=Object(n.useState)(null),G=Object(o.a)($,2),Y=G[0],K=G[1],X=Object(n.useState)(!1),Q=Object(o.a)(X,2),Z=Q[0],ee=Q[1],te=Object(n.useState)({}),ie=Object(o.a)(te,2),ne=ie[0],ae=ie[1],re=Object(n.useState)({}),le=Object(o.a)(re,2),ce=(le[0],le[1],Object(n.useState)("")),de=Object(o.a)(ce,2),oe=de[0],se=de[1],ue=Object(n.useState)(""),pe=Object(o.a)(ue,2),je=pe[0],he=pe[1],fe=Object(n.useState)(""),be=Object(o.a)(fe,2),xe=be[0],ge=be[1],Oe=Object(n.useState)(!1),me=Object(o.a)(Oe,2),ye=me[0],ve=me[1],Se=Object(n.useState)([]),Ie=Object(o.a)(Se,2),Ce=Ie[0],_e=Ie[1],Te=Object(n.useState)([]),De=Object(o.a)(Te,2),we=De[0],ke=De[1],Ae=Object(n.useState)(null),Ne=Object(o.a)(Ae,2),Be=Ne[0],Je=Ne[1],ze=Object(n.useState)(!1),Me=Object(o.a)(ze,2),$e=Me[0],Ye=Me[1],tt=Boolean(Be),it=function(){Je(null)};Object(n.useEffect)((function(){i(124).ajax({type:"GET",url:"/adamant/api/check_mode",success:function(){console.log("Connection to server is established. Online mode"),ve(!0),Qe.b.success("Connection to server is established. Online mode.",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0})},error:function(){console.log("Unable to establish connection to server. Offline mode"),ve(!1),Qe.b.warning("Unable to establish connection to server. Offline mode.",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0})}})}),[]);var nt=Object(n.useCallback)((function(e){!function(e){if("application/json"===e[0].type){var t=new FileReader;t.onabort=function(){return console.log("file reading was aborted")},t.onerror=function(){return console.log("file reading has failed")},t.onload=function(){var i=t.result,n=JSON.parse(i),a=JSON.parse(JSON.stringify(n));try{a.properties=We(n.properties),g(!0),h("".concat(e[0].name," is a valid schema")),I(n);var r=JSON.parse(JSON.stringify(n));V(r),K(a),R(!0);var l=Ze(n.properties);ae(l)}catch(c){console.log(c),g(!1),h("".concat(e[0].name," is invalid")),I(null)}},t.readAsText(e[0])}else g(!1),h("".concat(e[0].name," is of incorrect file type")),I(null)}(e),q(e),w(!1),r(!0),ee(!1),ae({})}),[w]),at=Object(s.a)({onDrop:nt,multiple:!1}),rt=at.getRootProps,lt=at.getInputProps,ct=at.isDragActive,dt=function(){r(!0),w(!1),I(null),g(!1),h(),ee(!1)};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(A.Provider,{value:{updateParent:function(e){var t=Object(d.a)({},e),i=JSON.parse(JSON.stringify(t)),n=JSON.parse(JSON.stringify(t));i.properties=Le(n.properties),K(t),I(i)},convertedSchema:Y,handleDataInput:function(e,t,i){var n,a=Object(d.a)({},ne);["string","number","integer","boolean"].includes(i)?n=["number","integer","boolean"].includes(i)?e:e.target.value:"array"===i&&(n=e),Ve()(a,t,n),console.log("Current form data:",a),ae(a)},updateFormDataId:function(e,t,i,n){if(e!==t)if(void 0===n){var a=Object(d.a)({},ne);a=He(a,i),ae(a),console.log("Current form data:",a)}else{var r=i.split(".");r.pop(),r.push(t);var l=Object(d.a)({},ne),c=_(l,i);Ve()(l,r,c),l=He(l,i),ae(l),console.log("Current form data:",l)}},handleDataDelete:function(e){var t=Object(d.a)({},ne),i=He(t,e);ae(i),console.log("Current form data:",i)}},children:[Object(P.jsxs)("div",{style:{paddingBottom:"5px"},children:[Object(P.jsx)("img",{style:{width:"100%",borderRadius:"5px"},alt:"header",src:u}),H?null:Object(P.jsxs)("div",{style:{display:"flex",width:"100%",textAlign:"left",padding:"10px 10px 0px 10px"},children:[Object(P.jsxs)(O.a,Object(d.a)(Object(d.a)({variant:"contained",color:"primary"},rt()),{},{children:[Object(P.jsx)("input",Object(d.a)({},lt())),ct?"Drop here":"Browse Schema"]})),Object(P.jsx)("div",{style:{paddingLeft:"10px",display:"flex",justifyContent:"center",alignItems:"center"},children:"OR"}),Object(P.jsx)(j.a,{style:{width:"220px",marginLeft:"10px"},fullWidth:!1,select:!0,id:"select-schema",label:"Select existing schema",variant:"outlined",SelectProps:{native:!0},children:["","SEM-request-form","Plasma-MDS","unreasonably long title lalalala..."].map((function(e,t){return Object(P.jsx)("option",{value:e,children:e},t)}))}),Object(P.jsx)("div",{style:{paddingLeft:"10px",display:"flex",justifyContent:"center",alignItems:"center"},children:"OR"}),Object(P.jsx)(O.a,{onClick:function(){return function(){g(!1),h(),ae({});var e=JSON.parse(JSON.stringify({$schema:"http://json-schema.org/draft-04/schema#",properties:{},type:"object"})),t=Ze(e.properties);ae(t),console.log(t);var i=JSON.parse(JSON.stringify(e));i.properties=We(e.properties),ee(!0),I(e);var n=JSON.parse(JSON.stringify(e));V(n),K(i),R(!0),r(!1),w(!0)}()},style:{marginLeft:"10px",marginRight:"10px"},variant:"contained",color:"primary",children:"CREATE FROM SCRATCH"})]})]}),H?null:Object(P.jsxs)("div",{style:{paddingLeft:"10px",display:"flex",width:"100%",textAlign:"left"},children:[!0===x?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{style:{paddingRight:"10px",display:"flex",justifyContent:"center",alignItems:"center",color:"green"},children:[p,". You can now render the form."]}),Object(P.jsx)(O.a,{style:{marginRight:"5px"},onClick:function(){return r(!1),void w(!0)},variant:"outlined",children:"Render"}),Object(P.jsx)(O.a,{onClick:function(){return dt()},variant:"outlined",color:"secondary",children:"Clear"})]}):Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{style:{paddingRight:"10px",paddingTop:"10px",display:"flex",justifyContent:"center",alignItems:"center",color:"red"},children:p})}),!0===Z?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{style:{paddingRight:"10px",display:"flex",justifyContent:"center",alignItems:"center",color:"green"},children:"Create from scratch mode. You can now start editing."}),Object(P.jsx)(O.a,{onClick:function(){return dt()},variant:"outlined",color:"secondary",children:"Clear"})]}):null]}),Object(P.jsx)("div",{style:{padding:"10px"},children:Object(P.jsx)(m.a,{})}),!0===D?Object(P.jsx)(Fe,{revertAllChanges:function(){var e=Object(d.a)({},J),t=JSON.parse(JSON.stringify(e));t.properties=We(e.properties),K(t),I(e);var i=Ze(e.properties);ae(i),console.log(i)},schema:Y,edit:N}):null,!0===D?Object(P.jsx)(Re,{jsonschema:S}):null,Object(P.jsx)("div",{style:{padding:"10px 10px",display:"flex",justifyContent:"right"},children:H?Object(P.jsxs)("div",{style:{width:"100%",display:"inline-block"},children:[Object(P.jsx)(O.a,{onClick:function(){return function(){var e=S;M(!1),I(e),R(!0),r(!1)}()},style:{float:"left",marginRight:"5px"},variant:"outlined",children:"Back to Edit Mode"}),Object(P.jsx)(O.a,{disabled:!ye,onClick:function(){return function(){var e=Object(d.a)({},ne),t=Object(d.a)({},S);void 0===(e=et(e))&&(e={});var i=Ge(e,t),n=Object(o.a)(i,2),a=n[0],r=n[1];if(!a){for(var l="",c=0;c<r.errors.length;c++)l+=r.errors[c].message+".\n";return l=l.split("\n"),Qe.b.error(Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{children:Object(P.jsx)("strong",{children:"Form data is not valid."})}),Object(P.jsx)("div",{style:{paddingBottom:"10px"},children:"Check your inputs!"}),l.map((function(e){return Object(P.jsx)("div",{children:e})}))]}),{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0}),se(""),ge(""),void _e([])}Ye(!0)}()},style:{float:"right"},variant:"contained",color:"primary",children:"Proceed"}),Object(P.jsxs)(O.a,{style:{float:"right",marginRight:"5px"},id:"demo-positioned-button","aria-controls":tt?"demo-positioned-menu":void 0,"aria-haspopup":"true","aria-expanded":tt?"true":void 0,onClick:function(e){Je(e.currentTarget)},children:[Object(P.jsx)(Ee.a,{})," Download Schema/Data"]}),Object(P.jsxs)(qe.a,{id:"demo-positioned-menu","aria-labelledby":"demo-positioned-button",anchorEl:Be,open:tt,onClose:it,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[Object(P.jsx)(Pe.a,{onClick:function(){var e=Object(d.a)({},S),t=Ue.a.SHA256(JSON.stringify(e)),i=document.createElement("a"),n=new Blob([JSON.stringify(e)],{type:"application/json"});i.href=URL.createObjectURL(n),i.download="jsonschema-".concat(t,".json"),i.click(),it()},children:"Download JSON Schema"}),Object(P.jsx)(Pe.a,{onClick:function(){var e=Object(d.a)({},ne),t=Object(d.a)({},S);void 0===(e=et(e))&&(e={}),console.log("content",e);var i=Ge(e,t),n=Object(o.a)(i,2),a=n[0],r=n[1];if(!a){for(var l="",c=0;c<r.errors.length;c++){l+=r.errors[c].message+"."+"\n"}return l=l.split("\n"),void Qe.b.error(Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{children:Object(P.jsx)("strong",{children:"Form data is not valid."})}),Object(P.jsx)("div",{style:{paddingBottom:"10px"},children:"Check your inputs!"}),l.map((function(e){return Object(P.jsx)("div",{children:e})}))]}),{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0})}var s=Ue.a.SHA256(JSON.stringify(e)),u=document.createElement("a"),p=new Blob([JSON.stringify(e)],{type:"application/json"});u.href=URL.createObjectURL(p),u.download="formdata-".concat(s,".json"),u.click(),it()},children:"Download JSON Data"})]})]}):Object(P.jsx)(O.a,{disabled:a,onClick:function(){return function(){var e=S;M(!0),I(e),R(!1),r(!0)}()},variant:"contained",color:"primary",children:"Compile"})}),Object(P.jsx)("div",{style:{padding:"5px"},children:"ADAMANT v0.0.1"})]}),Object(P.jsx)(Ke,{setTags:_e,tags:Ce,setRetrievedTags:ke,retrievedTags:we,setExperimentTitle:ge,createExperimentELabFTW:function(){var e=Object(d.a)({},ne),t=Object(d.a)({},S);void 0===(e=et(e))&&(e={});var n=Ge(e,t),a=Object(o.a)(n,2),r=a[0],l=a[1];if(!r){for(var c="",s=0;s<l.errors.length;s++){c+=l.errors[s].message+"."+"\n"}return c=c.split("\n"),Qe.b.error(Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{children:Object(P.jsx)("strong",{children:"Form data is not valid."})}),Object(P.jsx)("div",{style:{paddingBottom:"10px"},children:"Check your inputs!"}),c.map((function(e){return Object(P.jsx)("div",{children:e})}))]}),{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0}),se(""),ge(""),void _e([])}var u="<dl>\n"+Xe(JSON.parse(JSON.stringify(e)))+"</dl>";console.log("tags:",Ce),i(124).ajax({type:"POST",url:"/adamant/api/create_experiment",dataType:"json",data:{javascript_data:JSON.stringify(e),schema:JSON.stringify(t),eLabURL:je,eLabToken:oe,title:xe,body:u,tags:JSON.stringify(Ce)},success:function(e){console.log("SUCCESS"),console.log(e),Ye(!1),Qe.b.success("Successfully created an experiment with id: ".concat(e.experimentId,"!"),{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0}),se(""),ge(""),ke([]),_e([])},error:function(e){console.log("ERROR"),console.log(e),Ye(!1),Qe.b.error("Failed to create an experiment!\nMaybe wrong url or token?",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0}),se(""),ge(""),ke([]),_e([])}})},setToken:se,token:oe,setELabURL:he,eLabURL:je,setOpenSubmitDialog:Ye,openSubmitDialog:$e,getTagsELabFTW:function(){i(124).ajax({type:"POST",url:"/adamant/api/get_tags",dataType:"json",data:{eLabURL:je,eLabToken:oe},success:function(e){console.log("Tags retrieved successfully"),ke(e),Qe.b.success("Successfully retrieved the tags!",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0})},error:function(e){console.log("Failed to retrieve tags"),console.log(e),Qe.b.error("Failed to get the tags!\nMaybe wrong url or token?",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0})}})}}),Object(P.jsx)(Qe.a,{})]})};i(268);function it(){return Object(P.jsx)("div",{className:"the_app",children:Object(P.jsxs)(c.d,{children:[Object(P.jsx)(c.a,{exact:!0,from:"/",to:"/adamant"}),Object(P.jsx)(c.b,{exact:!0,path:"/adamant",component:tt})]})})}var nt=i(327),at=document.getElementById("root");r.a.render(Object(P.jsxs)(l.a,{children:[Object(P.jsx)(nt.a,{}),Object(P.jsx)(it,{})]}),at)}},[[273,1,2]]]);
//# sourceMappingURL=main.eaae7d0e.chunk.js.map